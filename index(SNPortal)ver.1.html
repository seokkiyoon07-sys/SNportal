<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SN Portal</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/lucide@latest"></script>
  <style>
    .page { display: none; }
    .page.active { display: block; }
  </style>
</head>
<body class="min-h-screen bg-neutral-50">
  <header class="sticky top-0 z-30 border-b bg-white/80 backdrop-blur">
    <div class="mx-auto flex max-w-7xl items-center justify-between px-4 py-3">
      <div class="flex items-center gap-2">
        <div class="h-8 w-8 rounded-xl bg-black"></div>
        <div class="text-lg font-semibold">SN Portal</div>
        <span class="hidden rounded-full border px-2 py-0.5 text-xs text-neutral-600 md:inline-block">Beta</span>
      </div>
      <div class="flex items-center gap-2">
        <button onclick="openCartModal()" class="relative p-2 rounded-lg hover:bg-gray-100">
          <i data-lucide="shopping-cart" class="w-5 h-5"></i>
          <span id="cart-count" class="absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center hidden">0</span>
        </button>
        <button class="px-3 py-2 text-sm rounded-xl border">로그인</button>
      </div>
    </div>
  </header>

  <div class="mx-auto grid max-w-7xl grid-cols-1 gap-6 px-4 py-6 md:grid-cols-[260px_1fr] lg:grid-cols-[260px_1fr]">
    <aside class="hidden md:block">
      <nav id="sidebar" class="space-y-4"></nav>
    </aside>
    <main id="main-content" class="space-y-6 min-w-0">
      <section class="page active" id="page-home">
        <div class="space-y-6">
          <div class="grid gap-6 md:grid-cols-3">
            <div class="md:col-span-2 rounded-2xl border bg-white">
              <div class="p-6 border-b flex items-center justify-between">
                <h3 class="text-lg font-semibold">학원 공지사항</h3>
                <a href="#/comm-notice" class="text-sm text-blue-600">더보기</a>
              </div>
              <div class="p-6 text-sm text-neutral-700 space-y-3">
                <div class="flex items-start gap-2">
                  <i data-lucide="megaphone" class="w-4 h-4 text-neutral-500 mt-0.5"></i>
                  <div>
                    <div class="font-medium">포털 베타 오픈</div>
                    <div class="text-xs text-neutral-500">2025-09-18</div>
                  </div>
                </div>
                <div class="flex items-start gap-2">
                  <i data-lucide="megaphone" class="w-4 h-4 text-neutral-500 mt-0.5"></i>
                  <div>
                    <div class="font-medium">OCR 채점 시스템 안내</div>
                    <div class="text-xs text-neutral-500">2025-09-17</div>
                  </div>
                </div>
                <div class="flex items-start gap-2">
                  <i data-lucide="megaphone" class="w-4 h-4 text-neutral-500 mt-0.5"></i>
                  <div>
                    <div class="font-medium">생활관 외출 규정 변경</div>
                    <div class="text-xs text-neutral-500">2025-09-16</div>
                  </div>
                </div>
              </div>
            </div>
            <div class="rounded-2xl border bg-white">
              <div class="p-6 border-b">
                <h3 class="text-lg font-semibold">오늘의 일정</h3>
              </div>
              <div class="p-6 text-sm space-y-3">
                <div class="flex items-center justify-between"><div class="text-neutral-600">등원시간</div><div class="font-semibold" id="time-arrival">08:10</div></div>
                <div class="flex items-center justify-between"><div class="text-neutral-600">하원예정시간</div><div class="font-semibold" id="time-leave">22:00</div></div>
                <div class="flex items-center justify-between"><div class="text-neutral-600">외출예정시간</div><div class="font-semibold" id="time-outing">-</div></div>
                <div class="flex items-center justify-between"><div class="text-neutral-600">점심시간</div><div class="font-semibold" id="time-lunch">12:30 ~ 13:20</div></div>
                <div class="flex items-center justify-between"><div class="text-neutral-600">저녁시간</div><div class="font-semibold" id="time-dinner">18:00 ~ 18:50</div></div>
              </div>
            </div>
          </div>
          <div class="rounded-2xl border bg-white">
            <div class="p-6 border-b flex items-center justify-between">
              <h3 class="text-lg font-semibold">내 학습 패턴</h3>
              <span class="text-xs text-neutral-500">간트차트 영역</span>
            </div>
            <div class="p-6">
              <div class="h-56 grid place-items-center rounded-xl bg-neutral-100 text-neutral-500 text-sm">
                간트차트(이미지/그래프) 영역
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- 일정 페이지 -->
      <section class="page" id="page-schedule">
        <div class="space-y-6">
          <div class="mb-2">
            <h2 class="text-xl font-semibold">일정</h2>
            <p class="text-sm text-neutral-600">학원 일정과 시간표를 확인할 수 있습니다.</p>
          </div>
          
          <!-- 달력 섹션 -->
          <div class="rounded-2xl border bg-white">
            <div class="p-6 border-b">
              <div class="flex items-center justify-between">
                <h3 class="text-lg font-semibold">학원 달력</h3>
                <div class="flex items-center gap-2">
                  <select id="year-select" class="px-3 py-1 text-sm border rounded-lg">
                    <option value="2024">2024</option>
                    <option value="2025" selected>2025</option>
                  </select>
                  <select id="month-select" class="px-3 py-1 text-sm border rounded-lg">
                    <option value="0">1월</option>
                    <option value="1">2월</option>
                    <option value="2">3월</option>
                    <option value="3">4월</option>
                    <option value="4">5월</option>
                    <option value="5">6월</option>
                    <option value="6">7월</option>
                    <option value="7">8월</option>
                    <option value="8" selected>9월</option>
                    <option value="9">10월</option>
                    <option value="10">11월</option>
                    <option value="11">12월</option>
                  </select>
                </div>
              </div>
            </div>
            <div class="p-6">
              <div id="calendar-container">
                <!-- 달력이 여기에 동적으로 생성됩니다 -->
              </div>
            </div>
          </div>

          <!-- 시간표 섹션 (에브리타임 스타일) -->
          <div class="rounded-2xl border bg-white">
            <div class="p-6 border-b">
              <div class="flex items-center justify-between">
                <h3 class="text-lg font-semibold">주간 시간표</h3>
                <div class="flex items-center gap-2">
                  <label class="text-sm text-neutral-600">주차 선택:</label>
                  <select id="week-selector" class="px-3 py-1 text-sm border rounded-lg" onchange="loadSchedule()">
                    <option value="current" selected>이번 주</option>
                    <option value="next">다음 주</option>
                    <option value="previous">지난 주</option>
                  </select>
                </div>
              </div>
            </div>
            <div class="p-6">
              <!-- 에브리타임 스타일 시간표 -->
              <div class="relative">
                <!-- 시간표 헤더 -->
                <div class="grid grid-cols-6 gap-0 text-sm border border-gray-200 rounded-t-lg overflow-hidden">
                  <div class="bg-gray-50 text-center font-medium py-3 text-gray-700 border-r">시간</div>
                  <div class="bg-gray-50 text-center font-medium py-3 text-gray-700 border-r">월</div>
                  <div class="bg-gray-50 text-center font-medium py-3 text-gray-700 border-r">화</div>
                  <div class="bg-gray-50 text-center font-medium py-3 text-gray-700 border-r">수</div>
                  <div class="bg-gray-50 text-center font-medium py-3 text-gray-700 border-r">목</div>
                  <div class="bg-gray-50 text-center font-medium py-3 text-gray-700">금</div>
                </div>
                
                <!-- 시간표 그리드 -->
                <div id="schedule-grid" class="grid grid-cols-6 gap-0 border-l border-r border-b border-gray-200 rounded-b-lg overflow-hidden">
                  <!-- 시간표가 여기에 동적으로 생성됩니다 -->
                </div>
              </div>
              
              <!-- 시간표 사용법 안내 -->
              <div class="mt-4 p-4 bg-blue-50 rounded-lg">
                <div class="flex items-start gap-2">
                  <i data-lucide="info" class="w-4 h-4 text-blue-600 mt-0.5"></i>
                  <div class="text-sm text-blue-800">
                    <div class="font-medium mb-1">시간표 사용법</div>
                    <div class="text-xs text-blue-600">
                      • 시간대를 클릭하여 수업을 추가하거나 수정할 수 있습니다<br>
                      • 15분 단위로 정확한 시간을 설정할 수 있습니다<br>
                      • 드래그하여 여러 시간대를 한 번에 선택할 수 있습니다
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- 상담일지 페이지 -->
      <section class="page" id="page-learn-consultation">
        <div class="space-y-6" style="contain: layout;">
          <div class="mb-2">
            <h2 class="text-xl font-semibold">상담일지</h2>
            <p class="text-sm text-neutral-600">선생님과의 주간 상담 내용을 확인할 수 있습니다.</p>
          </div>
          
          <!-- 주차 선택 -->
          <div class="rounded-2xl border bg-white p-6">
            <div class="flex items-center justify-between mb-4">
              <h3 class="text-lg font-semibold">상담 주차</h3>
              <div class="flex items-center gap-2">
                <button class="px-3 py-1 text-sm border rounded-lg hover:bg-gray-50">이전 주</button>
                <span class="px-4 py-2 text-sm font-medium bg-blue-100 text-blue-800 rounded-lg">2025년 1월 3주차</span>
                <button class="px-3 py-1 text-sm border rounded-lg hover:bg-gray-50">다음 주</button>
              </div>
            </div>
            <div class="text-sm text-gray-600">
              <div class="flex items-center gap-2">
                <i data-lucide="calendar" class="w-4 h-4"></i>
                <span>상담일: 2025년 1월 15일 (수요일)</span>
              </div>
            </div>
          </div>

          <!-- 과목별 탭 -->
          <div class="rounded-2xl border bg-white">
            <div class="p-6 border-b">
              <div class="flex space-x-1 bg-gray-100 p-1 rounded-lg overflow-x-auto">
                <button id="consultation-tab-all" onclick="switchConsultationTab('all')" class="flex-shrink-0 px-4 py-2 text-sm font-medium rounded-md bg-white text-gray-900 shadow-sm transition-all">
                  <i data-lucide="grid-3x3" class="w-4 h-4 inline mr-2"></i>
                  전체
                </button>
                <button id="consultation-tab-korean" onclick="switchConsultationTab('korean')" class="flex-shrink-0 px-4 py-2 text-sm font-medium rounded-md text-gray-500 hover:text-gray-700 transition-all">
                  <i data-lucide="book-open" class="w-4 h-4 inline mr-2"></i>
                  국어
                </button>
                <button id="consultation-tab-math" onclick="switchConsultationTab('math')" class="flex-shrink-0 px-4 py-2 text-sm font-medium rounded-md text-gray-500 hover:text-gray-700 transition-all">
                  <i data-lucide="calculator" class="w-4 h-4 inline mr-2"></i>
                  수학
                </button>
                <button id="consultation-tab-english" onclick="switchConsultationTab('english')" class="flex-shrink-0 px-4 py-2 text-sm font-medium rounded-md text-gray-500 hover:text-gray-700 transition-all">
                  <i data-lucide="globe" class="w-4 h-4 inline mr-2"></i>
                  영어
                </button>
                <button id="consultation-tab-inquiry1" onclick="switchConsultationTab('inquiry1')" class="flex-shrink-0 px-4 py-2 text-sm font-medium rounded-md text-gray-500 hover:text-gray-700 transition-all">
                  <i data-lucide="flask-conical" class="w-4 h-4 inline mr-2"></i>
                  탐구1
                </button>
                <button id="consultation-tab-inquiry2" onclick="switchConsultationTab('inquiry2')" class="flex-shrink-0 px-4 py-2 text-sm font-medium rounded-md text-gray-500 hover:text-gray-700 transition-all">
                  <i data-lucide="atom" class="w-4 h-4 inline mr-2"></i>
                  탐구2
                </button>
              </div>
            </div>

            <!-- 전체 탭 내용 -->
            <div id="consultation-content-all" class="p-6">
              <div class="space-y-6">
                <!-- 학생 기본 정보 -->
                <div class="rounded-2xl border bg-white">
                  <div class="p-6 border-b">
                    <h3 class="text-lg font-semibold">학생 정보</h3>
                  </div>
                  <div class="p-6">
                    <div class="grid gap-4 md:grid-cols-2 lg:grid-cols-4">
                      <div class="text-center p-4 bg-blue-50 rounded-xl">
                        <div class="text-2xl font-bold text-blue-600">3학년</div>
                        <div class="text-sm text-blue-800">현재 학년</div>
                      </div>
                      <div class="text-center p-4 bg-green-50 rounded-xl">
                        <div class="text-2xl font-bold text-green-600">서울대</div>
                        <div class="text-sm text-green-800">목표 대학</div>
                      </div>
                      <div class="text-center p-4 bg-purple-50 rounded-xl">
                        <div class="text-2xl font-bold text-purple-600">의예과</div>
                        <div class="text-sm text-purple-800">목표 전공</div>
                      </div>
                      <div class="text-center p-4 bg-orange-50 rounded-xl">
                        <div class="text-2xl font-bold text-orange-600">1350</div>
                        <div class="text-sm text-orange-800">현재 SAT 점수</div>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- 학습 패턴 분석 -->
                <div class="rounded-2xl border bg-white">
                  <div class="p-6 border-b">
                    <h3 class="text-lg font-semibold">학습 패턴 분석</h3>
                  </div>
                  <div class="p-6">
                    <div class="grid gap-6 md:grid-cols-2">
                      <div>
                        <h4 class="font-medium text-gray-900 mb-3">학습 습관</h4>
                        <div class="space-y-3">
                          <div class="flex justify-between items-center">
                            <span class="text-sm text-gray-600">선호 학습 시간</span>
                            <span class="text-sm font-medium">저녁 7-10시</span>
                          </div>
                          <div class="flex justify-between items-center">
                            <span class="text-sm text-gray-600">학습 세션 시간</span>
                            <span class="text-sm font-medium">90분</span>
                          </div>
                          <div class="flex justify-between items-center">
                            <span class="text-sm text-gray-600">휴식 패턴</span>
                            <span class="text-sm font-medium">25분 공부 + 5분 휴식</span>
                          </div>
                        </div>
                      </div>
                      <div>
                        <h4 class="font-medium text-gray-900 mb-3">성과 지표</h4>
                        <div class="space-y-3">
                          <div class="flex justify-between items-center">
                            <span class="text-sm text-gray-600">출석률</span>
                            <span class="text-sm font-medium text-green-600">95%</span>
                          </div>
                          <div class="flex justify-between items-center">
                            <span class="text-sm text-gray-600">과제 완성도</span>
                            <span class="text-sm font-medium text-blue-600">88%</span>
                          </div>
                          <div class="flex justify-between items-center">
                            <span class="text-sm text-gray-600">개선율</span>
                            <span class="text-sm font-medium text-purple-600">+12%</span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- 국어 상담일지 -->
                <div class="rounded-2xl border bg-white">
                  <div class="p-6 border-b bg-red-50">
                    <div class="flex items-center gap-3">
                      <div class="w-10 h-10 rounded-lg bg-red-100 flex items-center justify-center">
                        <i data-lucide="book-open" class="w-5 h-5 text-red-600"></i>
                      </div>
                      <div>
                        <h3 class="text-lg font-semibold text-red-900">국어</h3>
                        <p class="text-sm text-red-700">김영희 선생님</p>
                      </div>
                    </div>
                  </div>
                  <div class="p-6 space-y-6">
                    <!-- 이번 주 수행 내용 -->
                    <div>
                      <h4 class="font-medium text-gray-900 mb-3">이번 주 수행한 내용</h4>
                      <div class="grid gap-4 md:grid-cols-2">
                        <div class="space-y-2">
                          <div class="text-sm font-medium text-gray-700">완료한 주제</div>
                          <div class="text-sm text-gray-600">문학 작품 분석, 독서 감상문, 문법 문제</div>
                        </div>
                        <div class="space-y-2">
                          <div class="text-sm font-medium text-gray-700">학습 시간</div>
                          <div class="text-sm text-gray-600">15시간</div>
                        </div>
                        <div class="space-y-2">
                          <div class="text-sm font-medium text-gray-700">과제 완성도</div>
                          <div class="text-sm text-gray-600">85%</div>
                        </div>
                        <div class="space-y-2">
                          <div class="text-sm font-medium text-gray-700">퀴즈 점수</div>
                          <div class="text-sm text-gray-600">85, 92, 78점</div>
                        </div>
                      </div>
                    </div>
                    
                    <!-- 다음 주 계획 -->
                    <div>
                      <h4 class="font-medium text-gray-900 mb-3">다음 주 계획</h4>
                      <div class="grid gap-4 md:grid-cols-2">
                        <div class="space-y-2">
                          <div class="text-sm font-medium text-gray-700">목표 주제</div>
                          <div class="text-sm text-gray-600">현대 문학, 작문 연습, 어휘력 향상</div>
                        </div>
                        <div class="space-y-2">
                          <div class="text-sm font-medium text-gray-700">계획 학습 시간</div>
                          <div class="text-sm text-gray-600">18시간</div>
                        </div>
                      </div>
                    </div>

                    <!-- 선생님 피드백 -->
                    <div class="bg-gray-50 p-4 rounded-xl">
                      <h4 class="font-medium text-gray-900 mb-3">선생님 피드백</h4>
                      <div class="grid gap-4 md:grid-cols-3">
                        <div>
                          <div class="text-sm font-medium text-green-700 mb-1">강점</div>
                          <div class="text-sm text-gray-600">문학 이해도 높음, 작문 실력 향상</div>
                        </div>
                        <div>
                          <div class="text-sm font-medium text-orange-700 mb-1">개선점</div>
                          <div class="text-sm text-gray-600">문법 정확도, 독해 속도</div>
                        </div>
                        <div>
                          <div class="text-sm font-medium text-blue-700 mb-1">추천사항</div>
                          <div class="text-sm text-gray-600">기출문제 집중 풀이, 시간 제한 연습</div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

            <!-- 수학 상담일지 -->
            <div class="rounded-2xl border bg-white">
              <div class="p-6 border-b bg-blue-50">
                <div class="flex items-center gap-3">
                  <div class="w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center">
                    <i data-lucide="calculator" class="w-5 h-5 text-blue-600"></i>
                  </div>
                  <div>
                    <h3 class="text-lg font-semibold text-blue-900">수학</h3>
                    <p class="text-sm text-blue-700">박수학 선생님</p>
                  </div>
                </div>
              </div>
              <div class="p-6 space-y-4">
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">이번 주 수행한 내용</label>
                  <div class="p-4 bg-gray-50 rounded-lg text-sm">
                    <p>• 미적분 기초 개념 정리</p>
                    <p>• 함수의 극한과 연속성 문제 풀이</p>
                    <p>• 도함수 계산 연습 (30문제)</p>
                    <p>• 적분 기본 공식 암기</p>
                  </div>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">다음 주 계획</label>
                  <div class="p-4 bg-blue-50 rounded-lg text-sm">
                    <p>• 미분법의 응용 문제 연습</p>
                    <p>• 적분의 기본 정리 학습</p>
                    <p>• 기하와 벡터 연결 학습</p>
                    <p>• 수학적 사고력 향상 문제</p>
                  </div>
                </div>
              </div>
            </div>

            <!-- 영어 상담일지 -->
            <div class="rounded-2xl border bg-white">
              <div class="p-6 border-b bg-purple-50">
                <div class="flex items-center gap-3">
                  <div class="w-10 h-10 rounded-lg bg-purple-100 flex items-center justify-center">
                    <i data-lucide="globe" class="w-5 h-5 text-purple-600"></i>
                  </div>
                  <div>
                    <h3 class="text-lg font-semibold text-purple-900">영어</h3>
                    <p class="text-sm text-purple-700">이영어 선생님</p>
                  </div>
                </div>
              </div>
              <div class="p-6 space-y-4">
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">이번 주 수행한 내용</label>
                  <div class="p-4 bg-gray-50 rounded-lg text-sm">
                    <p>• 영어 독해 실전 문제 20개 풀이</p>
                    <p>• 어법 문제 유형별 정리</p>
                    <p>• 영어 단어 암기 (200개)</p>
                    <p>• 영어 듣기 실전 연습</p>
                  </div>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">다음 주 계획</label>
                  <div class="p-4 bg-blue-50 rounded-lg text-sm">
                    <p>• 영어 문법 심화 학습</p>
                    <p>• 독해 속도 향상 훈련</p>
                    <p>• 영어 작문 실력 향상</p>
                    <p>• 실전 모의고사 연습</p>
                  </div>
                </div>
              </div>
            </div>

            <!-- 탐구1 상담일지 -->
            <div class="rounded-2xl border bg-white">
              <div class="p-6 border-b bg-orange-50">
                <div class="flex items-center gap-3">
                  <div class="w-10 h-10 rounded-lg bg-orange-100 flex items-center justify-center">
                    <i data-lucide="flask-conical" class="w-5 h-5 text-orange-600"></i>
                  </div>
                  <div>
                    <h3 class="text-lg font-semibold text-orange-900">탐구1</h3>
                    <p class="text-sm text-orange-700">최과학 선생님</p>
                  </div>
                </div>
              </div>
              <div class="p-6 space-y-4">
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">이번 주 수행한 내용</label>
                  <div class="p-4 bg-gray-50 rounded-lg text-sm">
                    <p>• 물리학 기초 개념 정리</p>
                    <p>• 역학 문제 풀이 연습</p>
                    <p>• 실험 원리 이해 및 적용</p>
                    <p>• 기출 문제 분석 (5년간)</p>
                  </div>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">다음 주 계획</label>
                  <div class="p-4 bg-blue-50 rounded-lg text-sm">
                    <p>• 전자기학 개념 학습</p>
                    <p>• 파동과 진동 문제 연습</p>
                    <p>• 현대 물리학 기초</p>
                    <p>• 실전 문제 풀이</p>
                  </div>
                </div>
              </div>
            </div>

            <!-- 탐구2 상담일지 -->
            <div class="rounded-2xl border bg-white">
              <div class="p-6 border-b bg-green-50">
                <div class="flex items-center gap-3">
                  <div class="w-10 h-10 rounded-lg bg-green-100 flex items-center justify-center">
                    <i data-lucide="atom" class="w-5 h-5 text-green-600"></i>
                  </div>
                  <div>
                    <h3 class="text-lg font-semibold text-green-900">탐구2</h3>
                    <p class="text-sm text-green-700">정화학 선생님</p>
                  </div>
                </div>
              </div>
              <div class="p-6 space-y-4">
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">이번 주 수행한 내용</label>
                  <div class="p-4 bg-gray-50 rounded-lg text-sm">
                    <p>• 화학 결합 이론 학습</p>
                    <p>• 산화-환원 반응 연습</p>
                    <p>• 유기화학 기초 개념</p>
                    <p>• 화학 계산 문제 풀이</p>
                  </div>
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">다음 주 계획</label>
                  <div class="p-4 bg-blue-50 rounded-lg text-sm">
                    <p>• 화학 평형 개념 학습</p>
                    <p>• 산-염기 반응 심화</p>
                    <p>• 유기화학 반응 메커니즘</p>
                    <p>• 실전 문제 풀이</p>
                  </div>
                </div>
              </div>
            </div>
          </div>

                <!-- AI 진단 및 솔루션 -->
                <div class="rounded-2xl border bg-white">
                  <div class="p-6 border-b">
                    <h3 class="text-lg font-semibold">AI 진단 및 솔루션</h3>
                  </div>
                  <div class="p-6 space-y-6">
                    <!-- 학습 패턴 분석 -->
                    <div>
                      <h4 class="font-medium text-gray-900 mb-3">학습 패턴 분석</h4>
                      <div class="grid gap-4 md:grid-cols-2">
                        <div class="bg-blue-50 p-4 rounded-xl">
                          <div class="text-sm font-medium text-blue-800 mb-2">효율적인 학습 방법</div>
                          <div class="text-sm text-blue-700">저녁 시간 집중도가 높으므로 중요한 과목을 저녁에 배치하세요</div>
                        </div>
                        <div class="bg-green-50 p-4 rounded-xl">
                          <div class="text-sm font-medium text-green-800 mb-2">개선 권장사항</div>
                          <div class="text-sm text-green-700">탐구 과목 집중도가 낮으므로 학습 환경 개선이 필요합니다</div>
                        </div>
                      </div>
                    </div>

                    <!-- 약점 진단 -->
                    <div>
                      <h4 class="font-medium text-gray-900 mb-3">약점 진단</h4>
                      <div class="grid gap-4 md:grid-cols-3">
                        <div class="bg-red-50 p-4 rounded-xl">
                          <div class="text-sm font-medium text-red-800 mb-2">수학</div>
                          <div class="text-sm text-red-700">문제 해결 속도 향상 필요</div>
                        </div>
                        <div class="bg-orange-50 p-4 rounded-xl">
                          <div class="text-sm font-medium text-orange-800 mb-2">탐구1</div>
                          <div class="text-sm text-orange-700">공식 암기 및 계산 정확도</div>
                        </div>
                        <div class="bg-yellow-50 p-4 rounded-xl">
                          <div class="text-sm font-medium text-yellow-800 mb-2">탐구2</div>
                          <div class="text-sm text-yellow-700">문제 해결 속도 및 분석력</div>
                        </div>
                      </div>
                    </div>

                    <!-- 개인화된 학습 계획 -->
                    <div>
                      <h4 class="font-medium text-gray-900 mb-3">개인화된 학습 계획</h4>
                      <div class="bg-gray-50 p-4 rounded-xl">
                        <div class="space-y-3">
                          <div class="flex items-center gap-2">
                            <i data-lucide="clock" class="w-4 h-4 text-blue-600"></i>
                            <span class="text-sm font-medium">시간 관리</span>
                          </div>
                          <div class="text-sm text-gray-700 ml-6">저녁 7-10시에 수학, 영어 집중 학습</div>
                          
                          <div class="flex items-center gap-2">
                            <i data-lucide="target" class="w-4 h-4 text-green-600"></i>
                            <span class="text-sm font-medium">목표 설정</span>
                          </div>
                          <div class="text-sm text-gray-700 ml-6">주간 학습 시간 20시간 달성, 모든 과목 균형 학습</div>
                          
                          <div class="flex items-center gap-2">
                            <i data-lucide="trending-up" class="w-4 h-4 text-purple-600"></i>
                            <span class="text-sm font-medium">개선 전략</span>
                          </div>
                          <div class="text-sm text-gray-700 ml-6">탐구 과목 집중도 향상을 위한 학습 환경 개선</div>
                        </div>
                      </div>
                    </div>

                    <!-- 동기 부여 전략 -->
                    <div>
                      <h4 class="font-medium text-gray-900 mb-3">동기 부여 전략</h4>
                      <div class="grid gap-4 md:grid-cols-2">
                        <div class="bg-purple-50 p-4 rounded-xl">
                          <div class="text-sm font-medium text-purple-800 mb-2">내재적 동기</div>
                          <div class="text-sm text-purple-700">의예과 진학 목표를 구체적으로 시각화하여 학습 동기 유지</div>
                        </div>
                        <div class="bg-pink-50 p-4 rounded-xl">
                          <div class="text-sm font-medium text-pink-800 mb-2">외재적 동기</div>
                          <div class="text-sm text-pink-700">주간 목표 달성 시 작은 보상 시스템 도입</div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- 국어 탭 내용 -->
            <div id="consultation-content-korean" class="p-6 hidden">
              <div class="space-y-6">
                <!-- 국어 상담일지 -->
                <div class="rounded-2xl border bg-white">
                  <div class="p-6 border-b bg-red-50">
                    <div class="flex items-center gap-3">
                      <div class="w-10 h-10 rounded-lg bg-red-100 flex items-center justify-center">
                        <i data-lucide="book-open" class="w-5 h-5 text-red-600"></i>
                      </div>
                      <div>
                        <h3 class="text-lg font-semibold text-red-900">국어</h3>
                        <p class="text-sm text-red-700">김영희 선생님</p>
                      </div>
                    </div>
                  </div>
                  <div class="p-6 space-y-4">
                    <div>
                      <label class="block text-sm font-medium text-gray-700 mb-2">이번 주 수행한 내용</label>
                      <div class="p-4 bg-gray-50 rounded-lg text-sm">
                        <p>• 문학 작품 분석 연습 (현대시 3편)</p>
                        <p>• 독서 감상문 작성 (고전 소설 1편)</p>
                        <p>• 어휘력 향상을 위한 단어 암기 (50개)</p>
                        <p>• 기출 문제 풀이 (2023년 수능 국어)</p>
                      </div>
                    </div>
                    <div>
                      <label class="block text-sm font-medium text-gray-700 mb-2">다음 주 계획</label>
                      <div class="p-4 bg-blue-50 rounded-lg text-sm">
                        <p>• 문학 이론 정리 및 적용 연습</p>
                        <p>• 비문학 독해 속도 향상 훈련</p>
                        <p>• 작문 실력 향상을 위한 연습</p>
                        <p>• 모의고사 실전 연습 (2회)</p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- 수학 탭 내용 -->
            <div id="consultation-content-math" class="p-6 hidden">
              <div class="space-y-6">
                <!-- 수학 상담일지 -->
                <div class="rounded-2xl border bg-white">
                  <div class="p-6 border-b bg-blue-50">
                    <div class="flex items-center gap-3">
                      <div class="w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center">
                        <i data-lucide="calculator" class="w-5 h-5 text-blue-600"></i>
                      </div>
                      <div>
                        <h3 class="text-lg font-semibold text-blue-900">수학</h3>
                        <p class="text-sm text-blue-700">박수학 선생님</p>
                      </div>
                    </div>
                  </div>
                  <div class="p-6 space-y-4">
                    <div>
                      <label class="block text-sm font-medium text-gray-700 mb-2">이번 주 수행한 내용</label>
                      <div class="p-4 bg-gray-50 rounded-lg text-sm">
                        <p>• 미적분 기초 개념 정리</p>
                        <p>• 함수의 극한과 연속성 문제 풀이</p>
                        <p>• 도함수 계산 연습 (30문제)</p>
                        <p>• 적분 기본 공식 암기</p>
                      </div>
                    </div>
                    <div>
                      <label class="block text-sm font-medium text-gray-700 mb-2">다음 주 계획</label>
                      <div class="p-4 bg-blue-50 rounded-lg text-sm">
                        <p>• 미분법의 응용 문제 연습</p>
                        <p>• 적분의 기본 정리 학습</p>
                        <p>• 기하와 벡터 연결 학습</p>
                        <p>• 수학적 사고력 향상 문제</p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- 영어 탭 내용 -->
            <div id="consultation-content-english" class="p-6 hidden">
              <div class="space-y-6">
                <!-- 영어 상담일지 -->
                <div class="rounded-2xl border bg-white">
                  <div class="p-6 border-b bg-purple-50">
                    <div class="flex items-center gap-3">
                      <div class="w-10 h-10 rounded-lg bg-purple-100 flex items-center justify-center">
                        <i data-lucide="globe" class="w-5 h-5 text-purple-600"></i>
                      </div>
                      <div>
                        <h3 class="text-lg font-semibold text-purple-900">영어</h3>
                        <p class="text-sm text-purple-700">이영어 선생님</p>
                      </div>
                    </div>
                  </div>
                  <div class="p-6 space-y-4">
                    <div>
                      <label class="block text-sm font-medium text-gray-700 mb-2">이번 주 수행한 내용</label>
                      <div class="p-4 bg-gray-50 rounded-lg text-sm">
                        <p>• 영어 독해 실전 문제 20개 풀이</p>
                        <p>• 어법 문제 유형별 정리</p>
                        <p>• 영어 단어 암기 (200개)</p>
                        <p>• 영어 듣기 실전 연습</p>
                      </div>
                    </div>
                    <div>
                      <label class="block text-sm font-medium text-gray-700 mb-2">다음 주 계획</label>
                      <div class="p-4 bg-blue-50 rounded-lg text-sm">
                        <p>• 영어 문법 심화 학습</p>
                        <p>• 독해 속도 향상 훈련</p>
                        <p>• 영어 작문 실력 향상</p>
                        <p>• 실전 모의고사 연습</p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- 탐구1 탭 내용 -->
            <div id="consultation-content-inquiry1" class="p-6 hidden">
              <div class="space-y-6">
                <!-- 탐구1 상담일지 -->
                <div class="rounded-2xl border bg-white">
                  <div class="p-6 border-b bg-orange-50">
                    <div class="flex items-center gap-3">
                      <div class="w-10 h-10 rounded-lg bg-orange-100 flex items-center justify-center">
                        <i data-lucide="flask-conical" class="w-5 h-5 text-orange-600"></i>
                      </div>
                      <div>
                        <h3 class="text-lg font-semibold text-orange-900">탐구1</h3>
                        <p class="text-sm text-orange-700">최과학 선생님</p>
                      </div>
                    </div>
                  </div>
                  <div class="p-6 space-y-4">
                    <div>
                      <label class="block text-sm font-medium text-gray-700 mb-2">이번 주 수행한 내용</label>
                      <div class="p-4 bg-gray-50 rounded-lg text-sm">
                        <p>• 물리학 기초 개념 정리</p>
                        <p>• 역학 문제 풀이 연습</p>
                        <p>• 실험 원리 이해 및 적용</p>
                        <p>• 기출 문제 분석 (5년간)</p>
                      </div>
                    </div>
                    <div>
                      <label class="block text-sm font-medium text-gray-700 mb-2">다음 주 계획</label>
                      <div class="p-4 bg-blue-50 rounded-lg text-sm">
                        <p>• 전자기학 개념 학습</p>
                        <p>• 파동과 진동 문제 연습</p>
                        <p>• 현대 물리학 기초</p>
                        <p>• 실전 문제 풀이</p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- 탐구2 탭 내용 -->
            <div id="consultation-content-inquiry2" class="p-6 hidden">
              <div class="space-y-6">
                <!-- 탐구2 상담일지 -->
                <div class="rounded-2xl border bg-white">
                  <div class="p-6 border-b bg-green-50">
                    <div class="flex items-center gap-3">
                      <div class="w-10 h-10 rounded-lg bg-green-100 flex items-center justify-center">
                        <i data-lucide="atom" class="w-5 h-5 text-green-600"></i>
                      </div>
                      <div>
                        <h3 class="text-lg font-semibold text-green-900">탐구2</h3>
                        <p class="text-sm text-green-700">정화학 선생님</p>
                      </div>
                    </div>
                  </div>
                  <div class="p-6 space-y-4">
                    <div>
                      <label class="block text-sm font-medium text-gray-700 mb-2">이번 주 수행한 내용</label>
                      <div class="p-4 bg-gray-50 rounded-lg text-sm">
                        <p>• 화학 결합 이론 학습</p>
                        <p>• 산화-환원 반응 연습</p>
                        <p>• 유기화학 기초 개념</p>
                        <p>• 화학 계산 문제 풀이</p>
                      </div>
                    </div>
                    <div>
                      <label class="block text-sm font-medium text-gray-700 mb-2">다음 주 계획</label>
                      <div class="p-4 bg-blue-50 rounded-lg text-sm">
                        <p>• 화학 평형 개념 학습</p>
                        <p>• 산-염기 반응 심화</p>
                        <p>• 유기화학 반응 메커니즘</p>
                        <p>• 실전 문제 풀이</p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section class="page" id="page-ocr">
        <div class="space-y-6">
          <div class="mb-2">
            <h2 class="text-xl font-semibold">OCR 채점</h2>
            <p class="text-sm text-neutral-600">문서를 업로드하여 자동 채점을 받을 수 있습니다</p>
          </div>
                  </div>
                  <form class="p-6 space-y-4">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                      <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">신청자 정보</label>
                        <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500" value="홍길동" readonly>
                      </div>
                      <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">학년/반</label>
                        <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500" value="3학년 1반" readonly>
                      </div>
                    </div>

                    <div>
                      <label class="block text-sm font-medium text-gray-700 mb-2">신청 사이트 URL <span class="text-red-500">*</span></label>
                      <input type="url" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500" placeholder="https://example.com" required>
                    </div>

                    <div>
                      <label class="block text-sm font-medium text-gray-700 mb-2">사이트 사용 목적 <span class="text-red-500">*</span></label>
                      <select class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500" required>
                        <option value="">선택하세요</option>
                        <option value="study">학습 자료 검색</option>
                        <option value="research">연구 및 조사</option>
                        <option value="exam">시험 관련 사이트</option>
                        <option value="news">교육 뉴스 및 정보</option>
                        <option value="other">기타</option>
                      </select>
                    </div>

                    <div>
                      <label class="block text-sm font-medium text-gray-700 mb-2">상세 설명</label>
                      <textarea class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500" rows="3" placeholder="사이트 사용 목적과 필요성을 자세히 설명해주세요"></textarea>
                    </div>

                    <div>
                      <label class="block text-sm font-medium text-gray-700 mb-2">신청 기간</label>
                      <div class="grid grid-cols-2 gap-4">
                        <div>
                          <label class="block text-xs text-gray-600 mb-1">시작일</label>
                          <input type="date" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500" required>
                        </div>
                        <div>
                          <label class="block text-xs text-gray-600 mb-1">종료일</label>
                          <input type="date" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500" required>
                        </div>
                      </div>
                    </div>

                    <div>
                      <label class="block text-sm font-medium text-gray-700 mb-2">첨부 파일</label>
                      <div class="border-2 border-dashed border-gray-300 rounded-lg p-4 text-center">
                        <input type="file" id="firewall-file" class="hidden" accept=".pdf,.doc,.docx,.jpg,.png" onchange="handleFileUpload('firewall-file', 'firewall-file-list')">
                        <button type="button" onclick="document.getElementById('firewall-file').click()" class="text-gray-500 hover:text-gray-700">
                          <i data-lucide="upload" class="w-8 h-8 mx-auto mb-2"></i>
                          <p class="text-sm">클릭하여 파일 업로드</p>
                          <p class="text-xs text-gray-400">PDF, DOC, 이미지 파일</p>
                        </button>
                      </div>
                      <div id="firewall-file-list" class="mt-2 space-y-2"></div>
                    </div>

                    <div class="flex items-start gap-2">
                      <input type="checkbox" id="firewall-agreement" class="mt-1 rounded border-gray-300" required />
                      <label for="firewall-agreement" class="text-sm text-gray-700">
                        <span class="text-red-500">*</span> 방화벽 신청 시 다음 사항에 동의합니다:
                        <ul class="mt-2 ml-4 space-y-1 text-xs text-gray-600">
                          <li>• 신청한 사이트는 학습 목적으로만 사용하겠습니다</li>
                          <li>• 부적절한 콘텐츠 접근 시 신청이 취소될 수 있습니다</li>
                          <li>• 신청 기간을 준수하겠습니다</li>
                          <li>• 학원의 IT 정책을 준수하겠습니다</li>
                        </ul>
                      </label>
                    </div>

                    <div class="flex justify-end">
                      <button type="submit" class="px-6 py-2 rounded-xl bg-red-600 text-white hover:bg-red-700">
                        <i data-lucide="shield-check" class="w-4 h-4 inline mr-2"></i>
                        방화벽 신청
                      </button>
                    </div>
                  </form>
                </div>

                <!-- 방화벽 신청 현황 -->
                <div class="rounded-2xl border bg-white">
                  <div class="p-6 border-b">
                    <h3 class="text-lg font-semibold">나의 방화벽 신청 현황</h3>
                  </div>
                  <div class="p-6">
                    <div class="space-y-4">
                      <div class="flex items-center justify-between p-4 border border-gray-200 rounded-lg">
                        <div class="flex items-center gap-3">
                          <div class="w-10 h-10 rounded-lg bg-green-100 flex items-center justify-center">
                            <i data-lucide="check-circle" class="w-5 h-5 text-green-600"></i>
                          </div>
                          <div>
                            <div class="font-medium">YouTube</div>
                            <div class="text-sm text-gray-600">학습 자료 검색</div>
                            <div class="text-xs text-gray-500">2025-01-15 ~ 2025-01-22</div>
                          </div>
                        </div>
                        <div class="flex items-center gap-2">
                          <span class="px-2 py-1 text-xs rounded-full bg-green-100 text-green-800">승인됨</span>
                          <button class="px-3 py-1 text-xs border rounded-lg hover:bg-gray-50">상세보기</button>
                        </div>
                      </div>

                      <div class="flex items-center justify-between p-4 border border-gray-200 rounded-lg">
                        <div class="flex items-center gap-3">
                          <div class="w-10 h-10 rounded-lg bg-yellow-100 flex items-center justify-center">
                            <i data-lucide="clock" class="w-5 h-5 text-yellow-600"></i>
                          </div>
                          <div>
                            <div class="font-medium">Khan Academy</div>
                            <div class="text-sm text-gray-600">학습 자료 검색</div>
                            <div class="text-xs text-gray-500">2025-01-20 ~ 2025-01-27</div>
                          </div>
                        </div>
                        <div class="flex items-center gap-2">
                          <span class="px-2 py-1 text-xs rounded-full bg-yellow-100 text-yellow-800">검토중</span>
                          <button class="px-3 py-1 text-xs border rounded-lg hover:bg-gray-50">상세보기</button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Frespon 탭 내용 -->
            <div id="frespon-content" class="p-6 hidden">
              <div class="space-y-6">
                <!-- Frespon 이용권 신청 -->
                <div class="rounded-2xl border bg-white">
                  <div class="p-6 border-b bg-gradient-to-r from-purple-50 to-indigo-50">
                    <div class="flex items-center gap-3">
                      <div class="w-10 h-10 rounded-lg bg-purple-100 flex items-center justify-center">
                        <i data-lucide="ticket" class="w-5 h-5 text-purple-600"></i>
                      </div>
                      <div>
                        <h3 class="text-lg font-semibold text-purple-900">Frespon 이용권 신청</h3>
                        <p class="text-sm text-purple-700">Free + Responsibility = 자유와 책임의 망 이용권</p>
                      </div>
                    </div>
                  </div>
                  <form class="p-6 space-y-4">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                      <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">신청자 정보</label>
                        <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500" value="홍길동" readonly>
                      </div>
                      <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">학년/반</label>
                        <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500" value="3학년 1반" readonly>
                      </div>
                    </div>

                    <div>
                      <label class="block text-sm font-medium text-gray-700 mb-2">이용 시간 <span class="text-red-500">*</span></label>
                      <select id="frespon-duration" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500" required>
                        <option value="">선택하세요</option>
                        <option value="15">15분</option>
                        <option value="30">30분</option>
                        <option value="60">1시간</option>
                        <option value="120">2시간</option>
                      </select>
                    </div>

                    <div>
                      <label class="block text-sm font-medium text-gray-700 mb-2">사용 목적 <span class="text-red-500">*</span></label>
                      <select class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500" required>
                        <option value="">선택하세요</option>
                        <option value="study">학습 자료 검색</option>
                        <option value="research">연구 및 조사</option>
                        <option value="communication">소통 및 연락</option>
                        <option value="news">뉴스 및 정보 확인</option>
                        <option value="other">기타</option>
                      </select>
                    </div>

                    <div>
                      <label class="block text-sm font-medium text-gray-700 mb-2">상세 설명</label>
                      <textarea class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500" rows="3" placeholder="이용 목적과 필요성을 자세히 설명해주세요"></textarea>
                    </div>

                    <div class="flex items-start gap-2">
                      <input type="checkbox" class="mt-1 w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500" required>
                      <div class="text-sm text-gray-700">
                        <span class="font-medium">Frespon 이용 약관에 동의합니다.</span>
                        <ul class="mt-1 text-xs text-gray-600 space-y-1">
                          <li>• 학습 목적에 한정하여 사용합니다.</li>
                          <li>• 부적절한 콘텐츠 접근 시 이용권이 취소됩니다.</li>
                          <li>• 지정된 시간 내에만 사용 가능합니다.</li>
                          <li>• 학원의 IT 정책을 준수합니다.</li>
                        </ul>
                      </div>
                    </div>

                    <div class="flex justify-end">
                      <button onclick="submitFresponRequest()" class="px-6 py-3 rounded-xl bg-purple-600 text-white hover:bg-purple-700 transition-colors">
                        <i data-lucide="send" class="w-4 h-4 inline mr-2"></i>
                        이용권 신청하기
                      </button>
                    </div>
                  </form>
                </div>

                <!-- Frespon 이용권 현황 -->
                <div class="rounded-2xl border bg-white">
                  <div class="p-6 border-b">
                    <h3 class="text-lg font-semibold">나의 Frespon 이용권 현황</h3>
                  </div>
                  <div class="p-6">
                    <div class="space-y-4">
                      <div class="flex items-center justify-between p-4 border border-gray-200 rounded-lg">
                        <div class="flex items-center gap-3">
                          <div class="w-10 h-10 rounded-lg bg-green-100 flex items-center justify-center">
                            <i data-lucide="check-circle" class="w-5 h-5 text-green-600"></i>
                          </div>
                          <div>
                            <div class="font-medium">FR20250120001</div>
                            <div class="text-sm text-gray-600">30분 이용권</div>
                            <div class="text-xs text-gray-500">2025-01-20 14:00</div>
                          </div>
                        </div>
                        <div class="flex items-center gap-2">
                          <span class="px-2 py-1 text-xs rounded-full bg-green-100 text-green-800">사용완료</span>
                          <button onclick="showFresponKey('FR20250120001', '30분', '2025-01-20 14:00')" class="px-4 py-2 text-sm rounded-lg bg-green-600 text-white hover:bg-green-700">
                            암호키 확인
                          </button>
                        </div>
                      </div>

                      <div class="flex items-center justify-between p-4 border border-gray-200 rounded-lg">
                        <div class="flex items-center gap-3">
                          <div class="w-10 h-10 rounded-lg bg-yellow-100 flex items-center justify-center">
                            <i data-lucide="clock" class="w-5 h-5 text-yellow-600"></i>
                          </div>
                          <div>
                            <div class="font-medium">FR20250120002</div>
                            <div class="text-sm text-gray-600">15분 이용권</div>
                            <div class="text-xs text-gray-500">2025-01-21 09:00</div>
                          </div>
                        </div>
                        <div class="flex items-center gap-2">
                          <span class="px-2 py-1 text-xs rounded-full bg-yellow-100 text-yellow-800">대기중</span>
                          <button onclick="showFresponKey('FR20250120002', '15분', '2025-01-21 09:00')" class="px-4 py-2 text-sm rounded-lg bg-yellow-600 text-white hover:bg-yellow-700">
                            암호키 확인
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section class="page" id="page-ocr">
        <div class="space-y-6">
          <div class="mb-2">
            <h2 class="text-xl font-semibold">OCR 채점</h2>
            <p class="text-sm text-neutral-600">리팩토링 샘플로 이동합니다.</p>
          </div>
          <div class="rounded-2xl border bg-white p-6 text-sm">
            <a href="../SNocr/refactor/index.html" target="_blank" class="px-4 py-2 rounded-xl bg-black text-white">열기</a>
          </div>
        </div>
      </section>

      <section class="page" id="page-docs">
        <div class="space-y-6">
          <div class="mb-2"><h2 class="text-xl font-semibold">문서</h2></div>
          <div class="rounded-2xl border bg-white p-6 text-sm text-neutral-600">준비 중…</div>
        </div>
      </section>

      <section class="page" id="page-tools">
        <div class="space-y-6">
          <div class="mb-2"><h2 class="text-xl font-semibold">업무 도구</h2></div>
          <div class="rounded-2xl border bg-white p-6 grid gap-3 md:grid-cols-2 text-sm">
            <a class="rounded-xl border p-3 hover:bg-neutral-50" href="../Portal/TaskManagement.html" target="_blank">과제 관리</a>
            <a class="rounded-xl border p-3 hover:bg-neutral-50" href="../Portal/ocr-demo.html" target="_blank">OCR 데모</a>
          </div>
        </div>
      </section>


    </main>
  </div>

  <script>
    // 선생님 시간표 데이터
    const teacherSchedules = {
      'kim-teacher': {
        name: '김영희 선생님',
        availableTimes: ['09:00', '09:30', '10:00', '14:00', '14:30', '15:00', '19:00', '19:30']
      },
      'lee-teacher': {
        name: '이민수 선생님',
        availableTimes: ['09:30', '10:00', '10:30', '14:30', '15:00', '15:30', '19:30', '20:00']
      },
      'park-teacher': {
        name: '박지영 선생님',
        availableTimes: ['09:00', '10:30', '11:00', '15:00', '15:30', '16:00', '20:00', '20:30']
      },
      'choi-teacher': {
        name: '최현우 선생님',
        availableTimes: ['09:30', '11:00', '11:30', '15:30', '16:00', '16:30', '19:00', '20:30']
      },
      'korean-teacher': {
        name: '정수진 선생님',
        availableTimes: ['09:00', '09:30', '14:00', '14:30', '19:00', '19:30']
      },
      'math-teacher': {
        name: '홍길동 선생님',
        availableTimes: ['10:00', '10:30', '15:00', '15:30', '20:00', '20:30']
      },
      'english-teacher': {
        name: 'Sarah Johnson 선생님',
        availableTimes: ['09:30', '11:00', '14:30', '16:00', '19:30', '20:00']
      },
      'physics-teacher': {
        name: '박물리 선생님',
        availableTimes: ['09:00', '11:30', '15:00', '16:30', '19:00', '20:30']
      },
      'chemistry-teacher': {
        name: '이화학 선생님',
        availableTimes: ['10:00', '11:00', '14:00', '16:00', '19:30', '20:00']
      },
      'biology-teacher': {
        name: '김생물 선생님',
        availableTimes: ['09:30', '10:30', '14:30', '15:30', '19:00', '20:30']
      },
      'earth-teacher': {
        name: '최지구 선생님',
        availableTimes: ['09:00', '11:00', '15:00', '16:00', '19:30', '20:00']
      }
    };

    // 시간표 데이터 (15분 단위, 드래그 가능)
    const weeklySchedule = {
      'current': {
        '10:00': { subject: '수학', room: 'A101', color: 'bg-white text-blue-800', duration: 5, startTime: '10:00', endTime: '11:15' } // 월요일 수학 1시간 15분
      }
    };

    const scheduleDetails = {
      '수학': { label: '수학', color: 'bg-blue-100 text-blue-800', room: 'A101' },
      '국어': { label: '국어', color: 'bg-green-100 text-green-800', room: 'A102' },
      '영어': { label: '영어', color: 'bg-purple-100 text-purple-800', room: 'A103' },
      '과학': { label: '과학', color: 'bg-orange-100 text-orange-800', room: 'A104' },
      '사회': { label: '사회', color: 'bg-pink-100 text-pink-800', room: 'A105' },
      '자습': { label: '자습', color: 'bg-gray-100 text-gray-800', room: '' },
      '': { label: '', color: '', room: '' }
    };

    // 달력 데이터 (더미 데이터 추가)
    window.currentDate = new Date();
    const calendarEvents = [
      // 9월 이벤트들
      { date: '2025-09-03', title: '모의고사 시작', type: 'exam', time: '08:00' },
      { date: '2025-09-19', title: '서프 모의고사', type: 'exam', time: '08:00' },
      
      // 매주 수요일 외부강의 (9월)
      { date: '2025-09-04', title: '외부강의', type: 'lecture', time: '10:00', recurring: 'weekly' },
      { date: '2025-09-11', title: '외부강의', type: 'lecture', time: '10:00', recurring: 'weekly' },
      { date: '2025-09-18', title: '외부강의', type: 'lecture', time: '10:00', recurring: 'weekly' },
      { date: '2025-09-25', title: '외부강의', type: 'lecture', time: '10:00', recurring: 'weekly' },
      
      // 기타 이벤트들
      { date: '2025-09-01', title: '개학식', type: 'event', time: '09:00' },
      { date: '2025-09-10', title: '체육대회', type: 'event', time: '10:00' },
      { date: '2025-09-15', title: '학부모 상담', type: 'meeting', time: '14:00' },
      { date: '2025-09-22', title: '중간고사', type: 'exam', time: '09:00' },
      { date: '2025-09-23', title: '중간고사', type: 'exam', time: '09:00' },
      { date: '2025-09-24', title: '중간고사', type: 'exam', time: '09:00' },
      { date: '2025-09-26', title: '중간고사', type: 'exam', time: '09:00' },
      { date: '2025-09-27', title: '중간고사', type: 'exam', time: '09:00' },
      
      // 10월 이벤트들
      { date: '2025-10-01', title: '개천절', type: 'holiday', time: '00:00' },
      { date: '2025-10-09', title: '한글날', type: 'holiday', time: '00:00' },
      { date: '2025-10-15', title: '학부모 상담', type: 'meeting', time: '14:00' },
      { date: '2025-10-25', title: '기말고사', type: 'exam', time: '09:00' },
      { date: '2025-10-26', title: '기말고사', type: 'exam', time: '09:00' },
      { date: '2025-10-27', title: '기말고사', type: 'exam', time: '09:00' },
      { date: '2025-10-28', title: '기말고사', type: 'exam', time: '09:00' },
      { date: '2025-10-29', title: '기말고사', type: 'exam', time: '09:00' },
      
      // 11월 이벤트들
      { date: '2025-11-01', title: '수능', type: 'exam', time: '08:40' },
      { date: '2025-11-15', title: '학부모 상담', type: 'meeting', time: '14:00' },
      { date: '2025-11-25', title: '수능 성적 발표', type: 'event', time: '09:00' },
      
      // 12월 이벤트들
      { date: '2025-12-01', title: '겨울방학 시작', type: 'event', time: '00:00' },
      { date: '2025-12-25', title: '크리스마스', type: 'holiday', time: '00:00' },
      { date: '2025-12-31', title: '신정', type: 'holiday', time: '00:00' }
    ];

    // 달력 생성 함수 (구글 캘린더 스타일)
    window.generateCalendar = function() {
      const calendarContainer = document.getElementById('calendar-container');
      if (!calendarContainer) return;

      const year = window.currentDate.getFullYear();
      const month = window.currentDate.getMonth();
      const firstDay = new Date(year, month, 1);
      const lastDay = new Date(year, month + 1, 0);
      const daysInMonth = lastDay.getDate();
      const startingDay = firstDay.getDay();
      const today = new Date();
      const isToday = (day) => {
        return today.getFullYear() === year && 
               today.getMonth() === month && 
               today.getDate() === day;
      };

      let calendarHTML = `
        <div class="bg-white border border-gray-200 rounded-lg overflow-hidden">
          <!-- 요일 헤더 -->
          <div class="grid grid-cols-7 bg-gray-50 border-b">
            <div class="text-center py-3 text-sm font-medium text-gray-700 border-r">일</div>
            <div class="text-center py-3 text-sm font-medium text-gray-700 border-r">월</div>
            <div class="text-center py-3 text-sm font-medium text-gray-700 border-r">화</div>
            <div class="text-center py-3 text-sm font-medium text-gray-700 border-r">수</div>
            <div class="text-center py-3 text-sm font-medium text-gray-700 border-r">목</div>
            <div class="text-center py-3 text-sm font-medium text-gray-700 border-r">금</div>
            <div class="text-center py-3 text-sm font-medium text-gray-700">토</div>
          </div>
          <!-- 달력 그리드 -->
          <div class="grid grid-cols-7">
      `;

      // 빈 날짜들 (이전 달)
      for (let i = 0; i < startingDay; i++) {
        calendarHTML += `<div class="h-24 border-r border-b border-gray-200 bg-gray-50"></div>`;
      }

      // 실제 날짜들
      for (let day = 1; day <= daysInMonth; day++) {
        const dateStr = `${year}-${String(month + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
        const dayEvents = calendarEvents.filter(event => event.date === dateStr);
        const isCurrentDay = isToday(day);
        
        calendarHTML += `
          <div class="h-24 border-r border-b border-gray-200 p-2 cursor-pointer hover:bg-blue-50 relative ${isCurrentDay ? 'bg-blue-100' : 'bg-white'}" onclick="openEventModal('${dateStr}')">
            <div class="flex items-center justify-between mb-1">
              <span class="text-sm font-medium ${isCurrentDay ? 'text-blue-600' : 'text-gray-900'}">${day}</span>
              ${isCurrentDay ? '<div class="w-2 h-2 bg-blue-600 rounded-full"></div>' : ''}
            </div>
            <div class="space-y-1">
              ${dayEvents.slice(0, 3).map(event => `
                <div class="text-xs px-2 py-1 rounded-full truncate ${event.type === 'exam' ? 'bg-red-500 text-white' : 
                  event.type === 'event' ? 'bg-blue-500 text-white' : 
                  event.type === 'lecture' ? 'bg-purple-500 text-white' :
                  event.type === 'meeting' ? 'bg-green-500 text-white' :
                  event.type === 'holiday' ? 'bg-orange-500 text-white' : 'bg-gray-500 text-white'}">
                  ${event.time ? `${event.time} ` : ''}${event.title}
                </div>
              `).join('')}
              ${dayEvents.length > 3 ? `<div class="text-xs text-gray-500">+${dayEvents.length - 3} more</div>` : ''}
            </div>
          </div>
        `;
      }

      // 다음 달 빈 날짜들
      const totalCells = 42; // 6주 * 7일
      const usedCells = startingDay + daysInMonth;
      for (let i = usedCells; i < totalCells; i++) {
        calendarHTML += `<div class="h-24 border-r border-b border-gray-200 bg-gray-50"></div>`;
      }

      calendarHTML += `</div></div>`;
      calendarContainer.innerHTML = calendarHTML;
    };

    // 달력 컨트롤 설정
    window.setupCalendarControls = function() {
      const yearSelect = document.getElementById('year-select');
      const monthSelect = document.getElementById('month-select');
      
      if (yearSelect && !yearSelect.dataset.initialized) {
        // 기존 옵션들 제거
        yearSelect.innerHTML = '';
        monthSelect.innerHTML = '';
        
        const currentYear = window.currentDate.getFullYear();
        for (let year = currentYear - 2; year <= currentYear + 2; year++) {
          const opt = document.createElement('option');
          opt.value = year;
          opt.textContent = year;
          if (year === currentYear) opt.selected = true;
          yearSelect.appendChild(opt);
        }

        const monthNames = ['1월', '2월', '3월', '4월', '5월', '6월', '7월', '8월', '9월', '10월', '11월', '12월'];
        monthNames.forEach((label, index) => {
          const opt = document.createElement('option');
          opt.value = String(index);
          opt.textContent = label;
          if (index === window.currentDate.getMonth()) opt.selected = true;
          monthSelect.appendChild(opt);
        });

        yearSelect.addEventListener('change', (e) => {
          const selectedYear = parseInt(e.target.value, 10);
          if (!Number.isNaN(selectedYear)) {
            window.currentDate.setFullYear(selectedYear);
            window.generateCalendar();
          }
        });

        monthSelect.addEventListener('change', (e) => {
          const selectedMonth = parseInt(e.target.value, 10);
          if (!Number.isNaN(selectedMonth)) {
            window.currentDate.setMonth(selectedMonth);
            window.generateCalendar();
          }
        });

        yearSelect.dataset.initialized = 'true';
      }
    };

    // 시간표 생성 함수 (15분 단위, 드래그 가능)
    window.generateSchedule = function() {
      const weekSelector = document.getElementById('week-selector');
      const selectedWeek = weekSelector ? weekSelector.value : 'current';
      const schedule = weeklySchedule[selectedWeek] || weeklySchedule['current'];

      const scheduleGrid = document.getElementById('schedule-grid');
      if (!scheduleGrid) return;
      
      scheduleGrid.innerHTML = '';

      // 15분 단위 시간대 생성 (08:00 ~ 22:00)
      const timeSlots = [];
      for (let hour = 8; hour <= 22; hour++) {
        for (let minute = 0; minute < 60; minute += 15) {
          const timeStr = `${hour.toString().padStart(2, '0')}:${minute.toString().padStart(2, '0')}`;
          timeSlots.push(timeStr);
        }
      }

      timeSlots.forEach(time => {
        // 시간 셀
        const timeCell = document.createElement('div');
        timeCell.className = 'text-center py-2 text-xs font-medium text-gray-600 border-r border-b bg-gray-50 flex items-center justify-center';
        timeCell.style.minHeight = '30px';
        timeCell.innerHTML = `
          <div class="text-center">
            <div class="font-semibold text-sm">${time}</div>
          </div>
        `;
        scheduleGrid.appendChild(timeCell);

        // 요일별 셀들 (월~금)
        for (let day = 0; day < 5; day++) {
          const timeData = schedule[time];
          
          const dayCell = document.createElement('div');
          dayCell.className = 'border-r border-b cursor-pointer hover:bg-gray-50 relative';
          dayCell.style.minHeight = '30px';
          dayCell.dataset.day = day;
          dayCell.dataset.time = time;
          
          if (timeData && timeData.subject && day === 0) { // 월요일만
            // 수업이 시작하는 시간인지 확인
            if (time === timeData.startTime) {
              dayCell.className += ` ${timeData.color}`;
              dayCell.style.minHeight = `${timeData.duration * 30}px`; // duration에 따른 높이
              dayCell.innerHTML = `
                <div class="p-1 h-full flex flex-col justify-center relative">
                  <div class="font-semibold text-xs">${timeData.subject}</div>
                  <div class="text-[10px] opacity-75">${timeData.room}</div>
                  <div class="text-[10px] opacity-75">${timeData.startTime} ~ ${timeData.endTime}</div>
                  <!-- 드래그 핸들 -->
                  <div class="absolute bottom-0 left-0 right-0 h-1 bg-blue-500 cursor-ns-resize resize-handle" 
                       onmousedown="startResize(event, ${day}, '${time}')"></div>
                </div>
              `;
            } else {
              // 수업 중간 시간대는 빈 셀로 표시
              dayCell.className += ' bg-white';
              dayCell.innerHTML = `
                <div class="p-1 h-full flex items-center justify-center">
                  <div class="text-gray-300 text-xs"></div>
                </div>
              `;
            }
          } else {
            dayCell.className += ' bg-white';
            dayCell.innerHTML = `
              <div class="p-1 h-full flex items-center justify-center">
                <div class="text-gray-300 text-xs"></div>
              </div>
            `;
          }
          
          scheduleGrid.appendChild(dayCell);
        }
      });
    };

    // 시간대 모달 열기 함수
    window.openTimeSlotModal = function(day, time, existingData) {
      const dayNames = ['월', '화', '수', '목', '금'];
      const dayName = dayNames[day];
      
      let modalContent = `
        <div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50" onclick="closeTimeSlotModal()">
          <div class="bg-white rounded-lg p-6 max-w-md w-full mx-4" onclick="event.stopPropagation()">
            <div class="flex items-center justify-between mb-4">
              <h3 class="text-lg font-semibold">${dayName}요일 ${time} 시간대 설정</h3>
              <button onclick="closeTimeSlotModal()" class="text-gray-400 hover:text-gray-600">
                <i data-lucide="x" class="w-5 h-5"></i>
              </button>
            </div>
            
            <div class="space-y-4">
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">과목</label>
                <select id="subject-select" class="w-full border border-gray-300 rounded-lg px-3 py-2">
                  <option value="">선택하세요</option>
                  <option value="수학" ${existingData?.subject === '수학' ? 'selected' : ''}>수학</option>
                  <option value="국어" ${existingData?.subject === '국어' ? 'selected' : ''}>국어</option>
                  <option value="영어" ${existingData?.subject === '영어' ? 'selected' : ''}>영어</option>
                  <option value="과학" ${existingData?.subject === '과학' ? 'selected' : ''}>과학</option>
                  <option value="사회" ${existingData?.subject === '사회' ? 'selected' : ''}>사회</option>
                  <option value="자습" ${existingData?.subject === '자습' ? 'selected' : ''}>자습</option>
                </select>
              </div>
              
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">교실</label>
                <input type="text" id="room-input" class="w-full border border-gray-300 rounded-lg px-3 py-2" 
                       placeholder="예: A101" value="${existingData?.room || ''}">
              </div>
              
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">시간 범위</label>
                <div class="flex items-center gap-2">
                  <select id="start-time" class="border border-gray-300 rounded-lg px-3 py-2">
                    <option value="00">00</option>
                    <option value="15">15</option>
                    <option value="30">30</option>
                    <option value="45">45</option>
                  </select>
                  <span>~</span>
                  <select id="end-time" class="border border-gray-300 rounded-lg px-3 py-2">
                    <option value="15">15</option>
                    <option value="30">30</option>
                    <option value="45">45</option>
                    <option value="00">00</option>
                  </select>
                </div>
              </div>
            </div>
            
            <div class="flex gap-2 mt-6">
              <button onclick="saveTimeSlot(${day}, '${time}')" 
                      class="flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700">
                저장
              </button>
              <button onclick="deleteTimeSlot(${day}, '${time}')" 
                      class="flex-1 bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700">
                삭제
              </button>
            </div>
          </div>
        </div>
      `;
      
      document.body.insertAdjacentHTML('beforeend', modalContent);
    };

    // 시간대 모달 닫기
    window.closeTimeSlotModal = function() {
      const modal = document.querySelector('.fixed.inset-0');
      if (modal) modal.remove();
    };

    // 시간대 저장
    window.saveTimeSlot = function(day, time) {
      const subject = document.getElementById('subject-select').value;
      const room = document.getElementById('room-input').value;
      const startTime = document.getElementById('start-time').value;
      const endTime = document.getElementById('end-time').value;
      
      if (!subject) {
        alert('과목을 선택해주세요.');
        return;
      }
      
      // 시간표 데이터 업데이트
      if (!weeklySchedule['current'][day]) {
        weeklySchedule['current'][day] = {};
      }
      
      // 15분 단위로 시간대 설정
      const baseHour = parseInt(time.split(':')[0]);
      const startMinute = parseInt(startTime);
      const endMinute = parseInt(endTime);
      
      for (let minute = startMinute; minute < endMinute; minute += 15) {
        const timeKey = `${baseHour.toString().padStart(2, '0')}:${minute.toString().padStart(2, '0')}`;
        weeklySchedule['current'][day][timeKey] = {
          subject: subject,
          room: room,
          color: scheduleDetails[subject]?.color || 'bg-gray-100 text-gray-800'
        };
      }
      
      closeTimeSlotModal();
      generateSchedule(); // 시간표 다시 생성
    };

    // 시간대 삭제
    window.deleteTimeSlot = function(day, time) {
      if (confirm('이 시간대의 수업을 삭제하시겠습니까?')) {
        const baseHour = parseInt(time.split(':')[0]);
        for (let minute = 0; minute < 60; minute += 15) {
          const timeKey = `${baseHour.toString().padStart(2, '0')}:${minute.toString().padStart(2, '0')}`;
          if (weeklySchedule['current'][day] && weeklySchedule['current'][day][timeKey]) {
            delete weeklySchedule['current'][day][timeKey];
          }
        }
        closeTimeSlotModal();
        generateSchedule();
      }
    };



    // 드래그로 시간 조정 기능
    let isResizing = false;
    let resizeStartY = 0;
    let resizeStartTime = '';
    let resizeDay = 0;

    window.startResize = function(event, day, time) {
      event.preventDefault();
      event.stopPropagation();
      
      isResizing = true;
      resizeStartY = event.clientY;
      resizeStartTime = time;
      resizeDay = day;
      
      document.addEventListener('mousemove', handleResize);
      document.addEventListener('mouseup', stopResize);
      
      // 드래그 중 표시
      document.body.style.cursor = 'ns-resize';
    };

    window.handleResize = function(event) {
      if (!isResizing) return;
      
      const deltaY = event.clientY - resizeStartY;
      const slotHeight = 30; // 15분 슬롯 높이
      const slotsToChange = Math.round(deltaY / slotHeight);
      
      if (slotsToChange !== 0) {
        updateScheduleDuration(resizeDay, resizeStartTime, slotsToChange);
        resizeStartY = event.clientY;
      }
    };

    window.stopResize = function() {
      isResizing = false;
      document.removeEventListener('mousemove', handleResize);
      document.removeEventListener('mouseup', stopResize);
      document.body.style.cursor = 'default';
    };

    window.updateScheduleDuration = function(day, startTime, durationChange) {
      const schedule = weeklySchedule['current'];
      if (!schedule || !schedule[startTime]) return;
      
      const currentDuration = schedule[startTime].duration || 1;
      const newDuration = Math.max(1, currentDuration + durationChange);
      
      // 모든 관련 시간대 업데이트
      const startHour = parseInt(startTime.split(':')[0]);
      const startMinute = parseInt(startTime.split(':')[1]);
      
      for (let i = 0; i < newDuration; i++) {
        const minute = startMinute + (i * 15);
        const hour = startHour + Math.floor(minute / 60);
        const finalMinute = minute % 60;
        const timeKey = `${hour.toString().padStart(2, '0')}:${finalMinute.toString().padStart(2, '0')}`;
        
        if (schedule[timeKey]) {
          schedule[timeKey].duration = newDuration - i;
        }
      }
      
      // 시간표 다시 생성
      generateSchedule();
    };

    // 시간표 로드 함수
    window.loadSchedule = function() {
      window.generateSchedule();
    };

    // 이벤트 모달 열기 함수
    window.openEventModal = function(date) {
      const dayEvents = calendarEvents.filter(event => event.date === date);
      
      if (dayEvents.length > 0) {
        const eventList = dayEvents.map(event => {
          const timeStr = event.time ? `${event.time} ` : '';
          const typeStr = event.type === 'exam' ? '📝 시험' :
                         event.type === 'event' ? '📅 행사' :
                         event.type === 'lecture' ? '🎓 강의' :
                         event.type === 'meeting' ? '👥 상담' :
                         event.type === 'holiday' ? '🎉 휴일' : '📌 기타';
          return `• ${typeStr} ${timeStr}${event.title}`;
        }).join('\n');
        
        alert(`${date} 일정:\n\n${eventList}`);
      } else {
        alert(`${date}에는 등록된 일정이 없습니다.`);
      }
    };

    // 과목별 선생님 매핑
    const subjectTeachers = {
      'korean': [
        { value: 'korean-teacher', text: '국어 - 정수진 선생님' }
      ],
      'math': [
        { value: 'math-teacher', text: '수학 - 홍길동 선생님' }
      ],
      'english': [
        { value: 'english-teacher', text: '영어 - Sarah Johnson 선생님' }
      ],
      'physics': [
        { value: 'physics-teacher', text: '물리 - 박물리 선생님' }
      ],
      'chemistry': [
        { value: 'chemistry-teacher', text: '화학 - 이화학 선생님' }
      ],
      'biology': [
        { value: 'biology-teacher', text: '생명 - 김생물 선생님' }
      ],
      'earth-science': [
        { value: 'earth-teacher', text: '지구과학 - 최지구 선생님' }
      ]
    };

    // 과목 선택 시 선생님 목록 업데이트
    function updateSubjectTeachers() {
      const subjectSelect = document.getElementById('subject-select');
      const teacherSelect = document.getElementById('subject-teacher');
      const timeSelect = document.getElementById('subject-time');
      
      const selectedSubject = subjectSelect.value;
      
      // 선생님 선택 초기화
      teacherSelect.innerHTML = '<option value="">먼저 과목을 선택하세요</option>';
      teacherSelect.disabled = true;
      
      // 시간 선택 초기화
      if (timeSelect) {
        timeSelect.innerHTML = '<option value="">선생님을 먼저 선택하세요</option>';
        timeSelect.disabled = true;
      }
      
      if (selectedSubject && subjectTeachers[selectedSubject]) {
        teacherSelect.disabled = false;
        teacherSelect.innerHTML = '<option value="">과목 선생님을 선택하세요</option>';
        
        subjectTeachers[selectedSubject].forEach(teacher => {
          const option = document.createElement('option');
          option.value = teacher.value;
          option.textContent = teacher.text;
          teacherSelect.appendChild(option);
        });
      }
    }

    // 과목 선생님 선택 시 시간표 업데이트
    function updateSubjectSchedule() {
      const teacherSelect = document.getElementById('subject-teacher');
      const timeSelect = document.getElementById('subject-time');
      
      if (!timeSelect) return;
      
      const selectedTeacher = teacherSelect.value;
      
      // 시간 선택 초기화
      timeSelect.innerHTML = '<option value="">시간을 선택하세요</option>';
      timeSelect.disabled = true;
      
      if (selectedTeacher && teacherSchedules[selectedTeacher]) {
        timeSelect.disabled = false;
        
        const schedule = teacherSchedules[selectedTeacher];
        const allTimes = [
          '09:00', '09:30', '10:00', '10:30', '11:00', '11:30',
          '14:00', '14:30', '15:00', '15:30', '16:00', '16:30', '17:00', '17:30',
          '19:00', '19:30', '20:00', '20:30'
        ];
        
        allTimes.forEach(time => {
          const option = document.createElement('option');
          option.value = time;
          option.textContent = `${time} - ${time.slice(0,2)}:${time.slice(3,5) === '00' ? '30' : '00'}`;
          
          if (schedule.availableTimes.includes(time)) {
            option.style.color = 'black';
          } else {
            option.style.color = 'gray';
            option.disabled = true;
            option.textContent += ' (예약 불가)';
          }
          
          timeSelect.appendChild(option);
        });
      }
    }

    // 담임 선생님 선택 시 시간표 업데이트
    function updateHomeroomSchedule() {
      const teacherSelect = document.getElementById('homeroom-teacher');
      const timeSelect = document.getElementById('homeroom-time');
      
      if (!timeSelect) return;
      
      const selectedTeacher = teacherSelect.value;
      
      // 시간 선택 초기화
      timeSelect.innerHTML = '<option value="">시간을 선택하세요</option>';
      timeSelect.disabled = true;
      
      if (selectedTeacher && teacherSchedules[selectedTeacher]) {
        timeSelect.disabled = false;
        
        const schedule = teacherSchedules[selectedTeacher];
        const allTimes = [
          '09:00', '09:30', '10:00', '10:30', '11:00', '11:30',
          '14:00', '14:30', '15:00', '15:30', '16:00', '16:30', '17:00', '17:30',
          '19:00', '19:30', '20:00', '20:30'
        ];
        
        allTimes.forEach(time => {
          const option = document.createElement('option');
          option.value = time;
          option.textContent = `${time} - ${time.slice(0,2)}:${time.slice(3,5) === '00' ? '30' : '00'}`;
          
          if (schedule.availableTimes.includes(time)) {
            option.style.color = 'black';
          } else {
            option.style.color = 'gray';
            option.disabled = true;
            option.textContent += ' (예약 불가)';
          }
          
          timeSelect.appendChild(option);
        });
      }
    }

    // 파일 업로드 처리 함수
    function handleFileUpload(inputId, listId) {
      const fileInput = document.getElementById(inputId);
      const fileList = document.getElementById(listId);
      
      if (fileInput) {
        fileInput.addEventListener('change', function(e) {
          const files = Array.from(e.target.files);
          fileList.innerHTML = '';
          
          files.forEach((file, index) => {
            // 파일 크기 체크 (10MB)
            if (file.size > 10 * 1024 * 1024) {
              alert('파일 크기는 10MB를 초과할 수 없습니다: ' + file.name);
              return;
            }
            
            const fileItem = document.createElement('div');
            fileItem.className = 'flex items-center justify-between p-2 bg-gray-50 rounded-lg';
            fileItem.innerHTML = `
              <div class="flex items-center gap-2">
                <i data-lucide="file" class="w-4 h-4 text-gray-500"></i>
                <span class="text-sm text-gray-700">${file.name}</span>
                <span class="text-xs text-gray-500">(${(file.size / 1024 / 1024).toFixed(2)}MB)</span>
              </div>
              <button type="button" onclick="removeFile(${index}, '${inputId}', '${listId}')" class="text-red-500 hover:text-red-700">
                <i data-lucide="x" class="w-4 h-4"></i>
              </button>
            `;
            fileList.appendChild(fileItem);
          });
          
          // 아이콘 다시 렌더링
          setTimeout(() => lucide.createIcons(), 100);
        });
      }
    }

    // 파일 제거 함수
    function removeFile(index, inputId, listId) {
      const fileInput = document.getElementById(inputId);
      const fileList = document.getElementById(listId);
      
      // FileList를 Array로 변환
      const files = Array.from(fileInput.files);
      files.splice(index, 1);
      
      // 새로운 FileList 생성 (DataTransfer 사용)
      const dt = new DataTransfer();
      files.forEach(file => dt.items.add(file));
      fileInput.files = dt.files;
      
      // UI 업데이트
      fileList.innerHTML = '';
      files.forEach((file, newIndex) => {
        const fileItem = document.createElement('div');
        fileItem.className = 'flex items-center justify-between p-2 bg-gray-50 rounded-lg';
        fileItem.innerHTML = `
          <div class="flex items-center gap-2">
            <i data-lucide="file" class="w-4 h-4 text-gray-500"></i>
            <span class="text-sm text-gray-700">${file.name}</span>
            <span class="text-xs text-gray-500">(${(file.size / 1024 / 1024).toFixed(2)}MB)</span>
          </div>
          <button type="button" onclick="removeFile(${newIndex}, '${inputId}', '${listId}')" class="text-red-500 hover:text-red-700">
            <i data-lucide="x" class="w-4 h-4"></i>
          </button>
        `;
        fileList.appendChild(fileItem);
      });
      
      // 아이콘 다시 렌더링
      setTimeout(() => lucide.createIcons(), 100);
    }

    // 반복 옵션 토글 함수
    function toggleRepeatOptions() {
      const repeatType = document.getElementById('repeat-type');
      const endDateContainer = document.getElementById('end-date-container');
      
      if (repeatType.value === 'once') {
        // 이번만 선택 시 종료일 숨기기
        endDateContainer.style.display = 'none';
        const endDateInput = endDateContainer.querySelector('input');
        if (endDateInput) {
          endDateInput.removeAttribute('required');
        }
      } else if (repeatType.value === 'weekly') {
        // 매주 반복 선택 시 종료일 보이기
        endDateContainer.style.display = 'block';
        const endDateInput = endDateContainer.querySelector('input');
        if (endDateInput) {
          endDateInput.setAttribute('required', 'required');
        }
      }
    }

    // 탭 전환 함수
    function showOutingForm(type) {
      // 모든 폼 숨기기
      const forms = ['form-class', 'form-outing', 'form-overnight', 'form-other'];
      forms.forEach(formId => {
        const form = document.getElementById(formId);
        if (form) form.classList.add('hidden');
      });

      // 모든 탭 비활성화
      const tabs = ['tab-class', 'tab-outing', 'tab-overnight', 'tab-other'];
      tabs.forEach(tabId => {
        const tab = document.getElementById(tabId);
        if (tab) {
          tab.classList.remove('bg-white', 'text-blue-600', 'shadow-sm');
          tab.classList.add('text-gray-600', 'hover:text-gray-800');
        }
      });

      // 선택된 폼 보이기
      const selectedForm = document.getElementById(`form-${type}`);
      if (selectedForm) {
        selectedForm.classList.remove('hidden');
      }

      // 선택된 탭 활성화
      const selectedTab = document.getElementById(`tab-${type}`);
      if (selectedTab) {
        selectedTab.classList.remove('text-gray-600', 'hover:text-gray-800');
        selectedTab.classList.add('bg-white', 'text-blue-600', 'shadow-sm');
      }

      // 아이콘 다시 렌더링
      setTimeout(() => lucide.createIcons(), 100);
      
      // 현강 폼이 기본으로 표시되도록 설정
      if (type === 'class') {
        // 반복 옵션 초기화
        setTimeout(() => {
          const repeatType = document.getElementById('repeat-type');
          if (repeatType) {
            repeatType.value = 'once';
            toggleRepeatOptions();
          }
        }, 100);
      }
    }

    // 페이지 로드 시 파일 업로드 이벤트 리스너 등록
    document.addEventListener('DOMContentLoaded', function() {
      // 상담 예약 페이지가 로드될 때 파일 업로드 기능 초기화
      const observer = new MutationObserver(function(mutations) {
        mutations.forEach(function(mutation) {
          if (mutation.type === 'childList') {
            // 담임 상담 파일 업로드
            if (document.getElementById('homeroom-file')) {
              handleFileUpload('homeroom-file', 'homeroom-file-list');
            }
            // 교과과목 상담 파일 업로드
            if (document.getElementById('subject-file')) {
              handleFileUpload('subject-file', 'subject-file-list');
            }
            // 방화벽 신청 파일 업로드
            if (document.getElementById('firewall-file')) {
              handleFileUpload('firewall-file', 'firewall-file-list');
            }
            // 기타 인강회사 입력 필드 토글
            if (document.getElementById('company-select')) {
              const companySelect = document.getElementById('company-select');
              companySelect.addEventListener('change', function() {
                const otherCompany = document.getElementById('other-company');
                if (otherCompany) {
                  otherCompany.style.display = this.value === 'other' ? 'block' : 'none';
                }
              });
            }
          }
        });
      });
      
      // 메인 콘텐츠 영역 관찰
      const mainContent = document.getElementById('main-content');
      if (mainContent) {
        observer.observe(mainContent, { childList: true, subtree: true });
      }
    });

    const NAV = [
      {
        title: '대시보드',
        items: []
      },
      {
        title: '학습',
        items: [
          { id: 'learn-gpt', label: 'SNarGPT 질의응답', icon: 'message-circle' },
          { id: 'learn-store', label: '자동 오답노트', icon: 'shopping-bag' },
          { id: 'learn-grading', label: '채점', icon: 'scan' },
          { id: 'learn-assign', label: '과제·퀴즈', icon: 'file-edit' },
          { id: 'learn-library', label: '자료실', icon: 'folder-open' },
          { id: 'learn-consultation', label: '상담일지', icon: 'book-open' }
        ]
      },
        {
          title: '상담·문의',
          items: [
            { id: 'consult-reserve', label: '상담/멘토링 예약', icon: 'calendar-clock' },
            { id: 'consult-inbox', label: 'DM', icon: 'message-circle' }
          ]
        },
      {
        title: '생활',
        items: [
          { id: 'schedule', label: '일정', icon: 'calendar' },
          { id: 'dorm-outing', label: '외출, 외부수업, 외박 신청', icon: 'user-check' },
          { id: 'dorm-meal', label: '식사 신청', icon: 'utensils-crossed' },
          { id: 'dorm-facility', label: '시설·민원', icon: 'wrench' },
          { id: 'dorm-firewall-frespon', label: '방화벽/Frespon', icon: 'shield' }
        ]
      },
      {
        title: '스토어',
        items: [
          { id: 'store-course', label: '수강신청', icon: 'graduation-cap' },
          { id: 'bill-content', label: '학습 콘텐츠 구매', icon: 'shopping-cart' },
          { id: 'bill-meal', label: 'SNarMoney', icon: 'sandwich' },
          { id: 'bill-receipts', label: '영수증·증빙', icon: 'receipt' }
        ]
      },
      {
        title: '마이페이지',
        items: [
          { id: 'my-vis', label: '성적/리포트(SNarVIS)', icon: 'bar-chart-3' },
          { id: 'my-link', label: '학습시간(SNarLink)', icon: 'link' },
          { id: 'my-profile', label: '개인정보·푸시 설정', icon: 'settings' },
          { id: 'dorm-score', label: '생활 점수(벌점·상점)', icon: 'award' },
          { id: 'my-consult-history', label: '상담이력', icon: 'history' }
        ]
      }
    ];

    function renderSidebar(){
      const nav = document.getElementById('sidebar');
      nav.innerHTML = NAV.map((group, idx) => {
        const groupIcons = {
          '대시보드': 'layout-dashboard',
          '학습': 'book-open',
          '상담·문의': 'message-circle',
          '생활': 'home',
          '스토어': 'shopping-bag',
          '마이페이지': 'user'
        };
        const icon = groupIcons[group.title] || 'folder';
        return `
        <div class="space-y-2">
          <button data-group="g${idx}" class="flex w-full items-center justify-between rounded-lg px-3 py-2 text-sm hover:bg-neutral-100 text-neutral-800">
            <span class="flex items-center gap-2">
              <i data-lucide="${icon}" class="w-4 h-4"></i>
              <span class="font-semibold">${group.title}</span>
            </span>
            <i data-lucide="chevron-right" class="w-4 h-4 transition-transform"></i>
          </button>
          <div id="g${idx}" class="space-y-1 hidden pl-2">
            ${group.items.map(n => `
              <button data-page="${n.id}" class="flex w-full items-center gap-2 rounded-lg px-3 py-2 text-sm hover:bg-neutral-100 text-neutral-800">
                <i data-lucide="${n.icon}" class="w-4 h-4"></i>
                <span>${n.label}</span>
              </button>
            `).join('')}
          </div>
        </div>
        `;
      }).join('');
      if (window.lucide) {
        lucide.createIcons();
        // 동적으로 생성된 아이콘들을 다시 생성
        setTimeout(() => lucide.createIcons(), 100);
      }
      // sub item navigation
      nav.querySelectorAll('button[data-page]').forEach(btn=>btn.addEventListener('click', ()=>goto(btn.dataset.page)));
      // group toggle
      nav.querySelectorAll('button[data-group]').forEach(btn=>{
        btn.addEventListener('click', () => {
          const id = btn.getAttribute('data-group');
          const groupIndex = parseInt(id.replace('g', ''));
          const group = NAV[groupIndex];
          
          // 대시보드 그룹 클릭 시 홈으로 이동
          if (group.title === '대시보드') {
            goto('home');
            return;
          }
          
          const panel = document.getElementById(id);
          if (!panel) return;
          const icon = btn.querySelector('i[data-lucide="chevron-right"]');
          const isHidden = panel.classList.contains('hidden');
          if (isHidden) { panel.classList.remove('hidden'); if (icon) icon.style.transform = 'rotate(90deg)'; }
          else { panel.classList.add('hidden'); if (icon) icon.style.transform = 'rotate(0deg)'; }
        });
      });
    }

    // 탭 전환 함수
    function switchTab(tabName) {
      console.log('switchTab 호출됨:', tabName);
      
      // 방화벽 탭과 내용
      const firewallTab = document.getElementById('firewall-tab');
      const firewallContent = document.getElementById('firewall-content');
      
      // Frespon 탭과 내용
      const fresponTab = document.getElementById('frespon-tab');
      const fresponContent = document.getElementById('frespon-content');
      
      if (tabName === 'firewall') {
        // 방화벽 탭 활성화
        if (firewallTab) {
          firewallTab.className = 'flex-1 px-3 py-2 text-sm font-medium rounded-md bg-white text-gray-900 shadow-sm transition-all min-w-0';
        }
        if (firewallContent) {
          firewallContent.className = 'p-6';
        }
        
        // Frespon 탭 비활성화
        if (fresponTab) {
          fresponTab.className = 'flex-1 px-3 py-2 text-sm font-medium rounded-md text-gray-500 hover:text-gray-700 transition-all min-w-0';
        }
        if (fresponContent) {
          fresponContent.className = 'p-6 hidden';
        }
      } else if (tabName === 'frespon') {
        // Frespon 탭 활성화
        if (fresponTab) {
          fresponTab.className = 'flex-1 px-3 py-2 text-sm font-medium rounded-md bg-white text-gray-900 shadow-sm transition-all min-w-0';
        }
        if (fresponContent) {
          fresponContent.className = 'p-6';
        }
        
        // 방화벽 탭 비활성화
        if (firewallTab) {
          firewallTab.className = 'flex-1 px-3 py-2 text-sm font-medium rounded-md text-gray-500 hover:text-gray-700 transition-all min-w-0';
        }
        if (firewallContent) {
          firewallContent.className = 'p-6 hidden';
        }
      }
    }

    function goto(id){
      document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
      const el = document.getElementById('page-'+id);
      if (el) el.classList.add('active');
      document.querySelectorAll('#sidebar button').forEach(btn=>{
        if (btn.dataset.page===id){ btn.classList.add('bg-black','text-white'); btn.classList.remove('hover:bg-neutral-100','text-neutral-800'); }
        else { btn.classList.remove('bg-black','text-white'); btn.classList.add('hover:bg-neutral-100','text-neutral-800'); }
      });
      
      // 방화벽/Frespon 페이지 로드 시 기본 탭 설정
      if (id === 'dorm-firewall-frespon') {
        setTimeout(() => {
          switchTab('firewall');
          
          // 이벤트 리스너 추가 (기존 리스너 제거 후 추가)
          const firewallTab = document.getElementById('firewall-tab');
          const fresponTab = document.getElementById('frespon-tab');
          
          if (firewallTab) {
            // 기존 이벤트 리스너 제거
            firewallTab.replaceWith(firewallTab.cloneNode(true));
            const newFirewallTab = document.getElementById('firewall-tab');
            newFirewallTab.addEventListener('click', function() {
              console.log('방화벽 탭 클릭됨');
              switchTab('firewall');
            });
          }
          
          if (fresponTab) {
            // 기존 이벤트 리스너 제거
            fresponTab.replaceWith(fresponTab.cloneNode(true));
            const newFresponTab = document.getElementById('frespon-tab');
            newFresponTab.addEventListener('click', function() {
              console.log('Frespon 탭 클릭됨');
              switchTab('frespon');
            });
          }
        }, 200);
      }
      window.scrollTo({ top: 0, behavior: 'smooth' });
      
      // schedule 페이지가 활성화될 때 달력과 시간표 초기화
      if (id === 'schedule') {
        setTimeout(() => {
          if (typeof window.setupCalendarControls === 'function') {
            window.setupCalendarControls();
          }
          if (typeof window.generateCalendar === 'function') {
            window.generateCalendar();
          }
          if (typeof window.generateSchedule === 'function') {
            window.generateSchedule();
          }
        }, 200);
      }
    }
    document.addEventListener('DOMContentLoaded', renderSidebar);
  </script>
</body>
</html>

<!-- Generated placeholder sections -->
<script>
  // 아래는 각 메뉴의 플레이스홀더 섹션을 동적으로 추가합니다.
  (function(){
    const appMain = document.querySelector('main');
    const makeSection = (id, title, desc='준비 중…') => {
      if (document.getElementById('page-'+id)) return;
      const sec = document.createElement('section');
      sec.className = 'page';
      sec.id = 'page-'+id;
      
      // SNarGPT 질의응답에 특별한 설명 추가
      let content = '';
      if (id === 'learn-gpt') {
        content = `
        <div class="space-y-6">
          <div class="mb-2"><h2 class="text-xl font-semibold">${title}</h2></div>
          <div class="rounded-2xl border bg-white p-6">
            <div class="space-y-4">
              <div class="text-sm text-neutral-600">
                <p class="mb-3">AI 기반 질의응답 서비스입니다. 학습 관련 질문에 대해 즉시 답변을 받을 수 있습니다.</p>
                <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
                  <h3 class="font-semibold text-blue-800 mb-2">📋 이용 안내</h3>
                  <ul class="text-sm text-blue-700 space-y-1">
                    <li>• <strong>100질문까지 무료</strong> 이용 가능</li>
                    <li>• 100질문 초과 시 캐시 충전 필요</li>
                    <li>• 학생들이 사용하는 만큼 오픈AI와 구글에 토큰 비용을 지불하는 구조입니다</li>
                  </ul>
                </div>
                <div class="mt-4 p-4 bg-neutral-100 rounded-lg">
                  <p class="text-xs text-neutral-500">💡 팁: 구체적이고 명확한 질문을 하면 더 정확한 답변을 받을 수 있습니다.</p>
                </div>
              </div>
            </div>
          </div>
        </div>
        `;
      } else if (id === 'learn-store') {
        content = `
        <div class="space-y-6">
          <div class="mb-2"><h2 class="text-xl font-semibold">${title}</h2></div>
          <div class="rounded-2xl border bg-white">
            <div class="p-6 border-b">
              <div class="flex items-center justify-between">
                <div class="flex items-center gap-3">
                  <h3 class="text-lg font-semibold">최근 채점 기록</h3>
                  <span id="totalCount" class="px-3 py-1 text-sm bg-blue-100 text-blue-800 rounded-full font-medium">총 6건</span>
                </div>
                <div class="flex items-center gap-2">
                  <label class="text-sm text-neutral-600">과목 필터:</label>
                  <select id="subjectFilter" class="px-3 py-1 text-sm border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" onchange="filterRecords()">
                    <option value="all">전체</option>
                    <option value="국어">국어</option>
                    <option value="수학">수학</option>
                    <option value="영어">영어</option>
                    <option value="탐구">탐구</option>
                    <option value="기타">기타</option>
                  </select>
                </div>
              </div>
            </div>
            <div class="p-6">
              <table class="w-full text-left text-sm">
                <thead>
                  <tr class="text-neutral-500 border-b">
                    <th class="py-3 px-2">채점날짜</th>
                    <th class="py-3 px-2">평가기관</th>
                    <th class="py-3 px-2">시행월</th>
                    <th class="py-3 px-2">과목</th>
                    <th class="py-3 px-2">점수</th>
                    <th class="py-3 px-2">오답</th>
                    <th class="py-3 px-2">채점결과</th>
                  </tr>
                </thead>
                <tbody id="recordsTableBody">
                  <tr class="border-t hover:bg-gray-50" data-subject="수학">
                    <td class="py-3 px-2">2025-09-01</td>
                    <td class="py-3 px-2">한국교육과정평가원</td>
                    <td class="py-3 px-2">9월</td>
                    <td class="py-3 px-2 text-center">
                      <div class="flex flex-col gap-1 items-center">
                        <span class="px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-800">수학</span>
                        <span class="text-xs text-gray-600">미적분</span>
                      </div>
                    </td>
                    <td class="py-3 px-2 font-semibold text-green-600">92점</td>
                    <td class="py-3 px-2 text-red-600">6개</td>
                    <td class="py-3 px-2">
                      <button class="px-3 py-1 text-xs rounded-lg border border-blue-300 text-blue-600 hover:bg-blue-50" onclick="viewResult('수학', '미적분', '2025-09-01', '9평 수학', 92, 6)">보기</button>
                    </td>
                  </tr>
                  <tr class="border-t hover:bg-gray-50" data-subject="국어">
                    <td class="py-3 px-2">2025-09-02</td>
                    <td class="py-3 px-2">한국교육과정평가원</td>
                    <td class="py-3 px-2">9월</td>
                    <td class="py-3 px-2 text-center">
                      <div class="flex flex-col gap-1 items-center">
                        <span class="px-2 py-1 text-xs rounded-full bg-green-100 text-green-800">국어</span>
                        <span class="text-xs text-gray-600">언어와매체</span>
                      </div>
                    </td>
                    <td class="py-3 px-2 font-semibold text-green-600">88점</td>
                    <td class="py-3 px-2 text-red-600">8개</td>
                    <td class="py-3 px-2">
                      <button class="px-3 py-1 text-xs rounded-lg border border-blue-300 text-blue-600 hover:bg-blue-50" onclick="viewResult('국어', '언어와매체', '2025-09-02', '9평 국어', 88, 8)">보기</button>
                    </td>
                  </tr>
                  <tr class="border-t hover:bg-gray-50" data-subject="영어">
                    <td class="py-3 px-2">2025-09-03</td>
                    <td class="py-3 px-2">한국교육과정평가원</td>
                    <td class="py-3 px-2">6월</td>
                    <td class="py-3 px-2 text-center">
                      <div class="flex flex-col gap-1 items-center">
                        <span class="px-2 py-1 text-xs rounded-full bg-purple-100 text-purple-800">영어</span>
                        <span class="text-xs text-gray-600">영어</span>
                      </div>
                    </td>
                    <td class="py-3 px-2 font-semibold text-green-600">95점</td>
                    <td class="py-3 px-2 text-red-600">5개</td>
                    <td class="py-3 px-2">
                      <button class="px-3 py-1 text-xs rounded-lg border border-blue-300 text-blue-600 hover:bg-blue-50" onclick="viewResult('영어', '영어', '2025-09-03', '6모 영어', 95, 5)">보기</button>
                    </td>
                  </tr>
                  <tr class="border-t hover:bg-gray-50" data-subject="탐구">
                    <td class="py-3 px-2">2025-08-28</td>
                    <td class="py-3 px-2">한국교육과정평가원</td>
                    <td class="py-3 px-2">6월</td>
                    <td class="py-3 px-2 text-center">
                      <div class="flex flex-col gap-1 items-center">
                        <span class="px-2 py-1 text-xs rounded-full bg-orange-100 text-orange-800">과학탐구</span>
                        <span class="text-xs text-gray-600">물리1</span>
                      </div>
                    </td>
                    <td class="py-3 px-2 font-semibold text-green-600">78점</td>
                    <td class="py-3 px-2 text-red-600">12개</td>
                    <td class="py-3 px-2">
                      <button class="px-3 py-1 text-xs rounded-lg border border-blue-300 text-blue-600 hover:bg-blue-50" onclick="viewResult('과학탐구', '물리1', '2025-08-28', '6모 과학탐구', 78, 12)">보기</button>
                    </td>
                  </tr>
                  <tr class="border-t hover:bg-gray-50" data-subject="탐구">
                    <td class="py-3 px-2">2025-08-25</td>
                    <td class="py-3 px-2">한국교육과정평가원</td>
                    <td class="py-3 px-2">6월</td>
                    <td class="py-3 px-2 text-center">
                      <div class="flex flex-col gap-1 items-center">
                        <span class="px-2 py-1 text-xs rounded-full bg-orange-100 text-orange-800">사회탐구</span>
                        <span class="text-xs text-gray-600">사회문화</span>
                      </div>
                    </td>
                    <td class="py-3 px-2 font-semibold text-green-600">82점</td>
                    <td class="py-3 px-2 text-red-600">9개</td>
                    <td class="py-3 px-2">
                      <button class="px-3 py-1 text-xs rounded-lg border border-blue-300 text-blue-600 hover:bg-blue-50" onclick="viewResult('사회탐구', '사회문화', '2025-08-25', '6모 사회탐구', 82, 9)">보기</button>
                    </td>
                  </tr>
                  <tr class="border-t hover:bg-gray-50" data-subject="기타">
                    <td class="py-3 px-2">2025-08-20</td>
                    <td class="py-3 px-2">한국교육과정평가원</td>
                    <td class="py-3 px-2">6월</td>
                    <td class="py-3 px-2 text-center">
                      <div class="flex flex-col gap-1 items-center">
                        <span class="px-2 py-1 text-xs rounded-full bg-gray-100 text-gray-800">한국사</span>
                        <span class="text-xs text-gray-600">한국사</span>
                      </div>
                    </td>
                    <td class="py-3 px-2 font-semibold text-green-600">90점</td>
                    <td class="py-3 px-2 text-red-600">2개</td>
                    <td class="py-3 px-2">
                      <button class="px-3 py-1 text-xs rounded-lg border border-blue-300 text-blue-600 hover:bg-blue-50" onclick="viewResult('한국사', '한국사', '2025-08-20', '6모 한국사', 90, 2)">보기</button>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        `;
      } else if (id === 'learn-grading') {
        content = `
        <div class="space-y-6">
          <div class="mb-2">
            <h2 class="text-xl font-semibold">${title}</h2>
            <p class="text-sm text-neutral-600">이미지(JPG/PNG) 또는 PDF를 업로드하세요</p>
          </div>

          <div class="grid gap-6 md:grid-cols-3">
            <div class="md:col-span-2 rounded-2xl border bg-white">
              <div class="p-6 space-y-4">
                <div class="rounded-2xl border border-dashed p-8 text-center">
                  <i data-lucide="upload" class="mx-auto" style="width:40px;height:40px"></i>
                  <div class="mt-2 text-sm text-neutral-600">파일을 여기로 끌어다 놓거나 클릭해서 선택</div>
                  <div class="mt-3 inline-flex gap-2">
                    <button class="px-3 py-2 rounded-xl border text-sm">이미지 선택</button>
                    <button class="px-3 py-2 rounded-xl border text-sm">PDF 선택</button>
                  </div>
                </div>

                <div class="grid gap-3 md:grid-cols-2">
                  <div class="space-y-1">
                    <label class="text-sm font-medium">시험 선택</label>
                    <button id="openExamModal" class="w-full rounded-xl border px-3 py-2 text-sm text-left flex items-center justify-between">
                      <span id="selectedExam">시험을 선택하세요</span>
                      <i data-lucide="chevron-down" class="w-4 h-4"></i>
                    </button>
                  </div>
                  <div class="space-y-1">
                    <label class="text-sm font-medium">정답지</label>
                    <div class="flex gap-2">
                      <button id="openAnswerModal" class="px-3 py-2 rounded-xl border text-sm">정답 입력</button>
                      <button id="openSearchModal" class="px-3 py-2 rounded-xl border text-sm">기존 입력된 정답 찾기</button>
                    </div>
                  </div>
                  <div class="space-y-1">
                    <label class="text-sm font-medium">인식 옵션</label>
                    <div class="flex items-center gap-3 rounded-xl border p-3 text-sm">
                      <label class="inline-flex items-center gap-2"><input type="checkbox" /> 이미지 향상</label>
                      <label class="inline-flex items-center gap-2"><input type="checkbox" /> 필기체 보정</label>
                    </div>
                  </div>
                  <div class="space-y-1">
                    <label class="text-sm font-medium">메모 (선택)</label>
                    <input class="w-full rounded-xl border px-3 py-2 text-sm" placeholder="응시자 이름, 반, 비고 등" />
                  </div>
                </div>

                <div class="flex justify-end gap-2">
                  <button class="px-4 py-2 rounded-xl border">샘플 파일 사용</button>
                  <button class="px-4 py-2 rounded-xl bg-black text-white" data-goto="result">채점 시작</button>
                </div>
              </div>
            </div>

            <div class="rounded-2xl border bg-white">
              <div class="p-6 border-b">
                <h3 class="text-lg font-semibold">가이드</h3>
              </div>
              <div class="p-6 space-y-3 text-sm text-neutral-600">
                <p>• 빛 반사가 적고, 테두리가 잘 보이게 촬영해 주세요.</p>
                <p>• PDF는 300dpi 이상 권장, 다중 페이지 지원.</p>
                <p>• 객관식/서술식 혼합 시 서술형은 별도 검토 단계가 열립니다.</p>
              </div>
            </div>
          </div>
        </div>
        `;
      } else if (id === 'learn-assign') {
        content = `
        <div class="space-y-6">
          <div class="mb-2">
            <h2 class="text-xl font-semibold">${title}</h2>
            <p class="text-sm text-neutral-600">AI가 생성한 개인 맞춤형 변형 문제를 풀어보세요</p>
          </div>

          <div class="grid gap-6 lg:grid-cols-3">
            <div class="lg:col-span-2 space-y-6">
              <!-- 문제 생성 설정 -->
              <div class="rounded-2xl border bg-white">
                <div class="p-6 border-b">
                  <h3 class="text-lg font-semibold">변형 문제 생성</h3>
                  <p class="text-sm text-neutral-600">오답 기록을 바탕으로 개인 맞춤형 문제를 생성합니다</p>
                </div>
                <div class="p-6 space-y-4">
                  <div class="grid gap-4 md:grid-cols-2">
                    <div class="space-y-2">
                      <label class="text-sm font-medium">과목 선택</label>
                      <select class="w-full rounded-xl border px-3 py-2 text-sm">
                        <option value="">과목을 선택하세요</option>
                        <option value="math">수학</option>
                        <option value="korean">국어</option>
                        <option value="english">영어</option>
                        <option value="science">과학탐구</option>
                        <option value="social">사회탐구</option>
                        <option value="history">한국사</option>
                      </select>
                    </div>
                    <div class="space-y-2">
                      <label class="text-sm font-medium">문제 수</label>
                      <select class="w-full rounded-xl border px-3 py-2 text-sm">
                        <option value="5">5문제</option>
                        <option value="10">10문제</option>
                        <option value="15">15문제</option>
                        <option value="20">20문제</option>
                      </select>
                    </div>
                    <div class="space-y-2">
                      <label class="text-sm font-medium">난이도</label>
                      <select class="w-full rounded-xl border px-3 py-2 text-sm">
                        <option value="easy">쉬움</option>
                        <option value="medium">보통</option>
                        <option value="hard">어려움</option>
                        <option value="mixed">혼합</option>
                      </select>
                    </div>
                    <div class="space-y-2">
                      <label class="text-sm font-medium">문제 유형</label>
                      <select class="w-full rounded-xl border px-3 py-2 text-sm">
                        <option value="all">전체</option>
                        <option value="multiple">객관식</option>
                        <option value="short">단답형</option>
                        <option value="essay">서술형</option>
                      </select>
                    </div>
                  </div>
                  <div class="space-y-2">
                    <label class="text-sm font-medium">특별 요청사항 (선택)</label>
                    <textarea class="w-full rounded-xl border px-3 py-2 text-sm" rows="3" placeholder="특정 개념이나 유형에 집중하고 싶다면 여기에 입력하세요"></textarea>
                  </div>
                  <div class="flex justify-end">
                    <button class="px-6 py-2 rounded-xl bg-blue-600 text-white hover:bg-blue-700">
                      <i data-lucide="zap" class="w-4 h-4 inline mr-2"></i>
                      AI 문제 생성
                    </button>
                  </div>
                </div>
              </div>

              <!-- 생성된 문제 목록 -->
              <div class="rounded-2xl border bg-white">
                <div class="p-6 border-b">
                  <div class="flex items-center justify-between">
                    <h3 class="text-lg font-semibold">생성된 문제</h3>
                    <div class="flex items-center gap-2">
                      <span class="text-sm text-neutral-600">총 0문제</span>
                      <button class="px-3 py-1 text-xs rounded-lg border border-green-300 text-green-600 hover:bg-green-50">전체 풀기</button>
                    </div>
                  </div>
                </div>
                <div class="p-6">
                  <div class="text-center py-12 text-neutral-500">
                    <i data-lucide="file-text" class="w-12 h-12 mx-auto mb-3"></i>
                    <p>아직 생성된 문제가 없습니다.</p>
                    <p class="text-sm">위에서 설정을 완료하고 'AI 문제 생성' 버튼을 클릭하세요.</p>
                  </div>
                </div>
              </div>
            </div>

            <!-- 오답 분석 및 통계 -->
            <div class="space-y-6">
              <div class="rounded-2xl border bg-white">
                <div class="p-6 border-b">
                  <h3 class="text-lg font-semibold">오답 분석</h3>
                </div>
                <div class="p-6 space-y-4">
                  <div class="text-center">
                    <div class="text-2xl font-bold text-red-600">42개</div>
                    <div class="text-sm text-neutral-600">총 오답 문항</div>
                  </div>
                  <div class="space-y-3">
                    <div class="flex justify-between items-center">
                      <span class="text-sm">수학</span>
                      <div class="flex items-center gap-2">
                        <div class="w-20 bg-gray-200 rounded-full h-2">
                          <div class="bg-blue-600 h-2 rounded-full" style="width: 60%"></div>
                        </div>
                        <span class="text-xs text-neutral-600">25개</span>
                      </div>
                    </div>
                    <div class="flex justify-between items-center">
                      <span class="text-sm">국어</span>
                      <div class="flex items-center gap-2">
                        <div class="w-20 bg-gray-200 rounded-full h-2">
                          <div class="bg-green-600 h-2 rounded-full" style="width: 30%"></div>
                        </div>
                        <span class="text-xs text-neutral-600">12개</span>
                      </div>
                    </div>
                    <div class="flex justify-between items-center">
                      <span class="text-sm">영어</span>
                      <div class="flex items-center gap-2">
                        <div class="w-20 bg-gray-200 rounded-full h-2">
                          <div class="bg-purple-600 h-2 rounded-full" style="width: 20%"></div>
                        </div>
                        <span class="text-xs text-neutral-600">5개</span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <div class="rounded-2xl border bg-white">
                <div class="p-6 border-b">
                  <h3 class="text-lg font-semibold">학습 통계</h3>
                </div>
                <div class="p-6 space-y-4">
                  <div class="grid grid-cols-2 gap-4 text-center">
                    <div>
                      <div class="text-xl font-bold text-blue-600">15</div>
                      <div class="text-xs text-neutral-600">이번 주 풀이</div>
                    </div>
                    <div>
                      <div class="text-xl font-bold text-green-600">78%</div>
                      <div class="text-xs text-neutral-600">정답률</div>
                    </div>
                  </div>
                  <div class="pt-4 border-t">
                    <div class="flex justify-between text-sm">
                      <span>연속 학습일</span>
                      <span class="font-semibold text-orange-600">7일</span>
                    </div>
                  </div>
                </div>
              </div>

              <div class="rounded-2xl border bg-white">
                <div class="p-6 border-b">
                  <h3 class="text-lg font-semibold">추천 학습</h3>
                </div>
                <div class="p-6 space-y-3">
                  <div class="p-3 rounded-lg bg-blue-50 border border-blue-200">
                    <div class="text-sm font-medium text-blue-800">미적분 함수의 극한</div>
                    <div class="text-xs text-blue-600">오답률 85% - 집중 학습 필요</div>
                  </div>
                  <div class="p-3 rounded-lg bg-green-50 border border-green-200">
                    <div class="text-sm font-medium text-green-800">문학 작품 분석</div>
                    <div class="text-xs text-green-600">오답률 60% - 보완 학습 권장</div>
                  </div>
                  <div class="p-3 rounded-lg bg-purple-50 border border-purple-200">
                    <div class="text-sm font-medium text-purple-800">영어 문법</div>
                    <div class="text-xs text-purple-600">오답률 40% - 복습 완료</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        `;
      } else if (id === 'learn-library') {
        content = `
        <div class="space-y-6">
          <div class="mb-2">
            <h2 class="text-xl font-semibold">${title}</h2>
            <p class="text-sm text-neutral-600">SN에서 생성한 문제지 set를 업로드하고 다운로드하세요</p>
          </div>

          <div class="grid gap-6 lg:grid-cols-4">
            <div class="lg:col-span-3 space-y-6">
              <!-- 과목별 필터 -->
              <div class="rounded-2xl border bg-white">
                <div class="p-6 border-b">
                  <h3 class="text-lg font-semibold">과목별 문제지</h3>
                </div>
                <div class="p-6">
                  <div class="flex space-x-1 bg-gray-100 p-1 rounded-lg overflow-x-auto">
                    <button class="flex-shrink-0 px-4 py-2 text-sm font-medium rounded-md bg-white text-gray-900 shadow-sm transition-all" data-subject="all">
                      <i data-lucide="grid-3x3" class="w-4 h-4 inline mr-2"></i>
                      전체
                    </button>
                    <button class="flex-shrink-0 px-4 py-2 text-sm font-medium rounded-md text-gray-500 hover:text-gray-700 transition-all" data-subject="korean">
                      <i data-lucide="book-open" class="w-4 h-4 inline mr-2"></i>
                      국어
                    </button>
                    <button class="flex-shrink-0 px-4 py-2 text-sm font-medium rounded-md text-gray-500 hover:text-gray-700 transition-all" data-subject="math">
                      <i data-lucide="calculator" class="w-4 h-4 inline mr-2"></i>
                      수학
                    </button>
                    <button class="flex-shrink-0 px-4 py-2 text-sm font-medium rounded-md text-gray-500 hover:text-gray-700 transition-all" data-subject="english">
                      <i data-lucide="globe" class="w-4 h-4 inline mr-2"></i>
                      영어
                    </button>
                    <button class="flex-shrink-0 px-4 py-2 text-sm font-medium rounded-md text-gray-500 hover:text-gray-700 transition-all" data-subject="social">
                      <i data-lucide="landmark" class="w-4 h-4 inline mr-2"></i>
                      사회탐구
                    </button>
                    <button class="flex-shrink-0 px-4 py-2 text-sm font-medium rounded-md text-gray-500 hover:text-gray-700 transition-all" data-subject="science">
                      <i data-lucide="flask-conical" class="w-4 h-4 inline mr-2"></i>
                      과학탐구
                    </button>
                  </div>
                </div>
              </div>

              <!-- 문제지 목록 -->
              <div class="rounded-2xl border bg-white">
                <div class="p-6 border-b">
                  <div class="flex items-center justify-between">
                    <h3 class="text-lg font-semibold">업로드된 문제지</h3>
                    <div class="flex items-center gap-2">
                      <span class="text-sm text-neutral-600">총 12개</span>
                      <button class="px-3 py-1 text-xs rounded-lg border border-blue-300 text-blue-600 hover:bg-blue-50">
                        <i data-lucide="upload" class="w-3 h-3 inline mr-1"></i>
                        새로 업로드
                      </button>
                    </div>
                  </div>
                </div>
                <div class="p-6">
                  <div class="space-y-3">
                    <!-- 문제지 항목들 -->
                    <div class="flex items-center justify-between p-4 rounded-xl border hover:bg-gray-50" data-subject="math">
                      <div class="flex items-center gap-3">
                        <div class="w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center">
                          <i data-lucide="file-text" class="w-5 h-5 text-blue-600"></i>
                        </div>
                        <div>
                          <div class="font-medium">2025년 9월 모의고사 수학</div>
                          <div class="text-sm text-neutral-600">30문제 • 2025-09-15 업로드</div>
                        </div>
                      </div>
                      <div class="flex items-center gap-2">
                        <span class="px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-800">수학</span>
                        <button class="px-3 py-1 text-xs rounded-lg border border-green-300 text-green-600 hover:bg-green-50">
                          <i data-lucide="download" class="w-3 h-3 inline mr-1"></i>
                          다운로드
                        </button>
                      </div>
                    </div>

                    <div class="flex items-center justify-between p-4 rounded-xl border hover:bg-gray-50" data-subject="korean">
                      <div class="flex items-center gap-3">
                        <div class="w-10 h-10 rounded-lg bg-green-100 flex items-center justify-center">
                          <i data-lucide="file-text" class="w-5 h-5 text-green-600"></i>
                        </div>
                        <div>
                          <div class="font-medium">2025년 9월 모의고사 국어</div>
                          <div class="text-sm text-neutral-600">45문제 • 2025-09-15 업로드</div>
                        </div>
                      </div>
                      <div class="flex items-center gap-2">
                        <span class="px-2 py-1 text-xs rounded-full bg-green-100 text-green-800">국어</span>
                        <button class="px-3 py-1 text-xs rounded-lg border border-green-300 text-green-600 hover:bg-green-50">
                          <i data-lucide="download" class="w-3 h-3 inline mr-1"></i>
                          다운로드
                        </button>
                      </div>
                    </div>

                    <div class="flex items-center justify-between p-4 rounded-xl border hover:bg-gray-50" data-subject="english">
                      <div class="flex items-center gap-3">
                        <div class="w-10 h-10 rounded-lg bg-purple-100 flex items-center justify-center">
                          <i data-lucide="file-text" class="w-5 h-5 text-purple-600"></i>
                        </div>
                        <div>
                          <div class="font-medium">2025년 9월 모의고사 영어</div>
                          <div class="text-sm text-neutral-600">45문제 • 2025-09-15 업로드</div>
                        </div>
                      </div>
                      <div class="flex items-center gap-2">
                        <span class="px-2 py-1 text-xs rounded-full bg-purple-100 text-purple-800">영어</span>
                        <button class="px-3 py-1 text-xs rounded-lg border border-green-300 text-green-600 hover:bg-green-50">
                          <i data-lucide="download" class="w-3 h-3 inline mr-1"></i>
                          다운로드
                        </button>
                      </div>
                    </div>

                    <div class="flex items-center justify-between p-4 rounded-xl border hover:bg-gray-50" data-subject="social">
                      <div class="flex items-center gap-3">
                        <div class="w-10 h-10 rounded-lg bg-orange-100 flex items-center justify-center">
                          <i data-lucide="file-text" class="w-5 h-5 text-orange-600"></i>
                        </div>
                        <div>
                          <div class="font-medium">2025년 9월 모의고사 사회탐구</div>
                          <div class="text-sm text-neutral-600">20문제 • 2025-09-14 업로드</div>
                        </div>
                      </div>
                      <div class="flex items-center gap-2">
                        <span class="px-2 py-1 text-xs rounded-full bg-orange-100 text-orange-800">사회탐구</span>
                        <button class="px-3 py-1 text-xs rounded-lg border border-green-300 text-green-600 hover:bg-green-50">
                          <i data-lucide="download" class="w-3 h-3 inline mr-1"></i>
                          다운로드
                        </button>
                      </div>
                    </div>

                    <div class="flex items-center justify-between p-4 rounded-xl border hover:bg-gray-50" data-subject="science">
                      <div class="flex items-center gap-3">
                        <div class="w-10 h-10 rounded-lg bg-cyan-100 flex items-center justify-center">
                          <i data-lucide="file-text" class="w-5 h-5 text-cyan-600"></i>
                        </div>
                        <div>
                          <div class="font-medium">2025년 9월 모의고사 과학탐구</div>
                          <div class="text-sm text-neutral-600">20문제 • 2025-09-14 업로드</div>
                        </div>
                      </div>
                      <div class="flex items-center gap-2">
                        <span class="px-2 py-1 text-xs rounded-full bg-cyan-100 text-cyan-800">과학탐구</span>
                        <button class="px-3 py-1 text-xs rounded-lg border border-green-300 text-green-600 hover:bg-green-50">
                          <i data-lucide="download" class="w-3 h-3 inline mr-1"></i>
                          다운로드
                        </button>
                      </div>
                    </div>

                    <div class="flex items-center justify-between p-4 rounded-xl border hover:bg-gray-50" data-subject="math">
                      <div class="flex items-center gap-3">
                        <div class="w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center">
                          <i data-lucide="file-text" class="w-5 h-5 text-blue-600"></i>
                        </div>
                        <div>
                          <div class="font-medium">2025년 6월 모의고사 수학</div>
                          <div class="text-sm text-neutral-600">30문제 • 2025-06-15 업로드</div>
                        </div>
                      </div>
                      <div class="flex items-center gap-2">
                        <span class="px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-800">수학</span>
                        <button class="px-3 py-1 text-xs rounded-lg border border-green-300 text-green-600 hover:bg-green-50">
                          <i data-lucide="download" class="w-3 h-3 inline mr-1"></i>
                          다운로드
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- 사이드바 -->
            <div class="space-y-6">
              <div class="rounded-2xl border bg-white">
                <div class="p-6 border-b">
                  <h3 class="text-lg font-semibold">업로드 가이드</h3>
                </div>
                <div class="p-6 space-y-3 text-sm text-neutral-600">
                  <p>• PDF 형식으로 업로드해 주세요</p>
                  <p>• 파일명에 과목과 날짜를 포함해 주세요</p>
                  <p>• 문제 수와 난이도를 명시해 주세요</p>
                  <p>• 정답지도 함께 업로드하면 좋습니다</p>
                </div>
              </div>

              <div class="rounded-2xl border bg-white">
                <div class="p-6 border-b">
                  <h3 class="text-lg font-semibold">최근 다운로드</h3>
                </div>
                <div class="p-6 space-y-3">
                  <div class="flex items-center gap-2 text-sm">
                    <i data-lucide="download" class="w-4 h-4 text-green-600"></i>
                    <span>9월 모의고사 수학</span>
                    <span class="text-xs text-neutral-500">2시간 전</span>
                  </div>
                  <div class="flex items-center gap-2 text-sm">
                    <i data-lucide="download" class="w-4 h-4 text-green-600"></i>
                    <span>9월 모의고사 국어</span>
                    <span class="text-xs text-neutral-500">1일 전</span>
                  </div>
                  <div class="flex items-center gap-2 text-sm">
                    <i data-lucide="download" class="w-4 h-4 text-green-600"></i>
                    <span>6월 모의고사 영어</span>
                    <span class="text-xs text-neutral-500">3일 전</span>
                  </div>
                </div>
              </div>

              <div class="rounded-2xl border bg-white">
                <div class="p-6 border-b">
                  <h3 class="text-lg font-semibold">통계</h3>
                </div>
                <div class="p-6 space-y-4">
                  <div class="text-center">
                    <div class="text-2xl font-bold text-blue-600">12</div>
                    <div class="text-sm text-neutral-600">총 문제지 수</div>
                  </div>
                  <div class="space-y-2">
                    <div class="flex justify-between text-sm">
                      <span>이번 달 다운로드</span>
                      <span class="font-semibold">28회</span>
                    </div>
                    <div class="flex justify-between text-sm">
                      <span>가장 인기 과목</span>
                      <span class="font-semibold text-blue-600">수학</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        `;
      } else if (id === 'consult-reserve') {
        content = `
        <div class="space-y-6">
          <div class="mb-2">
            <h2 class="text-xl font-semibold">${title}</h2>
            <p class="text-sm text-neutral-600">학습담임 상담과 교과과목 상담을 신청하세요</p>
          </div>

          <div class="grid gap-6 lg:grid-cols-2">
            <!-- 학습담임 상담 신청 -->
            <div class="rounded-2xl border bg-white">
              <div class="p-6 border-b">
                <div class="flex items-center gap-3">
                  <div class="w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center">
                    <i data-lucide="user-check" class="w-5 h-5 text-blue-600"></i>
                  </div>
                  <div>
                    <h3 class="text-lg font-semibold">학습담임 상담 신청</h3>
                    <p class="text-sm text-neutral-600">전체적인 학습 방향과 진로 상담</p>
                  </div>
                </div>
              </div>
              <div class="p-6 space-y-4">
                <div class="space-y-2">
                  <label class="text-sm font-medium">담임 선생님 선택</label>
                  <select id="homeroom-teacher" class="w-full rounded-xl border px-3 py-2 text-sm" onchange="updateHomeroomSchedule()">
                    <option value="">담임 선생님을 선택하세요</option>
                    <option value="kim-teacher">김영희 선생님 (3반 담임)</option>
                    <option value="lee-teacher">이민수 선생님 (4반 담임)</option>
                    <option value="park-teacher">박지영 선생님 (5반 담임)</option>
                    <option value="choi-teacher">최현우 선생님 (6반 담임)</option>
                  </select>
                </div>
                <div class="grid gap-4 md:grid-cols-2">
                  <div class="space-y-2">
                    <label class="text-sm font-medium">상담 날짜</label>
                    <input type="date" class="w-full rounded-xl border px-3 py-2 text-sm" />
                  </div>
                  <div class="space-y-2">
                    <label class="text-sm font-medium">상담 시간</label>
                    <select id="homeroom-time" class="w-full rounded-xl border px-3 py-2 text-sm" disabled>
                      <option value="">선생님을 먼저 선택하세요</option>
                    </select>
                  </div>
                </div>
                <div class="space-y-2">
                  <label class="text-sm font-medium">상담 주제</label>
                  <select class="w-full rounded-xl border px-3 py-2 text-sm">
                    <option value="">상담 주제를 선택하세요</option>
                    <option value="study-plan">학습 계획 수립</option>
                    <option value="career">진로 상담</option>
                    <option value="motivation">학습 동기 부여</option>
                    <option value="time-management">시간 관리</option>
                    <option value="exam-strategy">시험 전략</option>
                    <option value="stress">학습 스트레스</option>
                    <option value="other">기타</option>
                  </select>
                </div>
                <div class="space-y-2">
                  <label class="text-sm font-medium">상담 내용 (선택)</label>
                  <textarea class="w-full rounded-xl border px-3 py-2 text-sm" rows="3" placeholder="상담하고 싶은 구체적인 내용을 입력해 주세요"></textarea>
                </div>
                <div class="space-y-2">
                  <label class="text-sm font-medium">첨부 파일 (선택)</label>
                  <div class="border-2 border-dashed border-gray-300 rounded-xl p-4 text-center hover:border-blue-400 transition-colors">
                    <input type="file" id="homeroom-file" class="hidden" multiple accept=".pdf,.doc,.docx,.jpg,.jpeg,.png,.gif">
                    <label for="homeroom-file" class="cursor-pointer">
                      <i data-lucide="upload" class="w-8 h-8 text-gray-400 mx-auto mb-2"></i>
                      <p class="text-sm text-gray-600">파일을 드래그하거나 클릭하여 업로드</p>
                      <p class="text-xs text-gray-400 mt-1">PDF, DOC, 이미지 파일 지원 (최대 10MB)</p>
                    </label>
                  </div>
                  <div id="homeroom-file-list" class="space-y-2"></div>
                </div>
                <div class="flex justify-end">
                  <button class="px-6 py-2 rounded-xl bg-blue-600 text-white hover:bg-blue-700">
                    <i data-lucide="calendar-plus" class="w-4 h-4 inline mr-2"></i>
                    상담 신청
                  </button>
                </div>
              </div>
            </div>

            <!-- 교과과목 상담 신청 -->
            <div class="rounded-2xl border bg-white">
              <div class="p-6 border-b">
                <div class="flex items-center gap-3">
                  <div class="w-10 h-10 rounded-lg bg-green-100 flex items-center justify-center">
                    <i data-lucide="book-open" class="w-5 h-5 text-green-600"></i>
                  </div>
                  <div>
                    <h3 class="text-lg font-semibold">교과과목 상담 신청</h3>
                    <p class="text-sm text-neutral-600">특정 과목의 학습 방법과 문제 해결</p>
                  </div>
                </div>
              </div>
              <div class="p-6 space-y-4">
                <div class="space-y-2">
                  <label class="text-sm font-medium">과목 선택</label>
                  <select id="subject-select" class="w-full rounded-xl border px-3 py-2 text-sm" onchange="updateSubjectTeachers()">
                    <option value="">과목을 선택하세요</option>
                    <option value="korean">국어</option>
                    <option value="math">수학</option>
                    <option value="english">영어</option>
                    <option value="physics">물리</option>
                    <option value="chemistry">화학</option>
                    <option value="biology">생명</option>
                    <option value="earth-science">지구과학</option>
                  </select>
                </div>
                <div class="space-y-2">
                  <label class="text-sm font-medium">과목 선생님 선택</label>
                  <select id="subject-teacher" class="w-full rounded-xl border px-3 py-2 text-sm" onchange="updateSubjectSchedule()" disabled>
                    <option value="">먼저 과목을 선택하세요</option>
                  </select>
                </div>
                <div class="grid gap-4 md:grid-cols-2">
                  <div class="space-y-2">
                    <label class="text-sm font-medium">상담 날짜</label>
                    <input type="date" class="w-full rounded-xl border px-3 py-2 text-sm" />
                  </div>
                  <div class="space-y-2">
                    <label class="text-sm font-medium">상담 시간</label>
                    <select id="subject-time" class="w-full rounded-xl border px-3 py-2 text-sm" disabled>
                      <option value="">선생님을 먼저 선택하세요</option>
                    </select>
                  </div>
                </div>
                <div class="space-y-2">
                  <label class="text-sm font-medium">상담 주제</label>
                  <select class="w-full rounded-xl border px-3 py-2 text-sm">
                    <option value="">상담 주제를 선택하세요</option>
                    <option value="concept">개념 이해</option>
                    <option value="problem-solving">문제 해결 방법</option>
                    <option value="exam-prep">시험 대비</option>
                    <option value="weak-points">약점 보완</option>
                    <option value="study-method">학습 방법</option>
                    <option value="homework">과제 도움</option>
                    <option value="other">기타</option>
                  </select>
                </div>
                <div class="space-y-2">
                  <label class="text-sm font-medium">상담 내용 (선택)</label>
                  <textarea class="w-full rounded-xl border px-3 py-2 text-sm" rows="3" placeholder="구체적인 질문이나 도움이 필요한 내용을 입력해 주세요"></textarea>
                </div>
                <div class="space-y-2">
                  <label class="text-sm font-medium">첨부 파일 (선택)</label>
                  <div class="border-2 border-dashed border-gray-300 rounded-xl p-4 text-center hover:border-green-400 transition-colors">
                    <input type="file" id="subject-file" class="hidden" multiple accept=".pdf,.doc,.docx,.jpg,.jpeg,.png,.gif">
                    <label for="subject-file" class="cursor-pointer">
                      <i data-lucide="upload" class="w-8 h-8 text-gray-400 mx-auto mb-2"></i>
                      <p class="text-sm text-gray-600">파일을 드래그하거나 클릭하여 업로드</p>
                      <p class="text-xs text-gray-400 mt-1">PDF, DOC, 이미지 파일 지원 (최대 10MB)</p>
                    </label>
                  </div>
                  <div id="subject-file-list" class="space-y-2"></div>
                </div>
                <div class="flex justify-end">
                  <button class="px-6 py-2 rounded-xl bg-green-600 text-white hover:bg-green-700">
                    <i data-lucide="calendar-plus" class="w-4 h-4 inline mr-2"></i>
                    상담 신청
                  </button>
                </div>
              </div>
            </div>
          </div>

          <!-- 예약 현황 -->
          <div class="rounded-2xl border bg-white">
            <div class="p-6 border-b">
              <h3 class="text-lg font-semibold">나의 상담 예약 현황</h3>
            </div>
            <div class="p-6">
              <div class="space-y-3">
                <div class="flex items-center justify-between p-4 rounded-xl border border-blue-200 bg-blue-50">
                  <div class="flex items-center gap-3">
                    <div class="w-8 h-8 rounded-lg bg-blue-100 flex items-center justify-center">
                      <i data-lucide="user-check" class="w-4 h-4 text-blue-600"></i>
                    </div>
                    <div>
                      <div class="font-medium">학습담임 상담</div>
                      <div class="text-sm text-neutral-600">2025-01-20 14:00 - 14:30</div>
                    </div>
                  </div>
                  <div class="flex items-center gap-2">
                    <span class="px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-800">확정</span>
                    <button class="px-3 py-1 text-xs rounded-lg border border-red-300 text-red-600 hover:bg-red-50">취소</button>
                  </div>
                </div>

                <div class="flex items-center justify-between p-4 rounded-xl border border-green-200 bg-green-50">
                  <div class="flex items-center gap-3">
                    <div class="w-8 h-8 rounded-lg bg-green-100 flex items-center justify-center">
                      <i data-lucide="book-open" class="w-4 h-4 text-green-600"></i>
                    </div>
                    <div>
                      <div class="font-medium">수학 상담</div>
                      <div class="text-sm text-neutral-600">2025-01-22 16:00 - 16:30</div>
                    </div>
                  </div>
                  <div class="flex items-center gap-2">
                    <span class="px-2 py-1 text-xs rounded-full bg-green-100 text-green-800">대기</span>
                    <button class="px-3 py-1 text-xs rounded-lg border border-red-300 text-red-600 hover:bg-red-50">취소</button>
                  </div>
                </div>

                <div class="flex items-center justify-between p-4 rounded-xl border border-orange-200 bg-orange-50">
                  <div class="flex items-center gap-3">
                    <div class="w-8 h-8 rounded-lg bg-orange-100 flex items-center justify-center">
                      <i data-lucide="book-open" class="w-4 h-4 text-orange-600"></i>
                    </div>
                    <div>
                      <div class="font-medium">영어 상담</div>
                      <div class="text-sm text-neutral-600">2025-01-18 19:00 - 19:30</div>
                    </div>
                  </div>
                  <div class="flex items-center gap-2">
                    <span class="px-2 py-1 text-xs rounded-full bg-orange-100 text-orange-800">완료</span>
                    <button class="px-3 py-1 text-xs rounded-lg border border-gray-300 text-gray-600 hover:bg-gray-50" disabled>완료</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        `;
      } else if (id === 'my-vis') {
        content = `
        <div class="space-y-6">
          <div class="mb-2">
            <h2 class="text-xl font-semibold">${title}</h2>
            <p class="text-sm text-neutral-600">성적과 리포트를 확인하세요</p>
          </div>

          <!-- 과목 선택 -->
          <div class="rounded-2xl border bg-white">
            <div class="p-6 border-b">
              <h3 class="text-lg font-semibold">과목 선택</h3>
            </div>
            <div class="p-6">
              <div class="grid gap-4 md:grid-cols-2 lg:grid-cols-3">
                <button onclick="selectSubject('math')" class="subject-btn p-4 rounded-xl border border-gray-200 hover:border-blue-500 hover:bg-blue-50 text-center transition-colors" data-subject="math">
                  <div class="text-lg font-semibold">수학</div>
                  <div class="text-sm text-gray-600">최고점: 95점</div>
                </button>
                <button onclick="selectSubject('korean')" class="subject-btn p-4 rounded-xl border border-gray-200 hover:border-green-500 hover:bg-green-50 text-center transition-colors" data-subject="korean">
                  <div class="text-lg font-semibold">국어</div>
                  <div class="text-sm text-gray-600">최고점: 88점</div>
                </button>
                <button onclick="selectSubject('english')" class="subject-btn p-4 rounded-xl border border-gray-200 hover:border-purple-500 hover:bg-purple-50 text-center transition-colors" data-subject="english">
                  <div class="text-lg font-semibold">영어</div>
                  <div class="text-sm text-gray-600">최고점: 92점</div>
                </button>
                <button onclick="selectSubject('science')" class="subject-btn p-4 rounded-xl border border-gray-200 hover:border-orange-500 hover:bg-orange-50 text-center transition-colors" data-subject="science">
                  <div class="text-lg font-semibold">과학</div>
                  <div class="text-sm text-gray-600">최고점: 90점</div>
                </button>
                <button onclick="selectSubject('social')" class="subject-btn p-4 rounded-xl border border-gray-200 hover:border-pink-500 hover:bg-pink-50 text-center transition-colors" data-subject="social">
                  <div class="text-lg font-semibold">사회</div>
                  <div class="text-sm text-gray-600">최고점: 87점</div>
                </button>
              </div>
            </div>
          </div>

          <!-- 점수 추이 그래프 -->
          <div class="rounded-2xl border bg-white">
            <div class="p-6 border-b">
              <h3 class="text-lg font-semibold">모의고사 점수 추이</h3>
              <p class="text-sm text-gray-600 mt-1">2월부터 11월까지의 모의고사 성적 변화</p>
            </div>
            <div class="p-6">
              <div id="score-chart" class="h-80 flex items-center justify-center">
                <div class="text-center text-gray-500">
                  <i data-lucide="bar-chart-3" class="w-12 h-12 mx-auto mb-2"></i>
                  <p>과목을 선택하면 그래프가 표시됩니다</p>
                </div>
              </div>
            </div>
          </div>

          <!-- 오답 내역 -->
          <div class="rounded-2xl border bg-white">
            <div class="p-6 border-b">
              <div class="flex items-center justify-between">
                <div>
                  <h3 class="text-lg font-semibold">오답 내역</h3>
                  <p class="text-sm text-gray-600 mt-1">지금까지 틀린 문제들을 확인하세요</p>
                </div>
                <button onclick="printReport()" class="px-4 py-2 rounded-xl bg-red-600 text-white hover:bg-red-700">
                  <i data-lucide="printer" class="w-4 h-4 inline mr-2"></i>
                  PDF 출력
                </button>
              </div>
            </div>
            <div class="p-6">
              <div id="wrong-answers-list" class="space-y-4">
                <!-- 수학 오답 내역 -->
                <div class="wrong-answer-item" data-subject="math">
                  <div class="flex items-start gap-4 p-4 rounded-xl border border-gray-200 bg-gray-50">
                    <div class="w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center flex-shrink-0">
                      <i data-lucide="calculator" class="w-5 h-5 text-blue-600"></i>
                    </div>
                    <div class="flex-1">
                      <div class="flex items-center gap-2 mb-2">
                        <span class="px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-800">수학</span>
                        <span class="text-sm text-gray-600">2025년 1월 모의고사</span>
                        <span class="text-sm text-red-600 font-medium">틀림</span>
                      </div>
                      <div class="font-medium mb-2">함수 f(x) = x² - 4x + 3의 최솟값을 구하시오.</div>
                      <div class="text-sm text-gray-600 mb-2">
                        <div class="mb-1"><strong>내 답:</strong> 2</div>
                        <div class="mb-1"><strong>정답:</strong> -1</div>
                        <div><strong>해설:</strong> f(x) = (x-2)² - 1이므로 최솟값은 -1입니다.</div>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="wrong-answer-item" data-subject="math">
                  <div class="flex items-start gap-4 p-4 rounded-xl border border-gray-200 bg-gray-50">
                    <div class="w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center flex-shrink-0">
                      <i data-lucide="calculator" class="w-5 h-5 text-blue-600"></i>
                    </div>
                    <div class="flex-1">
                      <div class="flex items-center gap-2 mb-2">
                        <span class="px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-800">수학</span>
                        <span class="text-sm text-gray-600">2024년 12월 모의고사</span>
                        <span class="text-sm text-red-600 font-medium">틀림</span>
                      </div>
                      <div class="font-medium mb-2">삼각함수 sin(π/6)의 값을 구하시오.</div>
                      <div class="text-sm text-gray-600 mb-2">
                        <div class="mb-1"><strong>내 답:</strong> √3/2</div>
                        <div class="mb-1"><strong>정답:</strong> 1/2</div>
                        <div><strong>해설:</strong> sin(π/6) = sin(30°) = 1/2입니다.</div>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- 국어 오답 내역 -->
                <div class="wrong-answer-item" data-subject="korean">
                  <div class="flex items-start gap-4 p-4 rounded-xl border border-gray-200 bg-gray-50">
                    <div class="w-10 h-10 rounded-lg bg-green-100 flex items-center justify-center flex-shrink-0">
                      <i data-lucide="book-open" class="w-5 h-5 text-green-600"></i>
                    </div>
                    <div class="flex-1">
                      <div class="flex items-center gap-2 mb-2">
                        <span class="px-2 py-1 text-xs rounded-full bg-green-100 text-green-800">국어</span>
                        <span class="text-sm text-gray-600">2025년 1월 모의고사</span>
                        <span class="text-sm text-red-600 font-medium">틀림</span>
                      </div>
                      <div class="font-medium mb-2">다음 시에서 '나'의 심정을 가장 잘 표현한 것은?</div>
                      <div class="text-sm text-gray-600 mb-2">
                        <div class="mb-1"><strong>내 답:</strong> ③</div>
                        <div class="mb-1"><strong>정답:</strong> ②</div>
                        <div><strong>해설:</strong> 시의 전체적인 분위기와 화자의 상황을 고려하면 ②번이 적절합니다.</div>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- 영어 오답 내역 -->
                <div class="wrong-answer-item" data-subject="english">
                  <div class="flex items-start gap-4 p-4 rounded-xl border border-gray-200 bg-gray-50">
                    <div class="w-10 h-10 rounded-lg bg-purple-100 flex items-center justify-center flex-shrink-0">
                      <i data-lucide="globe" class="w-5 h-5 text-purple-600"></i>
                    </div>
                    <div class="flex-1">
                      <div class="flex items-center gap-2 mb-2">
                        <span class="px-2 py-1 text-xs rounded-full bg-purple-100 text-purple-800">영어</span>
                        <span class="text-sm text-gray-600">2024년 12월 모의고사</span>
                        <span class="text-sm text-red-600 font-medium">틀림</span>
                      </div>
                      <div class="font-medium mb-2">다음 빈칸에 들어갈 가장 적절한 단어는?</div>
                      <div class="text-sm text-gray-600 mb-2">
                        <div class="mb-1"><strong>내 답:</strong> A</div>
                        <div class="mb-1"><strong>정답:</strong> C</div>
                        <div><strong>해설:</strong> 문맥상 'however'가 가장 적절한 접속사입니다.</div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        `;
      } else if (id === 'my-link') {
        content = `
        <div class="space-y-6">
          <div class="mb-2">
            <h2 class="text-xl font-semibold">${title}</h2>
            <p class="text-sm text-neutral-600">SNarLink를 활용한 학습량 측정</p>
          </div>

          <!-- 주간 학습시간 막대그래프 -->
          <div class="rounded-2xl border bg-white">
            <div class="p-6 border-b">
              <h3 class="text-lg font-semibold">주간 학습시간</h3>
              <p class="text-sm text-gray-600 mt-1">이번 주 온라인 학습시간 (시간)</p>
            </div>
            <div class="p-6">
              <div id="weekly-chart" class="h-80">
                <div class="flex items-end justify-between h-64 px-4">
                  <div class="flex flex-col items-center">
                    <div class="w-12 bg-blue-500 rounded-t mb-2 transition-all duration-500" style="height: 120px"></div>
                    <div class="text-xs text-gray-600">월</div>
                    <div class="text-xs font-semibold text-blue-600">3.0h</div>
                  </div>
                  <div class="flex flex-col items-center">
                    <div class="w-12 bg-blue-500 rounded-t mb-2 transition-all duration-500" style="height: 140px"></div>
                    <div class="text-xs text-gray-600">화</div>
                    <div class="text-xs font-semibold text-blue-600">3.5h</div>
                  </div>
                  <div class="flex flex-col items-center">
                    <div class="w-12 bg-blue-500 rounded-t mb-2 transition-all duration-500" style="height: 160px"></div>
                    <div class="text-xs text-gray-600">수</div>
                    <div class="text-xs font-semibold text-blue-600">4.0h</div>
                  </div>
                  <div class="flex flex-col items-center">
                    <div class="w-12 bg-blue-500 rounded-t mb-2 transition-all duration-500" style="height: 180px"></div>
                    <div class="text-xs text-gray-600">목</div>
                    <div class="text-xs font-semibold text-blue-600">4.5h</div>
                  </div>
                  <div class="flex flex-col items-center">
                    <div class="w-12 bg-blue-500 rounded-t mb-2 transition-all duration-500" style="height: 200px"></div>
                    <div class="text-xs text-gray-600">금</div>
                    <div class="text-xs font-semibold text-blue-600">5.0h</div>
                  </div>
                  <div class="flex flex-col items-center">
                    <div class="w-12 bg-blue-500 rounded-t mb-2 transition-all duration-500" style="height: 100px"></div>
                    <div class="text-xs text-gray-600">토</div>
                    <div class="text-xs font-semibold text-blue-600">2.5h</div>
                  </div>
                  <div class="flex flex-col items-center">
                    <div class="w-12 bg-blue-500 rounded-t mb-2 transition-all duration-500" style="height: 80px"></div>
                    <div class="text-xs text-gray-600">일</div>
                    <div class="text-xs font-semibold text-blue-600">2.0h</div>
                  </div>
                </div>
                <div class="mt-4 text-center">
                  <div class="text-sm text-gray-600">
                    <span class="inline-block w-3 h-3 bg-blue-500 rounded mr-2"></span>
                    총 학습시간: 24.5시간 | 평균: 3.5시간/일
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- 사이트별 접속 통계 -->
          <div class="rounded-2xl border bg-white">
            <div class="p-6 border-b">
              <h3 class="text-lg font-semibold">사이트별 접속 통계</h3>
              <p class="text-sm text-gray-600 mt-1">이번 주 학습 사이트 이용 현황</p>
            </div>
            <div class="p-6">
              <div class="grid md:grid-cols-2 gap-8">
                <!-- 파이차트 -->
                <div class="flex items-center justify-center">
                  <div class="relative w-48 h-48">
                    <svg class="w-48 h-48 transform -rotate-90" viewBox="0 0 100 100">
                      <!-- 메가스터디 71% -->
                      <circle cx="50" cy="50" r="40" fill="none" stroke="#3B82F6" stroke-width="8" 
                              stroke-dasharray="223 100" stroke-dashoffset="0"></circle>
                      <!-- 시대인재 21% -->
                      <circle cx="50" cy="50" r="40" fill="none" stroke="#10B981" stroke-width="8" 
                              stroke-dasharray="66 100" stroke-dashoffset="-223"></circle>
                      <!-- 대성마이맥 8% -->
                      <circle cx="50" cy="50" r="40" fill="none" stroke="#F59E0B" stroke-width="8" 
                              stroke-dasharray="25 100" stroke-dashoffset="-289"></circle>
                    </svg>
                    <div class="absolute inset-0 flex items-center justify-center">
                      <div class="text-center">
                        <div class="text-2xl font-bold text-gray-800">24.5h</div>
                        <div class="text-sm text-gray-600">총 학습시간</div>
                      </div>
                    </div>
                  </div>
                </div>
                
                <!-- 범례 -->
                <div class="space-y-4">
                  <div class="flex items-center gap-3">
                    <div class="w-4 h-4 bg-blue-500 rounded"></div>
                    <div class="flex-1">
                      <div class="font-medium">메가스터디</div>
                      <div class="text-sm text-gray-600">17.4시간 (71%)</div>
                    </div>
                  </div>
                  <div class="flex items-center gap-3">
                    <div class="w-4 h-4 bg-green-500 rounded"></div>
                    <div class="flex-1">
                      <div class="font-medium">시대인재</div>
                      <div class="text-sm text-gray-600">5.1시간 (21%)</div>
                    </div>
                  </div>
                  <div class="flex items-center gap-3">
                    <div class="w-4 h-4 bg-yellow-500 rounded"></div>
                    <div class="flex-1">
                      <div class="font-medium">대성마이맥</div>
                      <div class="text-sm text-gray-600">2.0시간 (8%)</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- 상세 통계 -->
          <div class="grid md:grid-cols-3 gap-6">
            <div class="rounded-2xl border bg-white p-6">
              <div class="flex items-center gap-3 mb-4">
                <div class="w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center">
                  <i data-lucide="trending-up" class="w-5 h-5 text-blue-600"></i>
                </div>
                <div>
                  <h4 class="font-semibold">주간 목표 달성률</h4>
                  <p class="text-sm text-gray-600">목표: 30시간</p>
                </div>
              </div>
              <div class="text-2xl font-bold text-blue-600">81.7%</div>
              <div class="w-full bg-gray-200 rounded-full h-2 mt-2">
                <div class="bg-blue-500 h-2 rounded-full" style="width: 81.7%"></div>
              </div>
            </div>

            <div class="rounded-2xl border bg-white p-6">
              <div class="flex items-center gap-3 mb-4">
                <div class="w-10 h-10 rounded-lg bg-green-100 flex items-center justify-center">
                  <i data-lucide="calendar" class="w-5 h-5 text-green-600"></i>
                </div>
                <div>
                  <h4 class="font-semibold">연속 학습일</h4>
                  <p class="text-sm text-gray-600">현재 연속</p>
                </div>
              </div>
              <div class="text-2xl font-bold text-green-600">7일</div>
              <div class="text-sm text-gray-600 mt-1">최고 기록: 15일</div>
            </div>

            <div class="rounded-2xl border bg-white p-6">
              <div class="flex items-center gap-3 mb-4">
                <div class="w-10 h-10 rounded-lg bg-purple-100 flex items-center justify-center">
                  <i data-lucide="clock" class="w-5 h-5 text-purple-600"></i>
                </div>
                <div>
                  <h4 class="font-semibold">평균 집중도</h4>
                  <p class="text-sm text-gray-600">이번 주</p>
                </div>
              </div>
              <div class="text-2xl font-bold text-purple-600">87%</div>
              <div class="text-sm text-gray-600 mt-1">지난 주 대비 +5%</div>
            </div>
          </div>

          <!-- AI 훈수 -->
          <div class="rounded-2xl border bg-gradient-to-r from-blue-50 to-purple-50">
            <div class="p-6 border-b border-blue-200">
              <div class="flex items-center gap-3">
                <div class="w-10 h-10 rounded-lg bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center">
                  <i data-lucide="brain" class="w-5 h-5 text-white"></i>
                </div>
                <div>
                  <h3 class="text-lg font-semibold">AI 학습 코치</h3>
                  <p class="text-sm text-gray-600">개인화된 학습 조언을 받아보세요</p>
                </div>
              </div>
            </div>
            <div class="p-6">
              <div class="bg-white rounded-xl p-4 mb-4">
                <div class="flex items-start gap-3">
                  <div class="w-8 h-8 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center flex-shrink-0">
                    <i data-lucide="sparkles" class="w-4 h-4 text-white"></i>
                  </div>
                  <div class="flex-1">
                    <div class="font-medium text-gray-800 mb-2">이번 주 학습 분석</div>
                    <div class="text-sm text-gray-600 space-y-2">
                      <p>• <strong>좋은 점:</strong> 금요일에 5시간으로 가장 집중적으로 학습하셨네요! 👍</p>
                      <p>• <strong>개선점:</strong> 주말 학습시간이 평일 대비 부족합니다. 토요일 2.5시간, 일요일 2.0시간으로 목표(4시간)에 못 미쳤어요.</p>
                      <p>• <strong>추천:</strong> 주말에도 평일과 비슷한 학습량을 유지하면 더 안정적인 성적 향상을 기대할 수 있습니다.</p>
                    </div>
                  </div>
                </div>
              </div>
              
              <div class="bg-white rounded-xl p-4">
                <div class="flex items-start gap-3">
                  <div class="w-8 h-8 rounded-full bg-gradient-to-r from-green-500 to-blue-500 flex items-center justify-center flex-shrink-0">
                    <i data-lucide="target" class="w-4 h-4 text-white"></i>
                  </div>
                  <div class="flex-1">
                    <div class="font-medium text-gray-800 mb-2">다음 주 목표</div>
                    <div class="text-sm text-gray-600 space-y-2">
                      <p>• <strong>주간 목표:</strong> 30시간 → 32시간 (주말 학습량 증가)</p>
                      <p>• <strong>집중도 목표:</strong> 87% → 90% (휴식 시간 최적화)</p>
                      <p>• <strong>연속 학습:</strong> 7일 → 14일 (주말 학습 습관화)</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        `;
      } else if (id === 'dorm-score') {
        content = `
        <div class="space-y-6">
          <div class="mb-2">
            <h2 class="text-xl font-semibold">${title}</h2>
            <p class="text-sm text-neutral-600">벌점과 상점 내역을 확인하세요</p>
          </div>

          <!-- 점수 요약 -->
          <div class="grid md:grid-cols-3 gap-6">
            <div class="rounded-2xl border bg-white p-6">
              <div class="flex items-center gap-3 mb-4">
                <div class="w-10 h-10 rounded-lg bg-red-100 flex items-center justify-center">
                  <i data-lucide="minus-circle" class="w-5 h-5 text-red-600"></i>
                </div>
                <div>
                  <h4 class="font-semibold">벌점 합계</h4>
                  <p class="text-sm text-gray-600">현재까지</p>
                </div>
              </div>
              <div class="text-3xl font-bold text-red-600">-15점</div>
              <div class="text-sm text-gray-600 mt-1">이번 달: -8점</div>
            </div>

            <div class="rounded-2xl border bg-white p-6">
              <div class="flex items-center gap-3 mb-4">
                <div class="w-10 h-10 rounded-lg bg-green-100 flex items-center justify-center">
                  <i data-lucide="plus-circle" class="w-5 h-5 text-green-600"></i>
                </div>
                <div>
                  <h4 class="font-semibold">상점 합계</h4>
                  <p class="text-sm text-gray-600">현재까지</p>
                </div>
              </div>
              <div class="text-3xl font-bold text-green-600">+28점</div>
              <div class="text-sm text-gray-600 mt-1">이번 달: +12점</div>
            </div>

            <div class="rounded-2xl border bg-white p-6">
              <div class="flex items-center gap-3 mb-4">
                <div class="w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center">
                  <i data-lucide="award" class="w-5 h-5 text-blue-600"></i>
                </div>
                <div>
                  <h4 class="font-semibold">총 점수</h4>
                  <p class="text-sm text-gray-600">벌점 + 상점</p>
                </div>
              </div>
              <div class="text-3xl font-bold text-blue-600">+13점</div>
              <div class="text-sm text-gray-600 mt-1">순상점: +13점</div>
            </div>
          </div>

          <!-- 점수 등급 -->
          <div class="rounded-2xl border bg-white">
            <div class="p-6 border-b">
              <h3 class="text-lg font-semibold">점수 등급</h3>
            </div>
            <div class="p-6">
              <div class="flex items-center justify-between mb-4">
                <div class="text-sm text-gray-600">현재 등급</div>
                <div class="px-3 py-1 rounded-full bg-green-100 text-green-800 font-medium">우수</div>
              </div>
              <div class="w-full bg-gray-200 rounded-full h-3">
                <div class="bg-gradient-to-r from-green-400 to-green-500 h-3 rounded-full" style="width: 65%"></div>
              </div>
              <div class="flex justify-between text-xs text-gray-600 mt-2">
                <span>0점</span>
                <span>+13점</span>
                <span>20점</span>
              </div>
              <div class="mt-4 text-sm text-gray-600">
                <p>• <strong>우수 (20점 이상):</strong> 특별 혜택 제공</p>
                <p>• <strong>양호 (0-19점):</strong> 정상 등급</p>
                <p>• <strong>주의 (-10~-1점):</strong> 주의 필요</p>
                <p>• <strong>경고 (-20점 이하):</strong> 특별 관리 대상</p>
              </div>
            </div>
          </div>

          <!-- 벌점 내역 -->
          <div class="rounded-2xl border bg-white">
            <div class="p-6 border-b">
              <h3 class="text-lg font-semibold">벌점 내역</h3>
              <p class="text-sm text-gray-600 mt-1">지금까지 받은 벌점 기록</p>
            </div>
            <div class="p-6">
              <div class="space-y-4">
                <div class="flex items-start gap-4 p-4 rounded-xl border border-red-200 bg-red-50">
                  <div class="w-10 h-10 rounded-lg bg-red-100 flex items-center justify-center flex-shrink-0">
                    <i data-lucide="minus-circle" class="w-5 h-5 text-red-600"></i>
                  </div>
                  <div class="flex-1">
                    <div class="flex items-center gap-2 mb-2">
                      <span class="px-2 py-1 text-xs rounded-full bg-red-100 text-red-800">지각</span>
                      <span class="text-sm text-gray-600">2025년 1월 15일</span>
                      <span class="text-sm text-red-600 font-medium">-2점</span>
                    </div>
                    <div class="font-medium mb-1">아침 등원 지각</div>
                    <div class="text-sm text-gray-600">8시 30분 등원 지각 (정시: 8시)</div>
                  </div>
                </div>

                <div class="flex items-start gap-4 p-4 rounded-xl border border-red-200 bg-red-50">
                  <div class="w-10 h-10 rounded-lg bg-red-100 flex items-center justify-center flex-shrink-0">
                    <i data-lucide="minus-circle" class="w-5 h-5 text-red-600"></i>
                  </div>
                  <div class="flex-1">
                    <div class="flex items-center gap-2 mb-2">
                      <span class="px-2 py-1 text-xs rounded-full bg-red-100 text-red-800">규칙위반</span>
                      <span class="text-sm text-gray-600">2025년 1월 12일</span>
                      <span class="text-sm text-red-600 font-medium">-3점</span>
                    </div>
                    <div class="font-medium mb-1">휴대폰 사용</div>
                    <div class="text-sm text-gray-600">자습시간 중 휴대폰 사용</div>
                  </div>
                </div>

                <div class="flex items-start gap-4 p-4 rounded-xl border border-red-200 bg-red-50">
                  <div class="w-10 h-10 rounded-lg bg-red-100 flex items-center justify-center flex-shrink-0">
                    <i data-lucide="minus-circle" class="w-5 h-5 text-red-600"></i>
                  </div>
                  <div class="flex-1">
                    <div class="flex items-center gap-2 mb-2">
                      <span class="px-2 py-1 text-xs rounded-full bg-red-100 text-red-800">정리정돈</span>
                      <span class="text-sm text-gray-600">2025년 1월 10일</span>
                      <span class="text-sm text-red-600 font-medium">-1점</span>
                    </div>
                    <div class="font-medium mb-1">개인 물품 정리 미흡</div>
                    <div class="text-sm text-gray-600">책상 정리 상태 불량</div>
                  </div>
                </div>

                <div class="flex items-start gap-4 p-4 rounded-xl border border-red-200 bg-red-50">
                  <div class="w-10 h-10 rounded-lg bg-red-100 flex items-center justify-center flex-shrink-0">
                    <i data-lucide="minus-circle" class="w-5 h-5 text-red-600"></i>
                  </div>
                  <div class="flex-1">
                    <div class="flex items-center gap-2 mb-2">
                      <span class="px-2 py-1 text-xs rounded-full bg-red-100 text-red-800">지각</span>
                      <span class="text-sm text-gray-600">2025년 1월 8일</span>
                      <span class="text-sm text-red-600 font-medium">-2점</span>
                    </div>
                    <div class="font-medium mb-1">아침 등원 지각</div>
                    <div class="text-sm text-gray-600">8시 25분 등원 지각 (정시: 8시)</div>
                  </div>
                </div>

                <div class="flex items-start gap-4 p-4 rounded-xl border border-red-200 bg-red-50">
                  <div class="w-10 h-10 rounded-lg bg-red-100 flex items-center justify-center flex-shrink-0">
                    <i data-lucide="minus-circle" class="w-5 h-5 text-red-600"></i>
                  </div>
                  <div class="flex-1">
                    <div class="flex items-center gap-2 mb-2">
                      <span class="px-2 py-1 text-xs rounded-full bg-red-100 text-red-800">기타</span>
                      <span class="text-sm text-gray-600">2024년 12월 28일</span>
                      <span class="text-sm text-red-600 font-medium">-7점</span>
                    </div>
                    <div class="font-medium mb-1">기숙사 규칙 위반</div>
                    <div class="text-sm text-gray-600">소등시간 후 불필요한 활동</div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- 상점 내역 -->
          <div class="rounded-2xl border bg-white">
            <div class="p-6 border-b">
              <h3 class="text-lg font-semibold">상점 내역</h3>
              <p class="text-sm text-gray-600 mt-1">지금까지 받은 상점 기록</p>
            </div>
            <div class="p-6">
              <div class="space-y-4">
                <div class="flex items-start gap-4 p-4 rounded-xl border border-green-200 bg-green-50">
                  <div class="w-10 h-10 rounded-lg bg-green-100 flex items-center justify-center flex-shrink-0">
                    <i data-lucide="plus-circle" class="w-5 h-5 text-green-600"></i>
                  </div>
                  <div class="flex-1">
                    <div class="flex items-center gap-2 mb-2">
                      <span class="px-2 py-1 text-xs rounded-full bg-green-100 text-green-800">학습</span>
                      <span class="text-sm text-gray-600">2025년 1월 14일</span>
                      <span class="text-sm text-green-600 font-medium">+5점</span>
                    </div>
                    <div class="font-medium mb-1">모의고사 성적 향상</div>
                    <div class="text-sm text-gray-600">수학 15점 상승 (78점 → 93점)</div>
                  </div>
                </div>

                <div class="flex items-start gap-4 p-4 rounded-xl border border-green-200 bg-green-50">
                  <div class="w-10 h-10 rounded-lg bg-green-100 flex items-center justify-center flex-shrink-0">
                    <i data-lucide="plus-circle" class="w-5 h-5 text-green-600"></i>
                  </div>
                  <div class="flex-1">
                    <div class="flex items-center gap-2 mb-2">
                      <span class="px-2 py-1 text-xs rounded-full bg-green-100 text-green-800">봉사</span>
                      <span class="text-sm text-gray-600">2025년 1월 13일</span>
                      <span class="text-sm text-green-600 font-medium">+3점</span>
                    </div>
                    <div class="font-medium mb-1">학원 청소 봉사</div>
                    <div class="text-sm text-gray-600">주말 자발적 청소 참여</div>
                  </div>
                </div>

                <div class="flex items-start gap-4 p-4 rounded-xl border border-green-200 bg-green-50">
                  <div class="w-10 h-10 rounded-lg bg-green-100 flex items-center justify-center flex-shrink-0">
                    <i data-lucide="plus-circle" class="w-5 h-5 text-green-600"></i>
                  </div>
                  <div class="flex-1">
                    <div class="flex items-center gap-2 mb-2">
                      <span class="px-2 py-1 text-xs rounded-full bg-green-100 text-green-800">도움</span>
                      <span class="text-sm text-gray-600">2025년 1월 11일</span>
                      <span class="text-sm text-green-600 font-medium">+2점</span>
                    </div>
                    <div class="font-medium mb-1">동급생 학습 도움</div>
                    <div class="text-sm text-gray-600">수학 문제 해설 도움</div>
                  </div>
                </div>

                <div class="flex items-start gap-4 p-4 rounded-xl border border-green-200 bg-green-50">
                  <div class="w-10 h-10 rounded-lg bg-green-100 flex items-center justify-center flex-shrink-0">
                    <i data-lucide="plus-circle" class="w-5 h-5 text-green-600"></i>
                  </div>
                  <div class="flex-1">
                    <div class="flex items-center gap-2 mb-2">
                      <span class="px-2 py-1 text-xs rounded-full bg-green-100 text-green-800">학습</span>
                      <span class="text-sm text-gray-600">2025년 1월 9일</span>
                      <span class="text-sm text-green-600 font-medium">+4점</span>
                    </div>
                    <div class="font-medium mb-1">연속 학습일 달성</div>
                    <div class="text-sm text-gray-600">7일 연속 학습 완료</div>
                  </div>
                </div>

                <div class="flex items-start gap-4 p-4 rounded-xl border border-green-200 bg-green-50">
                  <div class="w-10 h-10 rounded-lg bg-green-100 flex items-center justify-center flex-shrink-0">
                    <i data-lucide="plus-circle" class="w-5 h-5 text-green-600"></i>
                  </div>
                  <div class="flex-1">
                    <div class="flex items-center gap-2 mb-2">
                      <span class="px-2 py-1 text-xs rounded-full bg-green-100 text-green-800">기타</span>
                      <span class="text-sm text-gray-600">2024년 12월 30일</span>
                      <span class="text-sm text-green-600 font-medium">+14점</span>
                    </div>
                    <div class="font-medium mb-1">연말 우수 학생 표창</div>
                    <div class="text-sm text-gray-600">12월 모범 학생 선정</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        `;
      } else if (id === 'my-profile') {
        content = `
        <div class="space-y-6">
          <div class="mb-2">
            <h2 class="text-xl font-semibold">${title}</h2>
            <p class="text-sm text-neutral-600">개인정보와 푸시 알림을 관리하세요</p>
          </div>

          <!-- 개인정보 수정 -->
          <div class="rounded-2xl border bg-white">
            <div class="p-6 border-b">
              <h3 class="text-lg font-semibold">개인정보 수정</h3>
            </div>
            <div class="p-6 space-y-6">
              <div class="grid gap-6 md:grid-cols-2">
                <div class="space-y-2">
                  <label class="text-sm font-medium">이름</label>
                  <input type="text" value="김학생" class="w-full rounded-xl border px-3 py-2 text-sm" readonly>
                </div>
                <div class="space-y-2">
                  <label class="text-sm font-medium">학번</label>
                  <input type="text" value="2025001234" class="w-full rounded-xl border px-3 py-2 text-sm" readonly>
                </div>
              </div>

              <div class="grid gap-6 md:grid-cols-2">
                <div class="space-y-2">
                  <label class="text-sm font-medium">전화번호 <span class="text-red-500">*</span></label>
                  <input type="tel" value="010-1234-5678" class="w-full rounded-xl border px-3 py-2 text-sm" placeholder="010-0000-0000">
                </div>
                <div class="space-y-2">
                  <label class="text-sm font-medium">이메일 <span class="text-red-500">*</span></label>
                  <input type="email" value="student@snacademy.com" class="w-full rounded-xl border px-3 py-2 text-sm" placeholder="example@email.com">
                </div>
              </div>

              <div class="grid gap-6 md:grid-cols-2">
                <div class="space-y-2">
                  <label class="text-sm font-medium">지점</label>
                  <select class="w-full rounded-xl border px-3 py-2 text-sm">
                    <option value="gangnam" selected>강남점</option>
                    <option value="seoul">서울점</option>
                    <option value="busan">부산점</option>
                    <option value="daegu">대구점</option>
                    <option value="incheon">인천점</option>
                    <option value="gwangju">광주점</option>
                    <option value="daejeon">대전점</option>
                    <option value="ulsan">울산점</option>
                  </select>
                </div>
                <div class="space-y-2">
                  <label class="text-sm font-medium">반</label>
                  <select class="w-full rounded-xl border px-3 py-2 text-sm">
                    <option value="1-1" selected>1학년 1반</option>
                    <option value="1-2">1학년 2반</option>
                    <option value="2-1">2학년 1반</option>
                    <option value="2-2">2학년 2반</option>
                    <option value="3-1">3학년 1반</option>
                    <option value="3-2">3학년 2반</option>
                  </select>
                </div>
              </div>

              <div class="space-y-2">
                <label class="text-sm font-medium">주소</label>
                <div class="flex gap-2">
                  <input type="text" value="서울특별시 강남구 테헤란로 123" class="flex-1 rounded-xl border px-3 py-2 text-sm" placeholder="주소를 입력하세요">
                  <button class="px-4 py-2 rounded-xl border border-gray-300 text-sm hover:bg-gray-50">검색</button>
                </div>
              </div>

              <div class="flex justify-end">
                <button onclick="saveProfile()" class="px-6 py-3 rounded-xl bg-blue-600 text-white hover:bg-blue-700">
                  <i data-lucide="save" class="w-4 h-4 inline mr-2"></i>
                  정보 저장
                </button>
              </div>
            </div>
          </div>

          <!-- 비밀번호 변경 -->
          <div class="rounded-2xl border bg-white">
            <div class="p-6 border-b">
              <h3 class="text-lg font-semibold">비밀번호 변경</h3>
            </div>
            <div class="p-6 space-y-4">
              <div class="space-y-2">
                <label class="text-sm font-medium">현재 비밀번호 <span class="text-red-500">*</span></label>
                <input type="password" class="w-full rounded-xl border px-3 py-2 text-sm" placeholder="현재 비밀번호를 입력하세요">
              </div>
              <div class="space-y-2">
                <label class="text-sm font-medium">새 비밀번호 <span class="text-red-500">*</span></label>
                <input type="password" class="w-full rounded-xl border px-3 py-2 text-sm" placeholder="새 비밀번호를 입력하세요">
              </div>
              <div class="space-y-2">
                <label class="text-sm font-medium">새 비밀번호 확인 <span class="text-red-500">*</span></label>
                <input type="password" class="w-full rounded-xl border px-3 py-2 text-sm" placeholder="새 비밀번호를 다시 입력하세요">
              </div>
              <div class="flex justify-end">
                <button onclick="changePassword()" class="px-6 py-3 rounded-xl bg-orange-600 text-white hover:bg-orange-700">
                  <i data-lucide="key" class="w-4 h-4 inline mr-2"></i>
                  비밀번호 변경
                </button>
              </div>
            </div>
          </div>

          <!-- 푸시 알림 설정 -->
          <div class="rounded-2xl border bg-white">
            <div class="p-6 border-b">
              <h3 class="text-lg font-semibold">푸시 알림 설정</h3>
            </div>
            <div class="p-6 space-y-6">
              <div class="space-y-4">
                <div class="flex items-center justify-between">
                  <div>
                    <div class="font-medium">전체 알림</div>
                    <div class="text-sm text-gray-600">모든 푸시 알림을 받습니다</div>
                  </div>
                  <label class="relative inline-flex items-center cursor-pointer">
                    <input type="checkbox" class="sr-only peer" checked>
                    <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"></div>
                  </label>
                </div>

                <div class="flex items-center justify-between">
                  <div>
                    <div class="font-medium">학습 관련 알림</div>
                    <div class="text-sm text-gray-600">과제, 시험, 성적 관련 알림</div>
                  </div>
                  <label class="relative inline-flex items-center cursor-pointer">
                    <input type="checkbox" class="sr-only peer" checked>
                    <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"></div>
                  </label>
                </div>

                <div class="flex items-center justify-between">
                  <div>
                    <div class="font-medium">출결 관련 알림</div>
                    <div class="text-sm text-gray-600">출석, 지각, 조퇴 관련 알림</div>
                  </div>
                  <label class="relative inline-flex items-center cursor-pointer">
                    <input type="checkbox" class="sr-only peer" checked>
                    <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"></div>
                  </label>
                </div>

                <div class="flex items-center justify-between">
                  <div>
                    <div class="font-medium">상담 관련 알림</div>
                    <div class="text-sm text-gray-600">상담 예약, 상담 완료 관련 알림</div>
                  </div>
                  <label class="relative inline-flex items-center cursor-pointer">
                    <input type="checkbox" class="sr-only peer" checked>
                    <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"></div>
                  </label>
                </div>

                <div class="flex items-center justify-between">
                  <div>
                    <div class="font-medium">생활 관련 알림</div>
                    <div class="text-sm text-gray-600">외출, 외박, 식사 관련 알림</div>
                  </div>
                  <label class="relative inline-flex items-center cursor-pointer">
                    <input type="checkbox" class="sr-only peer" checked>
                    <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"></div>
                  </label>
                </div>

                <div class="flex items-center justify-between">
                  <div>
                    <div class="font-medium">마케팅 알림</div>
                    <div class="text-sm text-gray-600">이벤트, 프로모션 관련 알림</div>
                  </div>
                  <label class="relative inline-flex items-center cursor-pointer">
                    <input type="checkbox" class="sr-only peer">
                    <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"></div>
                  </label>
                </div>
              </div>

              <div class="pt-4 border-t">
                <div class="space-y-4">
                  <div class="space-y-2">
                    <label class="text-sm font-medium">알림 시간 설정</label>
                    <div class="grid gap-4 md:grid-cols-2">
                      <div class="space-y-2">
                        <label class="text-xs text-gray-600">시작 시간</label>
                        <input type="time" value="09:00" class="w-full rounded-xl border px-3 py-2 text-sm">
                      </div>
                      <div class="space-y-2">
                        <label class="text-xs text-gray-600">종료 시간</label>
                        <input type="time" value="22:00" class="w-full rounded-xl border px-3 py-2 text-sm">
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <div class="flex justify-end">
                <button onclick="saveNotificationSettings()" class="px-6 py-3 rounded-xl bg-green-600 text-white hover:bg-green-700">
                  <i data-lucide="bell" class="w-4 h-4 inline mr-2"></i>
                  알림 설정 저장
                </button>
              </div>
            </div>
          </div>

          <!-- 계정 관리 -->
          <div class="rounded-2xl border bg-white">
            <div class="p-6 border-b">
              <h3 class="text-lg font-semibold">계정 관리</h3>
            </div>
            <div class="p-6 space-y-4">
              <div class="flex items-center justify-between p-4 rounded-xl border border-gray-200">
                <div class="flex items-center gap-3">
                  <div class="w-10 h-10 rounded-lg bg-red-100 flex items-center justify-center">
                    <i data-lucide="log-out" class="w-5 h-5 text-red-600"></i>
                  </div>
                  <div>
                    <div class="font-medium">로그아웃</div>
                    <div class="text-sm text-gray-600">현재 계정에서 로그아웃합니다</div>
                  </div>
                </div>
                <button onclick="logout()" class="px-4 py-2 rounded-xl border border-red-300 text-red-600 hover:bg-red-50">
                  로그아웃
                </button>
              </div>

              <div class="flex items-center justify-between p-4 rounded-xl border border-gray-200">
                <div class="flex items-center gap-3">
                  <div class="w-10 h-10 rounded-lg bg-orange-100 flex items-center justify-center">
                    <i data-lucide="trash-2" class="w-5 h-5 text-orange-600"></i>
                  </div>
                  <div>
                    <div class="font-medium">계정 삭제</div>
                    <div class="text-sm text-gray-600">계정과 모든 데이터를 영구적으로 삭제합니다</div>
                  </div>
                </div>
                <button onclick="deleteAccount()" class="px-4 py-2 rounded-xl border border-orange-300 text-orange-600 hover:bg-orange-50">
                  계정 삭제
                </button>
              </div>
            </div>
          </div>
        </div>
        `;
      } else if (id === 'my-consult-history') {
        content = `
        <div class="space-y-6">
          <div class="mb-2">
            <h2 class="text-xl font-semibold">${title}</h2>
            <p class="text-sm text-neutral-600">나의 상담 예약 및 상담 이력을 확인하세요</p>
          </div>

          <!-- 필터 및 검색 -->
          <div class="rounded-2xl border bg-white p-6">
            <div class="grid gap-4 md:grid-cols-4">
              <div class="space-y-2">
                <label class="text-sm font-medium">상담 유형</label>
                <select class="w-full rounded-xl border px-3 py-2 text-sm">
                  <option value="">전체</option>
                  <option value="homeroom">학습담임 상담</option>
                  <option value="subject">교과과목 상담</option>
                </select>
              </div>
              <div class="space-y-2">
                <label class="text-sm font-medium">상태</label>
                <select class="w-full rounded-xl border px-3 py-2 text-sm">
                  <option value="">전체</option>
                  <option value="scheduled">예약됨</option>
                  <option value="completed">완료</option>
                  <option value="cancelled">취소됨</option>
                </select>
              </div>
              <div class="space-y-2">
                <label class="text-sm font-medium">기간</label>
                <select class="w-full rounded-xl border px-3 py-2 text-sm">
                  <option value="">전체</option>
                  <option value="week">최근 1주</option>
                  <option value="month">최근 1개월</option>
                  <option value="3months">최근 3개월</option>
                </select>
              </div>
              <div class="space-y-2">
                <label class="text-sm font-medium">검색</label>
                <div class="relative">
                  <input type="text" placeholder="선생님명 또는 주제 검색..." class="w-full rounded-xl border px-3 py-2 pr-10 text-sm" />
                  <i data-lucide="search" class="w-4 h-4 absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                </div>
              </div>
            </div>
          </div>

          <!-- 상담 이력 목록 -->
          <div class="space-y-4">
            <!-- 예약된 상담 -->
            <div class="rounded-2xl border bg-white">
              <div class="p-6 border-b">
                <h3 class="text-lg font-semibold flex items-center gap-2">
                  <i data-lucide="calendar-clock" class="w-5 h-5 text-blue-600"></i>
                  예약된 상담
                </h3>
              </div>
              <div class="p-6">
                <div class="space-y-3">
                  <div class="flex items-center justify-between p-4 rounded-xl border border-blue-200 bg-blue-50">
                    <div class="flex items-center gap-4">
                      <div class="w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center">
                        <i data-lucide="user-check" class="w-6 h-6 text-blue-600"></i>
                      </div>
                      <div>
                        <div class="font-medium">학습담임 상담</div>
                        <div class="text-sm text-gray-600">김영희 선생님</div>
                        <div class="text-xs text-gray-500">2025-01-20 14:00 - 14:30</div>
                      </div>
                    </div>
                    <div class="flex items-center gap-2">
                      <span class="px-3 py-1 text-xs rounded-full bg-blue-100 text-blue-800">예약됨</span>
                      <button class="px-3 py-1 text-xs rounded-lg border border-red-300 text-red-600 hover:bg-red-50">취소</button>
                    </div>
                  </div>

                  <div class="flex items-center justify-between p-4 rounded-xl border border-green-200 bg-green-50">
                    <div class="flex items-center gap-4">
                      <div class="w-12 h-12 rounded-full bg-green-100 flex items-center justify-center">
                        <i data-lucide="book-open" class="w-6 h-6 text-green-600"></i>
                      </div>
                      <div>
                        <div class="font-medium">수학 상담</div>
                        <div class="text-sm text-gray-600">홍길동 선생님</div>
                        <div class="text-xs text-gray-500">2025-01-22 16:00 - 16:30</div>
                      </div>
                    </div>
                    <div class="flex items-center gap-2">
                      <span class="px-3 py-1 text-xs rounded-full bg-green-100 text-green-800">대기</span>
                      <button class="px-3 py-1 text-xs rounded-lg border border-red-300 text-red-600 hover:bg-red-50">취소</button>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- 완료된 상담 -->
            <div class="rounded-2xl border bg-white">
              <div class="p-6 border-b">
                <h3 class="text-lg font-semibold flex items-center gap-2">
                  <i data-lucide="check-circle" class="w-5 h-5 text-green-600"></i>
                  완료된 상담
                </h3>
              </div>
              <div class="p-6">
                <div class="space-y-3">
                  <div class="flex items-center justify-between p-4 rounded-xl border border-gray-200 bg-gray-50">
                    <div class="flex items-center gap-4">
                      <div class="w-12 h-12 rounded-full bg-orange-100 flex items-center justify-center">
                        <i data-lucide="book-open" class="w-6 h-6 text-orange-600"></i>
                      </div>
                      <div>
                        <div class="font-medium">영어 상담</div>
                        <div class="text-sm text-gray-600">Sarah Johnson 선생님</div>
                        <div class="text-xs text-gray-500">2025-01-18 19:00 - 19:30</div>
                        <div class="text-xs text-green-600 mt-1">✓ 상담 완료</div>
                      </div>
                    </div>
                    <div class="flex items-center gap-2">
                      <span class="px-3 py-1 text-xs rounded-full bg-green-100 text-green-800">완료</span>
                      <button class="px-3 py-1 text-xs rounded-lg border border-gray-300 text-gray-600 hover:bg-gray-50">상세보기</button>
                    </div>
                  </div>

                  <div class="flex items-center justify-between p-4 rounded-xl border border-gray-200 bg-gray-50">
                    <div class="flex items-center gap-4">
                      <div class="w-12 h-12 rounded-full bg-purple-100 flex items-center justify-center">
                        <i data-lucide="user-check" class="w-6 h-6 text-purple-600"></i>
                      </div>
                      <div>
                        <div class="font-medium">학습담임 상담</div>
                        <div class="text-sm text-gray-600">박지영 선생님</div>
                        <div class="text-xs text-gray-500">2025-01-15 15:00 - 15:30</div>
                        <div class="text-xs text-green-600 mt-1">✓ 상담 완료</div>
                      </div>
                    </div>
                    <div class="flex items-center gap-2">
                      <span class="px-3 py-1 text-xs rounded-full bg-green-100 text-green-800">완료</span>
                      <button class="px-3 py-1 text-xs rounded-lg border border-gray-300 text-gray-600 hover:bg-gray-50">상세보기</button>
                    </div>
                  </div>

                  <div class="flex items-center justify-between p-4 rounded-xl border border-gray-200 bg-gray-50">
                    <div class="flex items-center gap-4">
                      <div class="w-12 h-12 rounded-full bg-cyan-100 flex items-center justify-center">
                        <i data-lucide="book-open" class="w-6 h-6 text-cyan-600"></i>
                      </div>
                      <div>
                        <div class="font-medium">국어 상담</div>
                        <div class="text-sm text-gray-600">정수진 선생님</div>
                        <div class="text-xs text-gray-500">2025-01-12 14:00 - 14:30</div>
                        <div class="text-xs text-green-600 mt-1">✓ 상담 완료</div>
                      </div>
                    </div>
                    <div class="flex items-center gap-2">
                      <span class="px-3 py-1 text-xs rounded-full bg-green-100 text-green-800">완료</span>
                      <button class="px-3 py-1 text-xs rounded-lg border border-gray-300 text-gray-600 hover:bg-gray-50">상세보기</button>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- 취소된 상담 -->
            <div class="rounded-2xl border bg-white">
              <div class="p-6 border-b">
                <h3 class="text-lg font-semibold flex items-center gap-2">
                  <i data-lucide="x-circle" class="w-5 h-5 text-red-600"></i>
                  취소된 상담
                </h3>
              </div>
              <div class="p-6">
                <div class="space-y-3">
                  <div class="flex items-center justify-between p-4 rounded-xl border border-red-200 bg-red-50">
                    <div class="flex items-center gap-4">
                      <div class="w-12 h-12 rounded-full bg-red-100 flex items-center justify-center">
                        <i data-lucide="book-open" class="w-6 h-6 text-red-600"></i>
                      </div>
                      <div>
                        <div class="font-medium">물리 상담</div>
                        <div class="text-sm text-gray-600">박물리 선생님</div>
                        <div class="text-xs text-gray-500">2025-01-10 16:00 - 16:30</div>
                        <div class="text-xs text-red-600 mt-1">✗ 학생 요청으로 취소</div>
                      </div>
                    </div>
                    <div class="flex items-center gap-2">
                      <span class="px-3 py-1 text-xs rounded-full bg-red-100 text-red-800">취소됨</span>
                      <button class="px-3 py-1 text-xs rounded-lg border border-gray-300 text-gray-600 hover:bg-gray-50">다시 예약</button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- 통계 요약 -->
          <div class="grid gap-4 md:grid-cols-4">
            <div class="rounded-2xl border bg-white p-6 text-center">
              <div class="text-2xl font-bold text-blue-600">3</div>
              <div class="text-sm text-gray-600">예약된 상담</div>
            </div>
            <div class="rounded-2xl border bg-white p-6 text-center">
              <div class="text-2xl font-bold text-green-600">12</div>
              <div class="text-sm text-gray-600">완료된 상담</div>
            </div>
            <div class="rounded-2xl border bg-white p-6 text-center">
              <div class="text-2xl font-bold text-red-600">1</div>
              <div class="text-sm text-gray-600">취소된 상담</div>
            </div>
            <div class="rounded-2xl border bg-white p-6 text-center">
              <div class="text-2xl font-bold text-purple-600">4.8</div>
              <div class="text-sm text-gray-600">평균 만족도</div>
            </div>
          </div>
        </div>
        `;
      } else if (id === 'store-course') {
        content = `
        <div class="space-y-6">
          <div class="mb-2">
            <h2 class="text-xl font-semibold">${title}</h2>
            <p class="text-sm text-neutral-600">수강을 신청하세요</p>
          </div>

          <!-- 필터 -->
          <div class="rounded-2xl border bg-white">
            <div class="p-6 border-b">
              <h3 class="text-lg font-semibold">필터</h3>
            </div>
            <div class="p-6">
              <div class="grid gap-4 md:grid-cols-2">
                <div class="space-y-2">
                  <label class="text-sm font-medium">과목</label>
                  <select id="course-subject-filter" class="w-full rounded-xl border px-3 py-2 text-sm" onchange="filterCourses()">
                    <option value="">전체</option>
                    <option value="math">수학</option>
                    <option value="korean">국어</option>
                    <option value="english">영어</option>
                    <option value="science">과학</option>
                    <option value="social">사회</option>
                  </select>
                </div>
                <div class="space-y-2">
                  <label class="text-sm font-medium">수강 기간</label>
                  <select id="course-period-filter" class="w-full rounded-xl border px-3 py-2 text-sm" onchange="filterCourses()">
                    <option value="">전체</option>
                    <option value="1month">1개월</option>
                    <option value="3month">3개월</option>
                    <option value="6month">6개월</option>
                    <option value="1year">1년</option>
                  </select>
                </div>
              </div>
            </div>
          </div>

          <!-- 수강 목록 -->
          <div class="grid gap-6 md:grid-cols-2 lg:grid-cols-3" id="course-list">
            <!-- 수강 카드 1 -->
            <div class="rounded-2xl border bg-white course-card" data-subject="math" data-period="3month">
              <div class="p-6">
                <div class="aspect-video bg-gray-100 rounded-xl mb-4 flex items-center justify-center">
                  <i data-lucide="graduation-cap" class="w-12 h-12 text-gray-400"></i>
                </div>
                <div class="space-y-3">
                  <div class="flex items-center gap-2">
                    <span class="px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-800">수학</span>
                    <span class="px-2 py-1 text-xs rounded-full bg-green-100 text-green-800">3개월</span>
                    <span class="px-2 py-1 text-xs rounded-full bg-red-100 text-red-800">마감: 2025-01-25</span>
                  </div>
                  <h4 class="font-semibold text-lg">고등수학 심화과정</h4>
                  <p class="text-sm text-gray-600">미적분, 기하, 확률과 통계 완전정복</p>
                  <div class="text-2xl font-bold text-blue-600">₩450,000</div>
                  <div class="text-sm text-gray-500">월 ₩150,000 × 3개월</div>
                  <div class="flex gap-2">
                    <button onclick="addToCart('course1', '고등수학 심화과정', 450000)" class="flex-1 px-4 py-2 text-sm rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50">
                      장바구니
                    </button>
                    <button onclick="buyNow('course1', '고등수학 심화과정', 450000)" class="flex-1 px-4 py-2 text-sm rounded-lg bg-blue-600 text-white hover:bg-blue-700">
                      신청하기
                    </button>
                  </div>
                </div>
              </div>
            </div>

            <!-- 수강 카드 2 -->
            <div class="rounded-2xl border bg-white course-card" data-subject="korean" data-period="6month">
              <div class="p-6">
                <div class="aspect-video bg-gray-100 rounded-xl mb-4 flex items-center justify-center">
                  <i data-lucide="graduation-cap" class="w-12 h-12 text-gray-400"></i>
                </div>
                <div class="space-y-3">
                  <div class="flex items-center gap-2">
                    <span class="px-2 py-1 text-xs rounded-full bg-green-100 text-green-800">국어</span>
                    <span class="px-2 py-1 text-xs rounded-full bg-purple-100 text-purple-800">6개월</span>
                    <span class="px-2 py-1 text-xs rounded-full bg-red-100 text-red-800">마감: 2025-01-30</span>
                  </div>
                  <h4 class="font-semibold text-lg">국어 문학 완전정복</h4>
                  <p class="text-sm text-gray-600">고전문학부터 현대문학까지 체계적 학습</p>
                  <div class="text-2xl font-bold text-blue-600">₩720,000</div>
                  <div class="text-sm text-gray-500">월 ₩120,000 × 6개월</div>
                  <div class="flex gap-2">
                    <button onclick="addToCart('course2', '국어 문학 완전정복', 720000)" class="flex-1 px-4 py-2 text-sm rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50">
                      장바구니
                    </button>
                    <button onclick="buyNow('course2', '국어 문학 완전정복', 720000)" class="flex-1 px-4 py-2 text-sm rounded-lg bg-blue-600 text-white hover:bg-blue-700">
                      신청하기
                    </button>
                  </div>
                </div>
              </div>
            </div>

            <!-- 수강 카드 3 -->
            <div class="rounded-2xl border bg-white course-card" data-subject="english" data-period="1year">
              <div class="p-6">
                <div class="aspect-video bg-gray-100 rounded-xl mb-4 flex items-center justify-center">
                  <i data-lucide="graduation-cap" class="w-12 h-12 text-gray-400"></i>
                </div>
                <div class="space-y-3">
                  <div class="flex items-center gap-2">
                    <span class="px-2 py-1 text-xs rounded-full bg-purple-100 text-purple-800">영어</span>
                    <span class="px-2 py-1 text-xs rounded-full bg-orange-100 text-orange-800">1년</span>
                    <span class="px-2 py-1 text-xs rounded-full bg-red-100 text-red-800">마감: 2025-02-05</span>
                  </div>
                  <h4 class="font-semibold text-lg">영어 종합반</h4>
                  <p class="text-sm text-gray-600">문법, 독해, 듣기, 말하기 통합 학습</p>
                  <div class="text-2xl font-bold text-blue-600">₩1,200,000</div>
                  <div class="text-sm text-gray-500">월 ₩100,000 × 12개월</div>
                  <div class="flex gap-2">
                    <button onclick="addToCart('course3', '영어 종합반', 1200000)" class="flex-1 px-4 py-2 text-sm rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50">
                      장바구니
                    </button>
                    <button onclick="buyNow('course3', '영어 종합반', 1200000)" class="flex-1 px-4 py-2 text-sm rounded-lg bg-blue-600 text-white hover:bg-blue-700">
                      신청하기
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- 수강 신청 내역 -->
          <div class="rounded-2xl border bg-white">
            <div class="p-6 border-b">
              <h3 class="text-lg font-semibold">수강 신청 내역</h3>
            </div>
            <div class="p-6">
              <div class="space-y-3">
                <div class="flex items-center justify-between p-4 rounded-xl border border-gray-200 bg-gray-50">
                  <div class="flex items-center gap-3">
                    <div class="w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center">
                      <i data-lucide="graduation-cap" class="w-5 h-5 text-blue-600"></i>
                    </div>
                    <div>
                      <div class="font-medium">고등수학 심화과정</div>
                      <div class="text-sm text-gray-600">수학 - 3개월</div>
                      <div class="text-xs text-gray-500">2025-01-10 신청</div>
                    </div>
                  </div>
                  <div class="flex items-center gap-2">
                    <span class="px-3 py-1 text-xs rounded-full bg-green-100 text-green-800">수강중</span>
                    <div class="text-sm font-semibold text-gray-600">₩450,000</div>
                  </div>
                </div>

                <div class="flex items-center justify-between p-4 rounded-xl border border-gray-200 bg-gray-50">
                  <div class="flex items-center gap-3">
                    <div class="w-10 h-10 rounded-lg bg-green-100 flex items-center justify-center">
                      <i data-lucide="graduation-cap" class="w-5 h-5 text-green-600"></i>
                    </div>
                    <div>
                      <div class="font-medium">국어 문학 완전정복</div>
                      <div class="text-sm text-gray-600">국어 - 6개월</div>
                      <div class="text-xs text-gray-500">2024-12-15 신청</div>
                    </div>
                  </div>
                  <div class="flex items-center gap-2">
                    <span class="px-3 py-1 text-xs rounded-full bg-green-100 text-green-800">수강완료</span>
                    <div class="text-sm font-semibold text-gray-600">₩720,000</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        `;
      } else if (id === 'bill-meal') {
        content = `
        <div class="space-y-6">
          <div class="mb-2">
            <h2 class="text-xl font-semibold">${title}</h2>
            <p class="text-sm text-neutral-600">SNarMoney를 충전하세요</p>
          </div>

          <!-- 현재 잔액 -->
          <div class="rounded-2xl border bg-white">
            <div class="p-6 border-b bg-green-50">
              <div class="flex items-center gap-3">
                <div class="w-10 h-10 rounded-lg bg-green-100 flex items-center justify-center">
                  <i data-lucide="wallet" class="w-5 h-5 text-green-600"></i>
                </div>
                <div>
                  <h3 class="text-lg font-semibold text-green-900">현재 잔액</h3>
                  <p class="text-sm text-green-700">SNarMoney 잔액을 확인하세요</p>
                </div>
              </div>
            </div>
            <div class="p-6">
              <div class="text-center">
                <div class="text-4xl font-bold text-green-600 mb-2">₩45,000</div>
                <div class="text-sm text-gray-600">사용 가능한 SNarMoney</div>
              </div>
            </div>
          </div>

          <!-- 충전 금액 선택 -->
          <div class="rounded-2xl border bg-white">
            <div class="p-6 border-b">
              <h3 class="text-lg font-semibold">충전 금액 선택</h3>
              <p class="text-sm text-gray-600 mt-1">만원 단위로 충전하세요</p>
            </div>
            <div class="p-6">
              <div class="grid gap-4 md:grid-cols-2 lg:grid-cols-3">
                <button onclick="selectAmount(10000)" class="amount-btn p-4 rounded-xl border border-gray-200 hover:border-blue-500 hover:bg-blue-50 text-center transition-colors">
                  <div class="text-lg font-semibold">₩10,000</div>
                  <div class="text-sm text-gray-600">1만원</div>
                </button>
                <button onclick="selectAmount(20000)" class="amount-btn p-4 rounded-xl border border-gray-200 hover:border-blue-500 hover:bg-blue-50 text-center transition-colors">
                  <div class="text-lg font-semibold">₩20,000</div>
                  <div class="text-sm text-gray-600">2만원</div>
                </button>
                <button onclick="selectAmount(30000)" class="amount-btn p-4 rounded-xl border border-gray-200 hover:border-blue-500 hover:bg-blue-50 text-center transition-colors">
                  <div class="text-lg font-semibold">₩30,000</div>
                  <div class="text-sm text-gray-600">3만원</div>
                </button>
                <button onclick="selectAmount(50000)" class="amount-btn p-4 rounded-xl border border-gray-200 hover:border-blue-500 hover:bg-blue-50 text-center transition-colors">
                  <div class="text-lg font-semibold">₩50,000</div>
                  <div class="text-sm text-gray-600">5만원</div>
                </button>
                <button onclick="selectAmount(100000)" class="amount-btn p-4 rounded-xl border border-gray-200 hover:border-blue-500 hover:bg-blue-50 text-center transition-colors">
                  <div class="text-lg font-semibold">₩100,000</div>
                  <div class="text-sm text-gray-600">10만원</div>
                </button>
                <button onclick="selectAmount(200000)" class="amount-btn p-4 rounded-xl border border-gray-200 hover:border-blue-500 hover:bg-blue-50 text-center transition-colors">
                  <div class="text-lg font-semibold">₩200,000</div>
                  <div class="text-sm text-gray-600">20만원</div>
                </button>
              </div>
            </div>
          </div>

          <!-- 결제 방법 선택 -->
          <div class="rounded-2xl border bg-white">
            <div class="p-6 border-b">
              <h3 class="text-lg font-semibold">결제 방법</h3>
            </div>
            <div class="p-6">
              <div class="space-y-4">
                <label class="flex items-center gap-3 p-4 rounded-xl border border-gray-200 hover:border-blue-500 cursor-pointer">
                  <input type="radio" name="payment-method" value="card" class="w-4 h-4 text-blue-600" onchange="updatePaymentInfo()">
                  <div class="flex-1">
                    <div class="font-medium">카드 결제</div>
                    <div class="text-sm text-gray-600">10% 추가 수수료 (예: 10만원 → 11만원)</div>
                  </div>
                  <i data-lucide="credit-card" class="w-5 h-5 text-gray-400"></i>
                </label>
                
                <label class="flex items-center gap-3 p-4 rounded-xl border border-gray-200 hover:border-blue-500 cursor-pointer">
                  <input type="radio" name="payment-method" value="cash" class="w-4 h-4 text-blue-600" onchange="updatePaymentInfo()">
                  <div class="flex-1">
                    <div class="font-medium">현금 결제</div>
                    <div class="text-sm text-gray-600">수수료 없음 (선택한 금액 그대로 충전)</div>
                  </div>
                  <i data-lucide="banknote" class="w-5 h-5 text-gray-400"></i>
                </label>
              </div>
            </div>
          </div>

          <!-- 결제 정보 -->
          <div id="payment-info" class="rounded-2xl border bg-white hidden">
            <div class="p-6 border-b">
              <h3 class="text-lg font-semibold">결제 정보</h3>
            </div>
            <div class="p-6">
              <div class="space-y-4">
                <div class="flex justify-between items-center">
                  <span class="text-gray-600">충전 금액</span>
                  <span id="charge-amount" class="font-semibold">₩0</span>
                </div>
                <div class="flex justify-between items-center">
                  <span class="text-gray-600">수수료</span>
                  <span id="fee-amount" class="font-semibold">₩0</span>
                </div>
                <div class="flex justify-between items-center text-lg font-bold border-t pt-4">
                  <span>총 결제 금액</span>
                  <span id="total-amount" class="text-blue-600">₩0</span>
                </div>
              </div>
              
              <div class="mt-6">
                <div class="p-4 rounded-xl bg-yellow-50 border border-yellow-200">
                  <div class="flex items-start gap-2">
                    <i data-lucide="info" class="w-4 h-4 text-yellow-600 mt-0.5 flex-shrink-0"></i>
                    <div class="text-sm text-yellow-800">
                      <div class="font-medium mb-1">결제 안내</div>
                      <ul class="space-y-1">
                        <li>• 카드 결제 시 10% 수수료가 추가됩니다.</li>
                        <li>• 현금 결제 시에만 실제 충전됩니다.</li>
                        <li>• 충전 후 즉시 사용 가능합니다.</li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>

              <div class="flex gap-3 mt-6">
                <button onclick="resetPayment()" class="flex-1 px-4 py-3 rounded-xl border border-gray-300 text-gray-700 hover:bg-gray-50">
                  초기화
                </button>
                <button onclick="processPayment()" class="flex-1 px-4 py-3 rounded-xl bg-blue-600 text-white hover:bg-blue-700">
                  결제하기
                </button>
              </div>
            </div>
          </div>

          <!-- 충전 내역 -->
          <div class="rounded-2xl border bg-white">
            <div class="p-6 border-b">
              <h3 class="text-lg font-semibold">충전 내역</h3>
            </div>
            <div class="p-6">
              <div class="space-y-3">
                <div class="flex items-center justify-between p-4 rounded-xl border border-gray-200 bg-gray-50">
                  <div class="flex items-center gap-3">
                    <div class="w-10 h-10 rounded-lg bg-green-100 flex items-center justify-center">
                      <i data-lucide="plus" class="w-5 h-5 text-green-600"></i>
                    </div>
                    <div>
                      <div class="font-medium">현금 충전</div>
                      <div class="text-sm text-gray-600">2025-01-15 14:30</div>
                    </div>
                  </div>
                  <div class="text-right">
                    <div class="font-semibold text-green-600">+₩50,000</div>
                    <div class="text-xs text-gray-500">충전완료</div>
                  </div>
                </div>

                <div class="flex items-center justify-between p-4 rounded-xl border border-gray-200 bg-gray-50">
                  <div class="flex items-center gap-3">
                    <div class="w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center">
                      <i data-lucide="credit-card" class="w-5 h-5 text-blue-600"></i>
                    </div>
                    <div>
                      <div class="font-medium">카드 충전</div>
                      <div class="text-sm text-gray-600">2025-01-10 16:20</div>
                    </div>
                  </div>
                  <div class="text-right">
                    <div class="font-semibold text-blue-600">+₩22,000</div>
                    <div class="text-xs text-gray-500">충전완료 (20,000 + 수수료 2,000)</div>
                  </div>
                </div>

                <div class="flex items-center justify-between p-4 rounded-xl border border-gray-200 bg-gray-50">
                  <div class="flex items-center gap-3">
                    <div class="w-10 h-10 rounded-lg bg-orange-100 flex items-center justify-center">
                      <i data-lucide="utensils" class="w-5 h-5 text-orange-600"></i>
                    </div>
                    <div>
                      <div class="font-medium">식사 이용</div>
                      <div class="text-sm text-gray-600">2025-01-12 12:00</div>
                    </div>
                  </div>
                  <div class="text-right">
                    <div class="font-semibold text-orange-600">-₩8,000</div>
                    <div class="text-xs text-gray-500">점심 식사</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        `;
      } else if (id === 'bill-receipts') {
        content = `
        <div class="space-y-6">
          <div class="mb-2">
            <h2 class="text-xl font-semibold">${title}</h2>
            <p class="text-sm text-neutral-600">모든 지출 내역을 확인하세요</p>
          </div>

          <!-- 통계 요약 -->
          <div class="grid gap-4 md:grid-cols-4">
            <div class="rounded-2xl border bg-white p-6">
              <div class="flex items-center gap-3">
                <div class="w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center">
                  <i data-lucide="graduation-cap" class="w-5 h-5 text-blue-600"></i>
                </div>
                <div>
                  <div class="text-2xl font-bold text-blue-600">₩1,170,000</div>
                  <div class="text-sm text-gray-600">수강신청</div>
                </div>
              </div>
            </div>
            <div class="rounded-2xl border bg-white p-6">
              <div class="flex items-center gap-3">
                <div class="w-10 h-10 rounded-lg bg-green-100 flex items-center justify-center">
                  <i data-lucide="play" class="w-5 h-5 text-green-600"></i>
                </div>
                <div>
                  <div class="text-2xl font-bold text-green-600">₩300,000</div>
                  <div class="text-sm text-gray-600">콘텐츠 구매</div>
                </div>
              </div>
            </div>
            <div class="rounded-2xl border bg-white p-6">
              <div class="flex items-center gap-3">
                <div class="w-10 h-10 rounded-lg bg-orange-100 flex items-center justify-center">
                  <i data-lucide="utensils" class="w-5 h-5 text-orange-600"></i>
                </div>
                <div>
                  <div class="text-2xl font-bold text-orange-600">₩72,000</div>
                  <div class="text-sm text-gray-600">SNarMoney</div>
                </div>
              </div>
            </div>
            <div class="rounded-2xl border bg-white p-6">
              <div class="flex items-center gap-3">
                <div class="w-10 h-10 rounded-lg bg-purple-100 flex items-center justify-center">
                  <i data-lucide="zap" class="w-5 h-5 text-purple-600"></i>
                </div>
                <div>
                  <div class="text-2xl font-bold text-purple-600">₩15,000</div>
                  <div class="text-sm text-gray-600">SNarGPT 토큰</div>
                </div>
              </div>
            </div>
          </div>

          <!-- 필터 -->
          <div class="rounded-2xl border bg-white">
            <div class="p-6 border-b">
              <h3 class="text-lg font-semibold">필터</h3>
            </div>
            <div class="p-6">
              <div class="grid gap-4 md:grid-cols-3">
                <div class="space-y-2">
                  <label class="text-sm font-medium">카테고리</label>
                  <select id="receipt-category-filter" class="w-full rounded-xl border px-3 py-2 text-sm" onchange="filterReceipts()">
                    <option value="">전체</option>
                    <option value="course">수강신청</option>
                    <option value="content">콘텐츠 구매</option>
                    <option value="meal">SNarMoney</option>
                    <option value="gpt">SNarGPT 토큰</option>
                  </select>
                </div>
                <div class="space-y-2">
                  <label class="text-sm font-medium">기간</label>
                  <select id="receipt-period-filter" class="w-full rounded-xl border px-3 py-2 text-sm" onchange="filterReceipts()">
                    <option value="">전체</option>
                    <option value="this-month">이번 달</option>
                    <option value="last-month">지난 달</option>
                    <option value="last-3months">최근 3개월</option>
                    <option value="last-6months">최근 6개월</option>
                    <option value="this-year">올해</option>
                  </select>
                </div>
                <div class="space-y-2">
                  <label class="text-sm font-medium">금액</label>
                  <select id="receipt-amount-filter" class="w-full rounded-xl border px-3 py-2 text-sm" onchange="filterReceipts()">
                    <option value="">전체</option>
                    <option value="0-50000">5만원 미만</option>
                    <option value="50000-200000">5만원~20만원</option>
                    <option value="200000-500000">20만원~50만원</option>
                    <option value="500000+">50만원 이상</option>
                  </select>
                </div>
              </div>
            </div>
          </div>

          <!-- 지출 내역 -->
          <div class="rounded-2xl border bg-white">
            <div class="p-6 border-b">
              <h3 class="text-lg font-semibold">지출 내역</h3>
              <p class="text-sm text-gray-600 mt-1">총 24건의 거래 내역</p>
            </div>
            <div class="p-6">
              <div class="space-y-3" id="receipt-list">
                <!-- 수강신청 내역 -->
                <div class="receipt-item flex items-center justify-between p-4 rounded-xl border border-gray-200 bg-gray-50" data-category="course" data-amount="450000" data-date="2025-01-10">
                  <div class="flex items-center gap-3">
                    <div class="w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center">
                      <i data-lucide="graduation-cap" class="w-5 h-5 text-blue-600"></i>
                    </div>
                    <div>
                      <div class="font-medium">고등수학 심화과정</div>
                      <div class="text-sm text-gray-600">수강신청 - 3개월</div>
                      <div class="text-xs text-gray-500">2025-01-10 14:30</div>
                    </div>
                  </div>
                  <div class="text-right">
                    <div class="font-semibold text-blue-600">-₩450,000</div>
                    <div class="text-xs text-gray-500">카드결제</div>
                  </div>
                </div>

                <div class="receipt-item flex items-center justify-between p-4 rounded-xl border border-gray-200 bg-gray-50" data-category="course" data-amount="720000" data-date="2024-12-15">
                  <div class="flex items-center gap-3">
                    <div class="w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center">
                      <i data-lucide="graduation-cap" class="w-5 h-5 text-blue-600"></i>
                    </div>
                    <div>
                      <div class="font-medium">국어 문학 완전정복</div>
                      <div class="text-sm text-gray-600">수강신청 - 6개월</div>
                      <div class="text-xs text-gray-500">2024-12-15 16:20</div>
                    </div>
                  </div>
                  <div class="text-right">
                    <div class="font-semibold text-blue-600">-₩720,000</div>
                    <div class="text-xs text-gray-500">카드결제</div>
                  </div>
                </div>

                <!-- 콘텐츠 구매 내역 -->
                <div class="receipt-item flex items-center justify-between p-4 rounded-xl border border-gray-200 bg-gray-50" data-category="content" data-amount="180000" data-date="2025-01-15">
                  <div class="flex items-center gap-3">
                    <div class="w-10 h-10 rounded-lg bg-green-100 flex items-center justify-center">
                      <i data-lucide="play" class="w-5 h-5 text-green-600"></i>
                    </div>
                    <div>
                      <div class="font-medium">서바이벌 시즌1</div>
                      <div class="text-sm text-gray-600">학습 콘텐츠 구매 - 수학</div>
                      <div class="text-xs text-gray-500">2025-01-15 10:15</div>
                    </div>
                  </div>
                  <div class="text-right">
                    <div class="font-semibold text-green-600">-₩180,000</div>
                    <div class="text-xs text-gray-500">카드결제</div>
                  </div>
                </div>

                <div class="receipt-item flex items-center justify-between p-4 rounded-xl border border-gray-200 bg-gray-50" data-category="content" data-amount="120000" data-date="2025-01-10">
                  <div class="flex items-center gap-3">
                    <div class="w-10 h-10 rounded-lg bg-green-100 flex items-center justify-center">
                      <i data-lucide="play" class="w-5 h-5 text-green-600"></i>
                    </div>
                    <div>
                      <div class="font-medium">문학의 이해</div>
                      <div class="text-sm text-gray-600">학습 콘텐츠 구매 - 국어</div>
                      <div class="text-xs text-gray-500">2025-01-10 09:30</div>
                    </div>
                  </div>
                  <div class="text-right">
                    <div class="font-semibold text-green-600">-₩120,000</div>
                    <div class="text-xs text-gray-500">카드결제</div>
                  </div>
                </div>

                <!-- SNarMoney 내역 -->
                <div class="receipt-item flex items-center justify-between p-4 rounded-xl border border-gray-200 bg-gray-50" data-category="meal" data-amount="50000" data-date="2025-01-15">
                  <div class="flex items-center gap-3">
                    <div class="w-10 h-10 rounded-lg bg-orange-100 flex items-center justify-center">
                      <i data-lucide="utensils" class="w-5 h-5 text-orange-600"></i>
                    </div>
                    <div>
                      <div class="font-medium">SNarMoney 충전</div>
                      <div class="text-sm text-gray-600">현금 충전 - 5만원</div>
                      <div class="text-xs text-gray-500">2025-01-15 14:30</div>
                    </div>
                  </div>
                  <div class="text-right">
                    <div class="font-semibold text-orange-600">-₩50,000</div>
                    <div class="text-xs text-gray-500">현금결제</div>
                  </div>
                </div>

                <div class="receipt-item flex items-center justify-between p-4 rounded-xl border border-gray-200 bg-gray-50" data-category="meal" data-amount="22000" data-date="2025-01-10">
                  <div class="flex items-center gap-3">
                    <div class="w-10 h-10 rounded-lg bg-orange-100 flex items-center justify-center">
                      <i data-lucide="utensils" class="w-5 h-5 text-orange-600"></i>
                    </div>
                    <div>
                      <div class="font-medium">SNarMoney 충전</div>
                      <div class="text-sm text-gray-600">카드 충전 - 2만원 (수수료 2천원)</div>
                      <div class="text-xs text-gray-500">2025-01-10 16:20</div>
                    </div>
                  </div>
                  <div class="text-right">
                    <div class="font-semibold text-orange-600">-₩22,000</div>
                    <div class="text-xs text-gray-500">카드결제</div>
                  </div>
                </div>

                <!-- SNarGPT 토큰 내역 -->
                <div class="receipt-item flex items-center justify-between p-4 rounded-xl border border-gray-200 bg-gray-50" data-category="gpt" data-amount="5000" data-date="2025-01-18">
                  <div class="flex items-center gap-3">
                    <div class="w-10 h-10 rounded-lg bg-purple-100 flex items-center justify-center">
                      <i data-lucide="zap" class="w-5 h-5 text-purple-600"></i>
                    </div>
                    <div>
                      <div class="font-medium">SNarGPT 토큰 충전</div>
                      <div class="text-sm text-gray-600">5,000 토큰 충전</div>
                      <div class="text-xs text-gray-500">2025-01-18 20:45</div>
                    </div>
                  </div>
                  <div class="text-right">
                    <div class="font-semibold text-purple-600">-₩5,000</div>
                    <div class="text-xs text-gray-500">카드결제</div>
                  </div>
                </div>

                <div class="receipt-item flex items-center justify-between p-4 rounded-xl border border-gray-200 bg-gray-50" data-category="gpt" data-amount="10000" data-date="2025-01-12">
                  <div class="flex items-center gap-3">
                    <div class="w-10 h-10 rounded-lg bg-purple-100 flex items-center justify-center">
                      <i data-lucide="zap" class="w-5 h-5 text-purple-600"></i>
                    </div>
                    <div>
                      <div class="font-medium">SNarGPT 토큰 충전</div>
                      <div class="text-sm text-gray-600">10,000 토큰 충전</div>
                      <div class="text-xs text-gray-500">2025-01-12 15:20</div>
                    </div>
                  </div>
                  <div class="text-right">
                    <div class="font-semibold text-purple-600">-₩10,000</div>
                    <div class="text-xs text-gray-500">카드결제</div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- 다운로드 옵션 -->
          <div class="rounded-2xl border bg-white">
            <div class="p-6 border-b">
              <h3 class="text-lg font-semibold">영수증 다운로드</h3>
            </div>
            <div class="p-6">
              <div class="grid gap-4 md:grid-cols-2">
                <button onclick="downloadReceipts('pdf')" class="flex items-center gap-3 p-4 rounded-xl border border-gray-200 hover:border-red-500 hover:bg-red-50 text-left">
                  <div class="w-10 h-10 rounded-lg bg-red-100 flex items-center justify-center">
                    <i data-lucide="file-text" class="w-5 h-5 text-red-600"></i>
                  </div>
                  <div>
                    <div class="font-medium">PDF 다운로드</div>
                    <div class="text-sm text-gray-600">전체 거래 내역을 PDF로 다운로드</div>
                  </div>
                </button>
                
                <button onclick="downloadReceipts('excel')" class="flex items-center gap-3 p-4 rounded-xl border border-gray-200 hover:border-green-500 hover:bg-green-50 text-left">
                  <div class="w-10 h-10 rounded-lg bg-green-100 flex items-center justify-center">
                    <i data-lucide="table" class="w-5 h-5 text-green-600"></i>
                  </div>
                  <div>
                    <div class="font-medium">Excel 다운로드</div>
                    <div class="text-sm text-gray-600">거래 내역을 Excel 파일로 다운로드</div>
                  </div>
                </button>
              </div>
            </div>
          </div>
        </div>
        `;
      } else if (id === 'bill-content') {
        content = `
        <div class="space-y-6">
          <div class="mb-2">
            <h2 class="text-xl font-semibold">${title}</h2>
            <p class="text-sm text-neutral-600">학습 콘텐츠를 구매하세요</p>
          </div>

          <!-- 필터 -->
          <div class="rounded-2xl border bg-white">
            <div class="p-6 border-b">
              <h3 class="text-lg font-semibold">필터</h3>
            </div>
            <div class="p-6">
              <div class="grid gap-4 md:grid-cols-2">
                <div class="space-y-2">
                  <label class="text-sm font-medium">과목</label>
                  <select id="subject-filter" class="w-full rounded-xl border px-3 py-2 text-sm" onchange="filterContent()">
                    <option value="">전체</option>
                    <option value="math">수학</option>
                    <option value="korean">국어</option>
                    <option value="english">영어</option>
                    <option value="science">과학</option>
                    <option value="social">사회</option>
                  </select>
                </div>
                <div class="space-y-2">
                  <label class="text-sm font-medium">회사</label>
                  <select id="company-filter" class="w-full rounded-xl border px-3 py-2 text-sm" onchange="filterContent()">
                    <option value="">전체</option>
                    <option value="sidae">시대인재</option>
                    <option value="mega">메가스터디</option>
                    <option value="etoos">이투스</option>
                    <option value="sky">스카이에듀</option>
                    <option value="chungdahm">청담어학원</option>
                  </select>
                </div>
              </div>
            </div>
          </div>

          <!-- 콘텐츠 목록 -->
          <div class="grid gap-6 md:grid-cols-2 lg:grid-cols-3" id="content-list">
            <!-- 콘텐츠 카드 1 -->
            <div class="rounded-2xl border bg-white content-card" data-subject="math" data-company="sidae">
              <div class="p-6">
                <div class="aspect-video bg-gray-100 rounded-xl mb-4 flex items-center justify-center">
                  <i data-lucide="play" class="w-12 h-12 text-gray-400"></i>
                </div>
                <div class="space-y-3">
                  <div class="flex items-center gap-2">
                    <span class="px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-800">수학</span>
                    <span class="px-2 py-1 text-xs rounded-full bg-gray-100 text-gray-800">시대인재</span>
                    <span class="px-2 py-1 text-xs rounded-full bg-red-100 text-red-800">마감: 2025-01-28</span>
                  </div>
                  <h4 class="font-semibold text-lg">서바이벌 시즌1</h4>
                  <p class="text-sm text-gray-600">고등학교 수학 심화 과정</p>
                  <div class="text-2xl font-bold text-blue-600">₩180,000</div>
                  <div class="flex gap-2">
                    <button onclick="addToCart('content1', '서바이벌 시즌1', 180000)" class="flex-1 px-4 py-2 text-sm rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50">
                      장바구니
                    </button>
                    <button onclick="buyNow('content1', '서바이벌 시즌1', 180000)" class="flex-1 px-4 py-2 text-sm rounded-lg bg-blue-600 text-white hover:bg-blue-700">
                      신청하기
                    </button>
                  </div>
                </div>
              </div>
            </div>

            <!-- 콘텐츠 카드 2 -->
            <div class="rounded-2xl border bg-white content-card" data-subject="korean" data-company="mega">
              <div class="p-6">
                <div class="aspect-video bg-gray-100 rounded-xl mb-4 flex items-center justify-center">
                  <i data-lucide="play" class="w-12 h-12 text-gray-400"></i>
                </div>
                <div class="space-y-3">
                  <div class="flex items-center gap-2">
                    <span class="px-2 py-1 text-xs rounded-full bg-green-100 text-green-800">국어</span>
                    <span class="px-2 py-1 text-xs rounded-full bg-gray-100 text-gray-800">메가스터디</span>
                    <span class="px-2 py-1 text-xs rounded-full bg-red-100 text-red-800">마감: 2025-02-01</span>
                  </div>
                  <h4 class="font-semibold text-lg">문학의 이해</h4>
                  <p class="text-sm text-gray-600">고전문학부터 현대문학까지</p>
                  <div class="text-2xl font-bold text-blue-600">₩120,000</div>
                  <div class="flex gap-2">
                    <button onclick="addToCart('content2', '문학의 이해', 120000)" class="flex-1 px-4 py-2 text-sm rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50">
                      장바구니
                    </button>
                    <button onclick="buyNow('content2', '문학의 이해', 120000)" class="flex-1 px-4 py-2 text-sm rounded-lg bg-blue-600 text-white hover:bg-blue-700">
                      신청하기
                    </button>
                  </div>
                </div>
              </div>
            </div>

            <!-- 콘텐츠 카드 3 -->
            <div class="rounded-2xl border bg-white content-card" data-subject="english" data-company="etoos">
              <div class="p-6">
                <div class="aspect-video bg-gray-100 rounded-xl mb-4 flex items-center justify-center">
                  <i data-lucide="play" class="w-12 h-12 text-gray-400"></i>
                </div>
                <div class="space-y-3">
                  <div class="flex items-center gap-2">
                    <span class="px-2 py-1 text-xs rounded-full bg-purple-100 text-purple-800">영어</span>
                    <span class="px-2 py-1 text-xs rounded-full bg-gray-100 text-gray-800">이투스</span>
                    <span class="px-2 py-1 text-xs rounded-full bg-red-100 text-red-800">마감: 2025-02-10</span>
                  </div>
                  <h4 class="font-semibold text-lg">영어 문법 마스터</h4>
                  <p class="text-sm text-gray-600">기초부터 고급까지 완벽 정리</p>
                  <div class="text-2xl font-bold text-blue-600">₩150,000</div>
                  <div class="flex gap-2">
                    <button onclick="addToCart('content3', '영어 문법 마스터', 150000)" class="flex-1 px-4 py-2 text-sm rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50">
                      장바구니
                    </button>
                    <button onclick="buyNow('content3', '영어 문법 마스터', 150000)" class="flex-1 px-4 py-2 text-sm rounded-lg bg-blue-600 text-white hover:bg-blue-700">
                      신청하기
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- 구매 내역 -->
          <div class="rounded-2xl border bg-white">
            <div class="p-6 border-b">
              <h3 class="text-lg font-semibold">구매 내역</h3>
            </div>
            <div class="p-6">
              <div class="space-y-3">
                <div class="flex items-center justify-between p-4 rounded-xl border border-gray-200 bg-gray-50">
                  <div class="flex items-center gap-3">
                    <div class="w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center">
                      <i data-lucide="play" class="w-5 h-5 text-blue-600"></i>
                    </div>
                    <div>
                      <div class="font-medium">서바이벌 시즌1</div>
                      <div class="text-sm text-gray-600">수학 - 시대인재</div>
                      <div class="text-xs text-gray-500">2025-01-15 구매</div>
                    </div>
                  </div>
                  <div class="flex items-center gap-2">
                    <span class="px-3 py-1 text-xs rounded-full bg-green-100 text-green-800">구매완료</span>
                    <div class="text-sm font-semibold text-gray-600">₩180,000</div>
                  </div>
                </div>

                <div class="flex items-center justify-between p-4 rounded-xl border border-gray-200 bg-gray-50">
                  <div class="flex items-center gap-3">
                    <div class="w-10 h-10 rounded-lg bg-green-100 flex items-center justify-center">
                      <i data-lucide="play" class="w-5 h-5 text-green-600"></i>
                    </div>
                    <div>
                      <div class="font-medium">문학의 이해</div>
                      <div class="text-sm text-gray-600">국어 - 메가스터디</div>
                      <div class="text-xs text-gray-500">2025-01-10 구매</div>
                    </div>
                  </div>
                  <div class="flex items-center gap-2">
                    <span class="px-3 py-1 text-xs rounded-full bg-green-100 text-green-800">구매완료</span>
                    <div class="text-sm font-semibold text-gray-600">₩120,000</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        `;
      } else if (id === 'frespon-pass') {
        content = `
        <div class="space-y-6">
          <div class="mb-2">
            <h2 class="text-xl font-semibold">${title}</h2>
            <p class="text-sm text-neutral-600">Frespon 망 이용권을 신청하고 관리하세요</p>
          </div>

          <!-- Frespon 이용권 신청 -->
          <div class="rounded-2xl border bg-white">
            <div class="p-6 border-b bg-gradient-to-r from-purple-50 to-indigo-50">
              <div class="flex items-center gap-3">
                <div class="w-10 h-10 rounded-lg bg-purple-100 flex items-center justify-center">
                  <i data-lucide="shield" class="w-5 h-5 text-purple-600"></i>
                </div>
                <div>
                  <h3 class="text-lg font-semibold text-purple-900">Frespon 이용권 신청</h3>
                  <p class="text-sm text-purple-700">Free + Responsibility = 자유와 책임의 망 이용권</p>
                </div>
              </div>
            </div>
            <div class="p-6 space-y-6">
              <div class="grid gap-6 md:grid-cols-2">
                <div class="space-y-2">
                  <label class="text-sm font-medium">이용 시간 <span class="text-red-500">*</span></label>
                  <select id="frespon-duration" class="w-full rounded-xl border px-3 py-2 text-sm" required>
                    <option value="">이용 시간을 선택하세요</option>
                    <option value="15">15분</option>
                    <option value="30">30분</option>
                    <option value="60">60분</option>
                  </select>
                </div>
                <div class="space-y-2">
                  <label class="text-sm font-medium">사용 목적 <span class="text-red-500">*</span></label>
                  <select class="w-full rounded-xl border px-3 py-2 text-sm" required>
                    <option value="">사용 목적을 선택하세요</option>
                    <option value="study">학습 자료 검색</option>
                    <option value="research">연구 자료 수집</option>
                    <option value="news">뉴스 확인</option>
                    <option value="communication">가족/친구 연락</option>
                    <option value="entertainment">적절한 여가 활동</option>
                    <option value="other">기타</option>
                  </select>
                </div>
              </div>

              <div class="space-y-2">
                <label class="text-sm font-medium">사용 사유 <span class="text-red-500">*</span></label>
                <textarea class="w-full rounded-xl border px-3 py-2 text-sm" rows="3" placeholder="구체적인 사용 사유를 입력하세요&#10;예: 수학 문제 해설을 위한 유튜브 강의 시청" required></textarea>
              </div>

              <div class="space-y-2">
                <label class="text-sm font-medium">사용 예정 시간</label>
                <div class="grid gap-3 md:grid-cols-2">
                  <input type="date" class="w-full rounded-xl border px-3 py-2 text-sm" />
                  <input type="time" class="w-full rounded-xl border px-3 py-2 text-sm" />
                </div>
              </div>

              <div class="space-y-3">
                <label class="flex items-start gap-3">
                  <input type="checkbox" class="mt-1 w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500" required>
                  <div class="text-sm text-gray-700">
                    <span class="font-medium">Frespon 이용 약관에 동의합니다.</span>
                    <ul class="mt-1 text-xs text-gray-600 space-y-1">
                      <li>• 학습 목적에 한정하여 사용합니다.</li>
                      <li>• 부적절한 콘텐츠 접근 시 이용권이 취소됩니다.</li>
                      <li>• 사용 시간을 초과하지 않습니다.</li>
                      <li>• 1회용 암호키는 승인 후 24시간 내에만 유효합니다.</li>
                    </ul>
                  </div>
                </label>
              </div>

              <div class="flex justify-end">
                <button onclick="submitFresponRequest()" class="px-6 py-3 rounded-xl bg-purple-600 text-white hover:bg-purple-700 transition-colors">
                  <i data-lucide="send" class="w-4 h-4 inline mr-2"></i>
                  이용권 신청하기
                </button>
              </div>
            </div>
          </div>

          <!-- 승인된 이용권 -->
          <div class="rounded-2xl border bg-white">
            <div class="p-6 border-b">
              <h3 class="text-lg font-semibold">승인된 이용권</h3>
            </div>
            <div class="p-6">
              <div class="space-y-3">
                <div class="flex items-center justify-between p-4 rounded-xl border border-green-200 bg-green-50">
                  <div class="flex items-center gap-3">
                    <div class="w-10 h-10 rounded-lg bg-green-100 flex items-center justify-center">
                      <i data-lucide="check-circle" class="w-5 h-5 text-green-600"></i>
                    </div>
                    <div>
                      <div class="font-medium">30분 이용권</div>
                      <div class="text-sm text-gray-600">학습 자료 검색 - 2025-01-20 14:00</div>
                      <div class="text-xs text-gray-500">2025-01-20 13:45 승인</div>
                    </div>
                  </div>
                  <div class="flex items-center gap-2">
                    <button onclick="showFresponKey('FR20250120001', '30분', '2025-01-20 14:00')" class="px-4 py-2 text-sm rounded-lg bg-green-600 text-white hover:bg-green-700">
                      암호키 확인
                    </button>
                  </div>
                </div>

                <div class="flex items-center justify-between p-4 rounded-xl border border-yellow-200 bg-yellow-50">
                  <div class="flex items-center gap-3">
                    <div class="w-10 h-10 rounded-lg bg-yellow-100 flex items-center justify-center">
                      <i data-lucide="clock" class="w-5 h-5 text-yellow-600"></i>
                    </div>
                    <div>
                      <div class="font-medium">15분 이용권</div>
                      <div class="text-sm text-gray-600">뉴스 확인 - 2025-01-21 09:00</div>
                      <div class="text-xs text-gray-500">2025-01-20 18:30 승인</div>
                    </div>
                  </div>
                  <div class="flex items-center gap-2">
                    <button onclick="showFresponKey('FR20250120002', '15분', '2025-01-21 09:00')" class="px-4 py-2 text-sm rounded-lg bg-yellow-600 text-white hover:bg-yellow-700">
                      암호키 확인
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- 이용 내역 -->
          <div class="rounded-2xl border bg-white">
            <div class="p-6 border-b">
              <h3 class="text-lg font-semibold">이용 내역</h3>
            </div>
            <div class="p-6">
              <div class="space-y-3">
                <div class="flex items-center justify-between p-4 rounded-xl border border-gray-200 bg-gray-50">
                  <div class="flex items-center gap-3">
                    <div class="w-10 h-10 rounded-lg bg-gray-100 flex items-center justify-center">
                      <i data-lucide="shield-check" class="w-5 h-5 text-gray-600"></i>
                    </div>
                    <div>
                      <div class="font-medium">60분 이용권</div>
                      <div class="text-sm text-gray-600">연구 자료 수집 - 2025-01-19 16:00</div>
                      <div class="text-xs text-gray-500">사용 완료 - 2025-01-19 17:00</div>
                    </div>
                  </div>
                  <div class="flex items-center gap-2">
                    <span class="px-3 py-1 text-xs rounded-full bg-gray-100 text-gray-800">사용완료</span>
                  </div>
                </div>

                <div class="flex items-center justify-between p-4 rounded-xl border border-gray-200 bg-gray-50">
                  <div class="flex items-center gap-3">
                    <div class="w-10 h-10 rounded-lg bg-gray-100 flex items-center justify-center">
                      <i data-lucide="shield-check" class="w-5 h-5 text-gray-600"></i>
                    </div>
                    <div>
                      <div class="font-medium">30분 이용권</div>
                      <div class="text-sm text-gray-600">가족 연락 - 2025-01-18 20:00</div>
                      <div class="text-xs text-gray-500">사용 완료 - 2025-01-18 20:30</div>
                    </div>
                  </div>
                  <div class="flex items-center gap-2">
                    <span class="px-3 py-1 text-xs rounded-full bg-gray-100 text-gray-800">사용완료</span>
                  </div>
                </div>

                <div class="flex items-center justify-between p-4 rounded-xl border border-red-200 bg-red-50">
                  <div class="flex items-center gap-3">
                    <div class="w-10 h-10 rounded-lg bg-red-100 flex items-center justify-center">
                      <i data-lucide="x-circle" class="w-5 h-5 text-red-600"></i>
                    </div>
                    <div>
                      <div class="font-medium">15분 이용권</div>
                      <div class="text-sm text-gray-600">적절한 여가 활동 - 2025-01-17 19:00</div>
                      <div class="text-xs text-gray-500">승인 거부 - 2025-01-17 18:45</div>
                    </div>
                  </div>
                  <div class="flex items-center gap-2">
                    <span class="px-3 py-1 text-xs rounded-full bg-red-100 text-red-800">거부됨</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        `;
      } else if (id === 'dorm-facility') {
        content = `
        <div class="space-y-6">
          <div class="mb-2">
            <h2 class="text-xl font-semibold">${title}</h2>
            <p class="text-sm text-neutral-600">시설 및 생활에 대한 민원을 신고하세요</p>
          </div>

          <!-- 민원 신고 폼 -->
          <div class="rounded-2xl border bg-white">
            <div class="p-6 border-b bg-red-50">
              <div class="flex items-center gap-3">
                <div class="w-10 h-10 rounded-lg bg-red-100 flex items-center justify-center">
                  <i data-lucide="alert-triangle" class="w-5 h-5 text-red-600"></i>
                </div>
                <div>
                  <h3 class="text-lg font-semibold text-red-900">민원 신고</h3>
                  <p class="text-sm text-red-700">시설물 또는 생활에 대한 문제를 신고해주세요</p>
                </div>
              </div>
            </div>
            <div class="p-6 space-y-6">
              <div class="grid gap-6 md:grid-cols-2">
                <div class="space-y-2">
                  <label class="text-sm font-medium">민원 분류 <span class="text-red-500">*</span></label>
                  <select id="complaint-category" class="w-full rounded-xl border px-3 py-2 text-sm" required onchange="updateComplaintTypes()">
                    <option value="">민원 분류를 선택하세요</option>
                    <option value="facility">시설 민원</option>
                    <option value="life">생활 민원</option>
                  </select>
                </div>
                <div class="space-y-2">
                  <label class="text-sm font-medium">민원 유형 <span class="text-red-500">*</span></label>
                  <select id="complaint-type" class="w-full rounded-xl border px-3 py-2 text-sm" required>
                    <option value="">먼저 분류를 선택하세요</option>
                  </select>
                </div>
              </div>

              <div class="grid gap-6 md:grid-cols-2">
                <div class="space-y-2">
                  <label class="text-sm font-medium">지점 <span class="text-red-500">*</span></label>
                  <select id="branch-select" class="w-full rounded-xl border px-3 py-2 text-sm" required onchange="updateLocations()">
                    <option value="">지점을 선택하세요</option>
                    <option value="gangnam">강남점</option>
                    <option value="seoul">서울점</option>
                    <option value="busan">부산점</option>
                    <option value="daegu">대구점</option>
                    <option value="incheon">인천점</option>
                    <option value="gwangju">광주점</option>
                    <option value="daejeon">대전점</option>
                    <option value="ulsan">울산점</option>
                  </select>
                </div>
                <div class="space-y-2">
                  <label class="text-sm font-medium">긴급도 <span class="text-red-500">*</span></label>
                  <select class="w-full rounded-xl border px-3 py-2 text-sm" required>
                    <option value="">긴급도를 선택하세요</option>
                    <option value="urgent">긴급 (즉시 처리 필요)</option>
                    <option value="high">높음 (24시간 내 처리 필요)</option>
                    <option value="medium">보통 (1주일 내 처리 필요)</option>
                    <option value="low">낮음 (1개월 내 처리 필요)</option>
                  </select>
                </div>
              </div>

              <div class="space-y-2">
                <label class="text-sm font-medium">위치 <span class="text-red-500">*</span></label>
                <div class="grid gap-3 md:grid-cols-2">
                  <select id="location-select" class="w-full rounded-xl border px-3 py-2 text-sm" required>
                    <option value="">먼저 지점을 선택하세요</option>
                  </select>
                  <input type="text" placeholder="구체적인 위치 (예: 3층 화장실, 2층 201호)" class="w-full rounded-xl border px-3 py-2 text-sm" required />
                </div>
              </div>

              <div class="space-y-2">
                <label class="text-sm font-medium">문제 상황 <span class="text-red-500">*</span></label>
                <textarea class="w-full rounded-xl border px-3 py-2 text-sm" rows="4" placeholder="어떤 문제가 발생했는지 자세히 설명해주세요&#10;예: 화장실 변기가 막혀서 물이 넘치고 있습니다." required></textarea>
              </div>

              <div class="space-y-2">
                <label class="text-sm font-medium">발생 시각</label>
                <div class="grid gap-3 md:grid-cols-2">
                  <input type="date" class="w-full rounded-xl border px-3 py-2 text-sm" />
                  <input type="time" class="w-full rounded-xl border px-3 py-2 text-sm" />
                </div>
              </div>

              <div class="space-y-2">
                <label class="text-sm font-medium">첨부 사진 (선택)</label>
                <div class="border-2 border-dashed border-gray-300 rounded-xl p-6 text-center hover:border-red-400 transition-colors">
                  <input type="file" id="facility-photos" class="hidden" multiple accept="image/*">
                  <label for="facility-photos" class="cursor-pointer">
                    <i data-lucide="camera" class="w-8 h-8 text-gray-400 mx-auto mb-2"></i>
                    <p class="text-sm text-gray-600">문제 상황 사진 업로드</p>
                    <p class="text-xs text-gray-400">JPG, PNG 파일 지원 (최대 5장)</p>
                  </label>
                </div>
              </div>

              <div class="space-y-2">
                <label class="text-sm font-medium">연락처 (선택)</label>
                <input type="tel" placeholder="010-0000-0000 (추가 문의가 필요할 경우)" class="w-full rounded-xl border px-3 py-2 text-sm" />
              </div>

              <div class="space-y-3">
                <label class="flex items-start gap-3">
                  <input type="checkbox" class="mt-1 w-4 h-4 text-red-600 border-gray-300 rounded focus:ring-red-500" required>
                  <div class="text-sm text-gray-700">
                    <span class="font-medium">민원 신고에 동의합니다.</span>
                    <ul class="mt-1 text-xs text-gray-600 space-y-1">
                      <li>• 신고 내용이 사실임을 확인합니다.</li>
                      <li>• 허위 신고 시 제재를 받을 수 있습니다.</li>
                      <li>• 개인정보는 민원 처리 목적으로만 사용됩니다.</li>
                    </ul>
                  </div>
                </label>
              </div>

              <div class="flex justify-end">
                <button class="px-6 py-3 rounded-xl bg-red-600 text-white hover:bg-red-700 transition-colors">
                  <i data-lucide="send" class="w-4 h-4 inline mr-2"></i>
                  민원 신고하기
                </button>
              </div>
            </div>
          </div>

          <!-- 민원 처리 안내 -->
          <div class="rounded-2xl border bg-blue-50 border-blue-200">
            <div class="p-6">
              <div class="flex items-start gap-3">
                <div class="w-8 h-8 rounded-lg bg-blue-100 flex items-center justify-center flex-shrink-0 mt-1">
                  <i data-lucide="info" class="w-4 h-4 text-blue-600"></i>
                </div>
                <div class="flex-1">
                  <h4 class="font-semibold text-blue-900 mb-2">민원 처리 안내</h4>
                  <div class="grid gap-4 md:grid-cols-2">
                    <div>
                      <h5 class="font-medium text-blue-800 mb-2">시설 민원</h5>
                      <ul class="text-sm text-blue-800 space-y-1">
                        <li>• <strong>긴급</strong>: 즉시 현장 확인 후 응급 조치</li>
                        <li>• <strong>높음</strong>: 24시간 내 현장 확인 및 수리 계획</li>
                        <li>• <strong>보통</strong>: 1주일 내 현장 확인 및 수리 일정</li>
                        <li>• <strong>낮음</strong>: 1개월 내 현장 확인 및 수리 일정</li>
                      </ul>
                    </div>
                    <div>
                      <h5 class="font-medium text-blue-800 mb-2">생활 민원</h5>
                      <ul class="text-sm text-blue-800 space-y-1">
                        <li>• <strong>긴급</strong>: 즉시 담당자 연락 및 조치</li>
                        <li>• <strong>높음</strong>: 24시간 내 담당자 확인 및 조치</li>
                        <li>• <strong>보통</strong>: 3일 내 담당자 확인 및 조치</li>
                        <li>• <strong>낮음</strong>: 1주일 내 담당자 확인 및 조치</li>
                      </ul>
                    </div>
                  </div>
                  <div class="mt-3 pt-3 border-t border-blue-200">
                    <p class="text-sm text-blue-800">• 민원 처리 과정은 SMS로 안내드립니다.</p>
                    <p class="text-sm text-blue-800">• 긴급한 상황은 해당 지점 관리사무소로 직접 연락하세요.</p>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- 나의 민원 신고 현황 -->
          <div class="rounded-2xl border bg-white">
            <div class="p-6 border-b">
              <h3 class="text-lg font-semibold">나의 민원 신고 현황</h3>
            </div>
            <div class="p-6">
              <div class="space-y-3">
                <div class="flex items-center justify-between p-4 rounded-xl border border-yellow-200 bg-yellow-50">
                  <div class="flex items-center gap-3">
                    <div class="w-10 h-10 rounded-lg bg-red-100 flex items-center justify-center">
                      <i data-lucide="alert-triangle" class="w-5 h-5 text-red-600"></i>
                    </div>
                    <div>
                      <div class="font-medium">화장실 변기 막힘</div>
                      <div class="text-sm text-gray-600">강남점 본관 3층 화장실 - 긴급</div>
                      <div class="text-xs text-gray-500">2025-01-20 14:30 신고</div>
                    </div>
                  </div>
                  <div class="flex items-center gap-2">
                    <span class="px-3 py-1 text-xs rounded-full bg-yellow-100 text-yellow-800">처리중</span>
                    <button class="px-3 py-1 text-xs rounded-lg border border-gray-300 text-gray-600 hover:bg-gray-50">상세보기</button>
                  </div>
                </div>

                <div class="flex items-center justify-between p-4 rounded-xl border border-green-200 bg-green-50">
                  <div class="flex items-center gap-3">
                    <div class="w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center">
                      <i data-lucide="users" class="w-5 h-5 text-blue-600"></i>
                    </div>
                    <div>
                      <div class="font-medium">기숙사 소음 민원</div>
                      <div class="text-sm text-gray-600">강남점 기숙사 3층 - 보통</div>
                      <div class="text-xs text-gray-500">2025-01-18 09:15 신고</div>
                    </div>
                  </div>
                  <div class="flex items-center gap-2">
                    <span class="px-3 py-1 text-xs rounded-full bg-green-100 text-green-800">완료</span>
                    <button class="px-3 py-1 text-xs rounded-lg border border-gray-300 text-gray-600 hover:bg-gray-50">상세보기</button>
                  </div>
                </div>

                <div class="flex items-center justify-between p-4 rounded-xl border border-red-200 bg-red-50">
                  <div class="flex items-center gap-3">
                    <div class="w-10 h-10 rounded-lg bg-red-100 flex items-center justify-center">
                      <i data-lucide="alert-triangle" class="w-5 h-5 text-red-600"></i>
                    </div>
                    <div>
                      <div class="font-medium">엘리베이터 고장</div>
                      <div class="text-sm text-gray-600">서울점 본관 엘리베이터 - 긴급</div>
                      <div class="text-xs text-gray-500">2025-01-15 16:45 신고</div>
                    </div>
                  </div>
                  <div class="flex items-center gap-2">
                    <span class="px-3 py-1 text-xs rounded-full bg-red-100 text-red-800">보류</span>
                    <button class="px-3 py-1 text-xs rounded-lg border border-gray-300 text-gray-600 hover:bg-gray-50">상세보기</button>
                  </div>
                </div>

                <div class="flex items-center justify-between p-4 rounded-xl border border-blue-200 bg-blue-50">
                  <div class="flex items-center gap-3">
                    <div class="w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center">
                      <i data-lucide="users" class="w-5 h-5 text-blue-600"></i>
                    </div>
                    <div>
                      <div class="font-medium">식당 음식 불만</div>
                      <div class="text-sm text-gray-600">부산점 식당 - 낮음</div>
                      <div class="text-xs text-gray-500">2025-01-12 12:30 신고</div>
                    </div>
                  </div>
                  <div class="flex items-center gap-2">
                    <span class="px-3 py-1 text-xs rounded-full bg-green-100 text-green-800">완료</span>
                    <button class="px-3 py-1 text-xs rounded-lg border border-gray-300 text-gray-600 hover:bg-gray-50">상세보기</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        `;
      } else if (id === 'dorm-meal') {
        content = `
        <div class="space-y-6">
          <div class="mb-2">
            <h2 class="text-xl font-semibold">${title}</h2>
            <p class="text-sm text-neutral-600">학원 식사 메뉴를 확인하고 신청하세요</p>
          </div>

          <!-- 잔액 정보 -->
          <div class="rounded-2xl border bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200">
            <div class="p-6">
              <div class="flex items-center justify-between">
                <div class="flex items-center gap-3">
                  <div class="w-12 h-12 rounded-xl bg-blue-100 flex items-center justify-center">
                    <i data-lucide="wallet" class="w-6 h-6 text-blue-600"></i>
                  </div>
                  <div>
                    <h3 class="text-lg font-semibold text-blue-900">SNarMoney 잔액</h3>
                    <p class="text-sm text-blue-700">현재 사용 가능한 금액</p>
                  </div>
                </div>
                <div class="text-right">
                  <div class="text-3xl font-bold text-blue-900">₩25,000</div>
                  <div class="text-sm text-blue-600">충전하기</div>
                </div>
              </div>
            </div>
          </div>

          <!-- 오늘의 메뉴 -->
          <div class="grid gap-6 lg:grid-cols-2">
            <!-- 점심 메뉴 -->
            <div class="rounded-2xl border bg-white">
              <div class="p-6 border-b bg-orange-50">
                <div class="flex items-center gap-3">
                  <div class="w-10 h-10 rounded-lg bg-orange-100 flex items-center justify-center">
                    <i data-lucide="sun" class="w-5 h-5 text-orange-600"></i>
                  </div>
                  <div>
                    <h3 class="text-lg font-semibold text-orange-900">점심 메뉴</h3>
                    <p class="text-sm text-orange-700">2025년 1월 20일 (월)</p>
                  </div>
                </div>
              </div>
              <div class="p-6 space-y-4">
                <div class="space-y-3">
                  <div class="flex items-center justify-between p-4 rounded-xl border border-gray-200 hover:border-orange-300 transition-colors">
                    <div class="flex-1">
                      <h4 class="font-medium text-gray-900">김치찌개 + 밥</h4>
                      <p class="text-sm text-gray-600">김치찌개, 밥, 김치, 단무지</p>
                    </div>
                    <div class="text-right">
                      <div class="text-lg font-semibold text-orange-600">₩4,500</div>
                      <button onclick="openMealModal('점심', '김치찌개 + 밥', 4500)" class="mt-2 px-4 py-2 text-sm rounded-lg bg-orange-600 text-white hover:bg-orange-700 transition-colors">
                        신청하기
                      </button>
                    </div>
                  </div>
                  
                  <div class="flex items-center justify-between p-4 rounded-xl border border-gray-200 hover:border-orange-300 transition-colors">
                    <div class="flex-1">
                      <h4 class="font-medium text-gray-900">된장찌개 + 밥</h4>
                      <p class="text-sm text-gray-600">된장찌개, 밥, 김치, 단무지</p>
                    </div>
                    <div class="text-right">
                      <div class="text-lg font-semibold text-orange-600">₩4,000</div>
                      <button onclick="openMealModal('점심', '된장찌개 + 밥', 4000)" class="mt-2 px-4 py-2 text-sm rounded-lg bg-orange-600 text-white hover:bg-orange-700 transition-colors">
                        신청하기
                      </button>
                    </div>
                  </div>

                  <div class="flex items-center justify-between p-4 rounded-xl border border-gray-200 hover:border-orange-300 transition-colors">
                    <div class="flex-1">
                      <h4 class="font-medium text-gray-900">불고기덮밥</h4>
                      <p class="text-sm text-gray-600">불고기, 밥, 계란후라이, 김치</p>
                    </div>
                    <div class="text-right">
                      <div class="text-lg font-semibold text-orange-600">₩5,500</div>
                      <button onclick="openMealModal('점심', '불고기덮밥', 5500)" class="mt-2 px-4 py-2 text-sm rounded-lg bg-orange-600 text-white hover:bg-orange-700 transition-colors">
                        신청하기
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- 저녁 메뉴 -->
            <div class="rounded-2xl border bg-white">
              <div class="p-6 border-b bg-purple-50">
                <div class="flex items-center gap-3">
                  <div class="w-10 h-10 rounded-lg bg-purple-100 flex items-center justify-center">
                    <i data-lucide="moon" class="w-5 h-5 text-purple-600"></i>
                  </div>
                  <div>
                    <h3 class="text-lg font-semibold text-purple-900">저녁 메뉴</h3>
                    <p class="text-sm text-purple-700">2025년 1월 20일 (월)</p>
                  </div>
                </div>
              </div>
              <div class="p-6 space-y-4">
                <div class="space-y-3">
                  <div class="flex items-center justify-between p-4 rounded-xl border border-gray-200 hover:border-purple-300 transition-colors">
                    <div class="flex-1">
                      <h4 class="font-medium text-gray-900">치킨카레 + 밥</h4>
                      <p class="text-sm text-gray-600">치킨카레, 밥, 김치, 단무지</p>
                    </div>
                    <div class="text-right">
                      <div class="text-lg font-semibold text-purple-600">₩5,000</div>
                      <button onclick="openMealModal('저녁', '치킨카레 + 밥', 5000)" class="mt-2 px-4 py-2 text-sm rounded-lg bg-purple-600 text-white hover:bg-purple-700 transition-colors">
                        신청하기
                      </button>
                    </div>
                  </div>
                  
                  <div class="flex items-center justify-between p-4 rounded-xl border border-gray-200 hover:border-purple-300 transition-colors">
                    <div class="flex-1">
                      <h4 class="font-medium text-gray-900">돈까스 + 밥</h4>
                      <p class="text-sm text-gray-600">돈까스, 밥, 김치, 단무지, 소스</p>
                    </div>
                    <div class="text-right">
                      <div class="text-lg font-semibold text-purple-600">₩6,000</div>
                      <button onclick="openMealModal('저녁', '돈까스 + 밥', 6000)" class="mt-2 px-4 py-2 text-sm rounded-lg bg-purple-600 text-white hover:bg-purple-700 transition-colors">
                        신청하기
                      </button>
                    </div>
                  </div>

                  <div class="flex items-center justify-between p-4 rounded-xl border border-gray-200 hover:border-purple-300 transition-colors">
                    <div class="flex-1">
                      <h4 class="font-medium text-gray-900">비빔밥</h4>
                      <p class="text-sm text-gray-600">비빔밥, 김치, 단무지, 고추장</p>
                    </div>
                    <div class="text-right">
                      <div class="text-lg font-semibold text-purple-600">₩4,500</div>
                      <button onclick="openMealModal('저녁', '비빔밥', 4500)" class="mt-2 px-4 py-2 text-sm rounded-lg bg-purple-600 text-white hover:bg-purple-700 transition-colors">
                        신청하기
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- 식사 신청 안내 -->
          <div class="rounded-2xl border bg-yellow-50 border-yellow-200">
            <div class="p-6">
              <div class="flex items-start gap-3">
                <div class="w-8 h-8 rounded-lg bg-yellow-100 flex items-center justify-center flex-shrink-0 mt-1">
                  <i data-lucide="info" class="w-4 h-4 text-yellow-600"></i>
                </div>
                <div class="flex-1">
                  <h4 class="font-semibold text-yellow-900 mb-2">식사 신청 안내</h4>
                  <ul class="text-sm text-yellow-800 space-y-1">
                    <li>• 식사 신청은 당일 오전 10시까지 가능합니다.</li>
                    <li>• 신청 후 취소는 불가능하니 신중히 선택해주세요.</li>
                    <li>• 잔액이 부족할 경우 충전 후 신청해주세요.</li>
                    <li>• 식사 시간: 점심 12:00-13:00, 저녁 18:00-19:00</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>

          <!-- 나의 식사 신청 현황 -->
          <div class="rounded-2xl border bg-white">
            <div class="p-6 border-b">
              <h3 class="text-lg font-semibold">나의 식사 신청 현황</h3>
            </div>
            <div class="p-6">
              <div class="space-y-3">
                <div class="flex items-center justify-between p-4 rounded-xl border border-green-200 bg-green-50">
                  <div class="flex items-center gap-3">
                    <div class="w-10 h-10 rounded-lg bg-orange-100 flex items-center justify-center">
                      <i data-lucide="sun" class="w-5 h-5 text-orange-600"></i>
                    </div>
                    <div>
                      <div class="font-medium">점심 - 김치찌개 + 밥</div>
                      <div class="text-sm text-gray-600">2025-01-20 (월) 12:00-13:00</div>
                      <div class="text-xs text-gray-500">2025-01-20 09:30 신청</div>
                    </div>
                  </div>
                  <div class="flex items-center gap-2">
                    <span class="px-3 py-1 text-xs rounded-full bg-green-100 text-green-800">신청완료</span>
                    <div class="text-sm font-semibold text-green-600">₩4,500</div>
                  </div>
                </div>

                <div class="flex items-center justify-between p-4 rounded-xl border border-purple-200 bg-purple-50">
                  <div class="flex items-center gap-3">
                    <div class="w-10 h-10 rounded-lg bg-purple-100 flex items-center justify-center">
                      <i data-lucide="moon" class="w-5 h-5 text-purple-600"></i>
                    </div>
                    <div>
                      <div class="font-medium">저녁 - 치킨카레 + 밥</div>
                      <div class="text-sm text-gray-600">2025-01-20 (월) 18:00-19:00</div>
                      <div class="text-xs text-gray-500">2025-01-20 09:30 신청</div>
                    </div>
                  </div>
                  <div class="flex items-center gap-2">
                    <span class="px-3 py-1 text-xs rounded-full bg-green-100 text-green-800">신청완료</span>
                    <div class="text-sm font-semibold text-purple-600">₩5,000</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        `;
      } else if (id === 'dorm-outing') {
        content = `
        <div class="space-y-6">
          <div class="mb-2">
            <h2 class="text-xl font-semibold">${title}</h2>
            <p class="text-sm text-neutral-600">외출, 외박, 현강, 기타 신청을 제출하세요</p>
          </div>

          <!-- 탭 메뉴 -->
          <div class="rounded-2xl border bg-white">
            <div class="p-6 border-b">
              <div class="flex space-x-1 bg-gray-100 p-1 rounded-xl">
                <button onclick="showOutingForm('class')" id="tab-class" class="flex-1 px-4 py-2 text-sm font-medium rounded-lg transition-colors bg-white text-blue-600 shadow-sm">
                  <i data-lucide="graduation-cap" class="w-4 h-4 inline mr-2"></i>현강
                </button>
                <button onclick="showOutingForm('outing')" id="tab-outing" class="flex-1 px-4 py-2 text-sm font-medium rounded-lg transition-colors text-gray-600 hover:text-gray-800">
                  <i data-lucide="log-out" class="w-4 h-4 inline mr-2"></i>외출
                </button>
                <button onclick="showOutingForm('overnight')" id="tab-overnight" class="flex-1 px-4 py-2 text-sm font-medium rounded-lg transition-colors text-gray-600 hover:text-gray-800">
                  <i data-lucide="home" class="w-4 h-4 inline mr-2"></i>외박
                </button>
                <button onclick="showOutingForm('other')" id="tab-other" class="flex-1 px-4 py-2 text-sm font-medium rounded-lg transition-colors text-gray-600 hover:text-gray-800">
                  <i data-lucide="more-horizontal" class="w-4 h-4 inline mr-2"></i>기타
                </button>
              </div>
            </div>
            <div class="p-6">
              <!-- 현강 신청 폼 -->
              <div id="form-class" class="space-y-4">
                <div class="flex items-center gap-3 mb-4">
                  <div class="w-10 h-10 rounded-lg bg-green-100 flex items-center justify-center">
                    <i data-lucide="graduation-cap" class="w-5 h-5 text-green-600"></i>
                  </div>
                  <div>
                    <h3 class="text-lg font-semibold">현강 신청</h3>
                    <p class="text-sm text-neutral-600">학원 외부에서 진행되는 수업 신청</p>
                  </div>
                </div>
                <div class="space-y-2">
                  <label class="text-sm font-medium">수업명 <span class="text-red-500">*</span></label>
                  <input type="text" placeholder="예: 토익 집중반, 수학 개별과외" class="w-full rounded-xl border px-3 py-2 text-sm" required />
                </div>
                <div class="space-y-2">
                  <label class="text-sm font-medium">반복 설정 <span class="text-red-500">*</span></label>
                  <select id="repeat-type" class="w-full rounded-xl border px-3 py-2 text-sm" required onchange="toggleRepeatOptions()">
                    <option value="">반복 설정을 선택하세요</option>
                    <option value="once">이번만</option>
                    <option value="weekly">매주 반복</option>
                  </select>
                </div>
                <div class="grid gap-4 md:grid-cols-2">
                  <div class="space-y-2">
                    <label class="text-sm font-medium">수업 시작일 <span class="text-red-500">*</span></label>
                    <input type="date" class="w-full rounded-xl border px-3 py-2 text-sm" required />
                  </div>
                  <div class="space-y-2" id="end-date-container">
                    <label class="text-sm font-medium">수업 종료일 <span class="text-red-500">*</span></label>
                    <input type="date" class="w-full rounded-xl border px-3 py-2 text-sm" required />
                  </div>
                </div>
                <div class="space-y-2">
                  <label class="text-sm font-medium">수업 시간 <span class="text-red-500">*</span></label>
                  <input type="text" placeholder="예: 매주 화,목 19:00-21:00" class="w-full rounded-xl border px-3 py-2 text-sm" required />
                </div>
                <div class="space-y-2">
                  <label class="text-sm font-medium">수업 장소 <span class="text-red-500">*</span></label>
                  <input type="text" placeholder="구체적인 주소를 입력하세요" class="w-full rounded-xl border px-3 py-2 text-sm" required />
                </div>
                <div class="space-y-2">
                  <label class="text-sm font-medium">강사명 <span class="text-red-500">*</span></label>
                  <input type="text" placeholder="강사 이름을 입력하세요" class="w-full rounded-xl border px-3 py-2 text-sm" required />
                </div>
                <div class="space-y-2">
                  <label class="text-sm font-medium">수업 목적 <span class="text-red-500">*</span></label>
                  <textarea class="w-full rounded-xl border px-3 py-2 text-sm" rows="3" placeholder="이 수업을 통해 달성하고자 하는 목표를 입력하세요" required></textarea>
                </div>
                <div class="flex justify-end">
                  <button class="px-6 py-2 rounded-xl bg-green-600 text-white hover:bg-green-700">
                    <i data-lucide="send" class="w-4 h-4 inline mr-2"></i>
                    현강 신청
                  </button>
                </div>
              </div>

              <!-- 외출 신청 폼 -->
              <div id="form-outing" class="space-y-4 hidden">
                <div class="flex items-center gap-3 mb-4">
                  <div class="w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center">
                    <i data-lucide="log-out" class="w-5 h-5 text-blue-600"></i>
                  </div>
                  <div>
                    <h3 class="text-lg font-semibold">외출 신청</h3>
                    <p class="text-sm text-neutral-600">단기 외출 신청 (4시간 이내)</p>
                  </div>
                </div>
                <div class="grid gap-4 md:grid-cols-2">
                  <div class="space-y-2">
                    <label class="text-sm font-medium">외출 날짜 <span class="text-red-500">*</span></label>
                    <input type="date" class="w-full rounded-xl border px-3 py-2 text-sm" required />
                  </div>
                  <div class="space-y-2">
                    <label class="text-sm font-medium">외출 시간 <span class="text-red-500">*</span></label>
                    <select class="w-full rounded-xl border px-3 py-2 text-sm" required>
                      <option value="">시간을 선택하세요</option>
                      <option value="09:00">09:00</option>
                      <option value="10:00">10:00</option>
                      <option value="11:00">11:00</option>
                      <option value="12:00">12:00</option>
                      <option value="13:00">13:00</option>
                      <option value="14:00">14:00</option>
                      <option value="15:00">15:00</option>
                      <option value="16:00">16:00</option>
                      <option value="17:00">17:00</option>
                      <option value="18:00">18:00</option>
                      <option value="19:00">19:00</option>
                    </select>
                  </div>
                </div>
                <div class="space-y-2">
                  <label class="text-sm font-medium">복귀 예정 시간 <span class="text-red-500">*</span></label>
                  <select class="w-full rounded-xl border px-3 py-2 text-sm" required>
                    <option value="">복귀 시간을 선택하세요</option>
                    <option value="12:00">12:00</option>
                    <option value="13:00">13:00</option>
                    <option value="14:00">14:00</option>
                    <option value="15:00">15:00</option>
                    <option value="16:00">16:00</option>
                    <option value="17:00">17:00</option>
                    <option value="18:00">18:00</option>
                    <option value="19:00">19:00</option>
                    <option value="20:00">20:00</option>
                    <option value="21:00">21:00</option>
                    <option value="22:00">22:00</option>
                  </select>
                </div>
                <div class="space-y-2">
                  <label class="text-sm font-medium">외출 목적 <span class="text-red-500">*</span></label>
                  <select class="w-full rounded-xl border px-3 py-2 text-sm" required>
                    <option value="">목적을 선택하세요</option>
                    <option value="hospital">병원/약국</option>
                    <option value="bank">은행 업무</option>
                    <option value="family">가족 방문</option>
                    <option value="shopping">쇼핑</option>
                    <option value="meal">외식</option>
                    <option value="other">기타</option>
                  </select>
                </div>
                <div class="space-y-2">
                  <label class="text-sm font-medium">외출 장소 <span class="text-red-500">*</span></label>
                  <input type="text" placeholder="구체적인 장소를 입력하세요" class="w-full rounded-xl border px-3 py-2 text-sm" required />
                </div>
                <div class="space-y-2">
                  <label class="text-sm font-medium">동반자 (선택)</label>
                  <input type="text" placeholder="함께 외출하는 사람이 있다면 입력하세요" class="w-full rounded-xl border px-3 py-2 text-sm" />
                </div>
                <div class="space-y-2">
                  <label class="text-sm font-medium">비상연락처 <span class="text-red-500">*</span></label>
                  <input type="tel" placeholder="010-0000-0000" class="w-full rounded-xl border px-3 py-2 text-sm" required />
                </div>
                <div class="space-y-2">
                  <label class="text-sm font-medium">상세 사유 <span class="text-red-500">*</span></label>
                  <textarea class="w-full rounded-xl border px-3 py-2 text-sm" rows="3" placeholder="외출이 필요한 구체적인 사유를 입력하세요" required></textarea>
                </div>
                <div class="flex justify-end">
                  <button class="px-6 py-2 rounded-xl bg-blue-600 text-white hover:bg-blue-700">
                    <i data-lucide="send" class="w-4 h-4 inline mr-2"></i>
                    외출 신청
                  </button>
                </div>
              </div>

              <!-- 외박 신청 폼 -->
              <div id="form-overnight" class="space-y-4 hidden">
                <div class="flex items-center gap-3 mb-4">
                  <div class="w-10 h-10 rounded-lg bg-purple-100 flex items-center justify-center">
                    <i data-lucide="home" class="w-5 h-5 text-purple-600"></i>
                  </div>
                  <div>
                    <h3 class="text-lg font-semibold">외박 신청</h3>
                    <p class="text-sm text-neutral-600">1박 이상 집에서 머무르는 신청</p>
                  </div>
                </div>
                <div class="grid gap-4 md:grid-cols-2">
                  <div class="space-y-2">
                    <label class="text-sm font-medium">외박 시작일 <span class="text-red-500">*</span></label>
                    <input type="date" class="w-full rounded-xl border px-3 py-2 text-sm" required />
                  </div>
                  <div class="space-y-2">
                    <label class="text-sm font-medium">외박 종료일 <span class="text-red-500">*</span></label>
                    <input type="date" class="w-full rounded-xl border px-3 py-2 text-sm" required />
                  </div>
                </div>
                <div class="space-y-2">
                  <label class="text-sm font-medium">외박 목적 <span class="text-red-500">*</span></label>
                  <select class="w-full rounded-xl border px-3 py-2 text-sm" required>
                    <option value="">목적을 선택하세요</option>
                    <option value="family">가족 행사</option>
                    <option value="holiday">공휴일/휴일</option>
                    <option value="medical">의료/치료</option>
                    <option value="emergency">긴급상황</option>
                    <option value="other">기타</option>
                  </select>
                </div>
                <div class="space-y-2">
                  <label class="text-sm font-medium">외박 장소 <span class="text-red-500">*</span></label>
                  <input type="text" placeholder="집 주소를 입력하세요" class="w-full rounded-xl border px-3 py-2 text-sm" required />
                </div>
                <div class="space-y-2">
                  <label class="text-sm font-medium">보호자 연락처 <span class="text-red-500">*</span></label>
                  <input type="tel" placeholder="010-0000-0000" class="w-full rounded-xl border px-3 py-2 text-sm" required />
                </div>
                <div class="space-y-2">
                  <label class="text-sm font-medium">보호자와의 관계 <span class="text-red-500">*</span></label>
                  <select class="w-full rounded-xl border px-3 py-2 text-sm" required>
                    <option value="">관계를 선택하세요</option>
                    <option value="father">아버지</option>
                    <option value="mother">어머니</option>
                    <option value="guardian">법정대리인</option>
                    <option value="other">기타</option>
                  </select>
                </div>
                <div class="space-y-2">
                  <label class="text-sm font-medium">상세 사유 <span class="text-red-500">*</span></label>
                  <textarea class="w-full rounded-xl border px-3 py-2 text-sm" rows="3" placeholder="외박이 필요한 구체적인 사유를 입력하세요" required></textarea>
                </div>
                <div class="space-y-2">
                  <label class="text-sm font-medium">보호자 동의서 <span class="text-red-500">*</span></label>
                  <div class="border-2 border-dashed border-gray-300 rounded-xl p-4 text-center hover:border-purple-400 transition-colors">
                    <input type="file" id="guardian-consent" class="hidden" accept=".pdf,.jpg,.jpeg,.png">
                    <label for="guardian-consent" class="cursor-pointer">
                      <i data-lucide="upload" class="w-8 h-8 text-gray-400 mx-auto mb-2"></i>
                      <p class="text-sm text-gray-600">보호자 동의서 업로드</p>
                      <p class="text-xs text-gray-400">PDF, JPG, PNG 파일 지원</p>
                    </label>
                  </div>
                </div>
                <div class="flex justify-end">
                  <button class="px-6 py-2 rounded-xl bg-purple-600 text-white hover:bg-purple-700">
                    <i data-lucide="send" class="w-4 h-4 inline mr-2"></i>
                    외박 신청
                  </button>
                </div>
              </div>


              <!-- 기타 신청 폼 -->
              <div id="form-other" class="space-y-4 hidden">
                <div class="flex items-center gap-3 mb-4">
                  <div class="w-10 h-10 rounded-lg bg-orange-100 flex items-center justify-center">
                    <i data-lucide="more-horizontal" class="w-5 h-5 text-orange-600"></i>
                  </div>
                  <div>
                    <h3 class="text-lg font-semibold">기타 신청</h3>
                    <p class="text-sm text-neutral-600">기타 특별한 사유로 인한 신청</p>
                  </div>
                </div>
                <div class="space-y-2">
                  <label class="text-sm font-medium">신청 유형 <span class="text-red-500">*</span></label>
                  <select class="w-full rounded-xl border px-3 py-2 text-sm" required>
                    <option value="">신청 유형을 선택하세요</option>
                    <option value="emergency">긴급상황</option>
                    <option value="special">특별한 사유</option>
                    <option value="medical">의료 관련</option>
                    <option value="family">가족 관련</option>
                    <option value="other">기타</option>
                  </select>
                </div>
                <div class="grid gap-4 md:grid-cols-2">
                  <div class="space-y-2">
                    <label class="text-sm font-medium">시작일 <span class="text-red-500">*</span></label>
                    <input type="date" class="w-full rounded-xl border px-3 py-2 text-sm" required />
                  </div>
                  <div class="space-y-2">
                    <label class="text-sm font-medium">종료일 <span class="text-red-500">*</span></label>
                    <input type="date" class="w-full rounded-xl border px-3 py-2 text-sm" required />
                  </div>
                </div>
                <div class="space-y-2">
                  <label class="text-sm font-medium">장소 <span class="text-red-500">*</span></label>
                  <input type="text" placeholder="구체적인 장소를 입력하세요" class="w-full rounded-xl border px-3 py-2 text-sm" required />
                </div>
                <div class="space-y-2">
                  <label class="text-sm font-medium">비상연락처 <span class="text-red-500">*</span></label>
                  <input type="tel" placeholder="010-0000-0000" class="w-full rounded-xl border px-3 py-2 text-sm" required />
                </div>
                <div class="space-y-2">
                  <label class="text-sm font-medium">상세 사유 <span class="text-red-500">*</span></label>
                  <textarea class="w-full rounded-xl border px-3 py-2 text-sm" rows="4" placeholder="신청이 필요한 구체적인 사유를 상세히 입력하세요" required></textarea>
                </div>
                <div class="space-y-2">
                  <label class="text-sm font-medium">첨부 파일 (선택)</label>
                  <div class="border-2 border-dashed border-gray-300 rounded-xl p-4 text-center hover:border-orange-400 transition-colors">
                    <input type="file" id="other-file" class="hidden" multiple accept=".pdf,.jpg,.jpeg,.png,.doc,.docx">
                    <label for="other-file" class="cursor-pointer">
                      <i data-lucide="upload" class="w-8 h-8 text-gray-400 mx-auto mb-2"></i>
                      <p class="text-sm text-gray-600">관련 서류 업로드</p>
                      <p class="text-xs text-gray-400">PDF, JPG, PNG, DOC 파일 지원</p>
                    </label>
                  </div>
                </div>
                <div class="flex justify-end">
                  <button class="px-6 py-2 rounded-xl bg-orange-600 text-white hover:bg-orange-700">
                    <i data-lucide="send" class="w-4 h-4 inline mr-2"></i>
                    기타 신청
                  </button>
                </div>
              </div>
            </div>
          </div>

          <!-- 신청 현황 -->
          <div class="rounded-2xl border bg-white">
            <div class="p-6 border-b">
              <h3 class="text-lg font-semibold">나의 신청 현황</h3>
            </div>
            <div class="p-6">
              <div class="space-y-3">
                <div class="flex items-center justify-between p-4 rounded-xl border border-yellow-200 bg-yellow-50">
                  <div class="flex items-center gap-3">
                    <div class="w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center">
                      <i data-lucide="log-out" class="w-5 h-5 text-blue-600"></i>
                    </div>
                    <div>
                      <div class="font-medium">외출 신청</div>
                      <div class="text-sm text-gray-600">병원 방문 - 2025-01-20 14:00-16:00</div>
                      <div class="text-xs text-gray-500">2025-01-19 18:30 신청</div>
                    </div>
                  </div>
                  <div class="flex items-center gap-2">
                    <span class="px-3 py-1 text-xs rounded-full bg-yellow-100 text-yellow-800">검토중</span>
                    <button class="px-3 py-1 text-xs rounded-lg border border-gray-300 text-gray-600 hover:bg-gray-50">상세보기</button>
                  </div>
                </div>

                <div class="flex items-center justify-between p-4 rounded-xl border border-green-200 bg-green-50">
                  <div class="flex items-center gap-3">
                    <div class="w-10 h-10 rounded-lg bg-green-100 flex items-center justify-center">
                      <i data-lucide="graduation-cap" class="w-5 h-5 text-green-600"></i>
                    </div>
                    <div>
                      <div class="font-medium">외부수업 신청</div>
                      <div class="text-sm text-gray-600">토익 집중반 - 2025-01-15~02-15</div>
                      <div class="text-xs text-gray-500">2025-01-14 16:00 신청</div>
                    </div>
                  </div>
                  <div class="flex items-center gap-2">
                    <span class="px-3 py-1 text-xs rounded-full bg-green-100 text-green-800">승인됨</span>
                    <button class="px-3 py-1 text-xs rounded-lg border border-gray-300 text-gray-600 hover:bg-gray-50">상세보기</button>
                  </div>
                </div>

                <div class="flex items-center justify-between p-4 rounded-xl border border-red-200 bg-red-50">
                  <div class="flex items-center gap-3">
                    <div class="w-10 h-10 rounded-lg bg-purple-100 flex items-center justify-center">
                      <i data-lucide="home" class="w-5 h-5 text-purple-600"></i>
                    </div>
                    <div>
                      <div class="font-medium">외박 신청</div>
                      <div class="text-sm text-gray-600">가족 행사 - 2025-01-10~01-12</div>
                      <div class="text-xs text-gray-500">2025-01-09 20:00 신청</div>
                    </div>
                  </div>
                  <div class="flex items-center gap-2">
                    <span class="px-3 py-1 text-xs rounded-full bg-red-100 text-red-800">거부됨</span>
                    <button class="px-3 py-1 text-xs rounded-lg border border-gray-300 text-gray-600 hover:bg-gray-50">상세보기</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        `;
      } else if (id === 'consult-firewall') {
        content = `
        <div class="space-y-6">
          <div class="mb-2">
            <h2 class="text-xl font-semibold">${title}</h2>
            <p class="text-sm text-neutral-600">방화벽 해제를 위한 신청서를 작성해 주세요</p>
          </div>

          <div class="rounded-2xl border bg-white">
            <div class="p-6 border-b">
              <div class="flex items-center gap-3">
                <div class="w-10 h-10 rounded-lg bg-red-100 flex items-center justify-center">
                  <i data-lucide="shield" class="w-5 h-5 text-red-600"></i>
                </div>
                <div>
                  <h3 class="text-lg font-semibold">방화벽 신청</h3>
                  <p class="text-sm text-neutral-600">학습에 필요한 사이트 접근을 위한 방화벽 해제 신청</p>
                </div>
              </div>
            </div>
            <div class="p-6 space-y-6">
              <!-- 독서실 좌석 정보 -->
              <div class="grid gap-4 md:grid-cols-2">
                <div class="space-y-2">
                  <label class="text-sm font-medium">지점 <span class="text-red-500">*</span></label>
                  <select class="w-full rounded-xl border px-3 py-2 text-sm" required>
                    <option value="">지점을 선택하세요</option>
                    <option value="gangnam">강남점</option>
                    <option value="hongdae">홍대점</option>
                    <option value="sinchon">신촌점</option>
                    <option value="jongno">종로점</option>
                    <option value="bundang">분당점</option>
                    <option value="suwon">수원점</option>
                  </select>
                </div>
                <div class="space-y-2">
                  <label class="text-sm font-medium">좌석 번호 <span class="text-red-500">*</span></label>
                  <input type="text" placeholder="예: A-15, B-23" class="w-full rounded-xl border px-3 py-2 text-sm" required />
                </div>
              </div>

              <!-- URL 정보 -->
              <div class="space-y-2">
                <label class="text-sm font-medium">접근하려는 URL <span class="text-red-500">*</span></label>
                <input type="url" placeholder="https://example.com" class="w-full rounded-xl border px-3 py-2 text-sm" required />
                <p class="text-xs text-gray-500">접근이 필요한 정확한 URL을 입력해 주세요</p>
              </div>

              <!-- 인강회사 정보 -->
              <div class="space-y-2">
                <label class="text-sm font-medium">인강회사 <span class="text-red-500">*</span></label>
                <select id="company-select" class="w-full rounded-xl border px-3 py-2 text-sm" required>
                  <option value="">인강회사를 선택하세요</option>
                  <option value="mega">메가스터디</option>
                  <option value="etoos">이투스</option>
                  <option value="sky">스카이에듀</option>
                  <option value="khan">칸아카데미</option>
                  <option value="coursera">코세라</option>
                  <option value="edx">에드엑스</option>
                  <option value="youtube">유튜브 교육</option>
                  <option value="other">기타</option>
                </select>
              </div>

              <!-- 기타 인강회사 입력 -->
              <div class="space-y-2" id="other-company" style="display: none;">
                <label class="text-sm font-medium">기타 인강회사명</label>
                <input type="text" placeholder="인강회사명을 입력하세요" class="w-full rounded-xl border px-3 py-2 text-sm" />
              </div>

              <!-- 신청 사유 -->
              <div class="space-y-2">
                <label class="text-sm font-medium">신청 사유 <span class="text-red-500">*</span></label>
                <textarea class="w-full rounded-xl border px-3 py-2 text-sm" rows="3" placeholder="해당 사이트에 접근해야 하는 구체적인 이유를 입력해 주세요" required></textarea>
              </div>

              <!-- 문제 스크린샷 또는 녹화 영상 업로드 -->
              <div class="space-y-2">
                <label class="text-sm font-medium">문제 스크린샷 또는 녹화 영상 <span class="text-red-500">*</span></label>
                <div class="border-2 border-dashed border-gray-300 rounded-xl p-6 text-center hover:border-red-400 transition-colors">
                  <input type="file" id="firewall-file" class="hidden" multiple accept=".jpg,.jpeg,.png,.gif,.mp4,.mov,.avi,.webm">
                  <label for="firewall-file" class="cursor-pointer">
                    <i data-lucide="upload" class="w-12 h-12 text-gray-400 mx-auto mb-3"></i>
                    <p class="text-sm text-gray-600 mb-1">파일을 드래그하거나 클릭하여 업로드</p>
                    <p class="text-xs text-gray-400">이미지: JPG, PNG, GIF (최대 10MB)</p>
                    <p class="text-xs text-gray-400">동영상: MP4, MOV, AVI, WEBM (최대 100MB)</p>
                  </label>
                </div>
                <div id="firewall-file-list" class="space-y-2"></div>
              </div>

              <!-- 추가 정보 -->
              <div class="space-y-2">
                <label class="text-sm font-medium">추가 정보 (선택)</label>
                <textarea class="w-full rounded-xl border px-3 py-2 text-sm" rows="2" placeholder="기타 참고사항이나 특이사항이 있다면 입력해 주세요"></textarea>
              </div>

              <!-- 신청 약관 동의 -->
              <div class="space-y-3">
                <div class="flex items-start gap-3">
                  <input type="checkbox" id="firewall-agreement" class="mt-1 rounded border-gray-300" required />
                  <label for="firewall-agreement" class="text-sm text-gray-700">
                    <span class="text-red-500">*</span> 방화벽 신청 시 다음 사항에 동의합니다:
                    <ul class="mt-2 ml-4 space-y-1 text-xs text-gray-600">
                      <li>• 신청한 사이트는 학습 목적으로만 사용하겠습니다</li>
                      <li>• 부적절한 사이트 접근 시 신청이 취소될 수 있습니다</li>
                      <li>• 신청 처리에는 최대 24시간이 소요될 수 있습니다</li>
                      <li>• 신청 승인 후에도 사이트 이용 내역은 모니터링됩니다</li>
                    </ul>
                  </label>
                </div>
              </div>

              <!-- 신청 버튼 -->
              <div class="flex justify-end gap-3">
                <button type="button" class="px-6 py-2 rounded-xl border border-gray-300 text-gray-700 hover:bg-gray-50">
                  임시저장
                </button>
                <button type="submit" class="px-6 py-2 rounded-xl bg-red-600 text-white hover:bg-red-700">
                  <i data-lucide="shield-check" class="w-4 h-4 inline mr-2"></i>
                  방화벽 신청
                </button>
              </div>
            </div>
          </div>

          <!-- 신청 현황 -->
          <div class="rounded-2xl border bg-white">
            <div class="p-6 border-b">
              <h3 class="text-lg font-semibold">나의 방화벽 신청 현황</h3>
            </div>
            <div class="p-6">
              <div class="space-y-3">
                <div class="flex items-center justify-between p-4 rounded-xl border border-yellow-200 bg-yellow-50">
                  <div class="flex items-center gap-3">
                    <div class="w-10 h-10 rounded-lg bg-yellow-100 flex items-center justify-center">
                      <i data-lucide="clock" class="w-5 h-5 text-yellow-600"></i>
                    </div>
                    <div>
                      <div class="font-medium">메가스터디 접근 신청</div>
                      <div class="text-sm text-gray-600">강남점 A-15</div>
                      <div class="text-xs text-gray-500">2025-01-20 14:30 신청</div>
                    </div>
                  </div>
                  <div class="flex items-center gap-2">
                    <span class="px-3 py-1 text-xs rounded-full bg-yellow-100 text-yellow-800">검토중</span>
                    <button class="px-3 py-1 text-xs rounded-lg border border-gray-300 text-gray-600 hover:bg-gray-50">상세보기</button>
                  </div>
                </div>

                <div class="flex items-center justify-between p-4 rounded-xl border border-green-200 bg-green-50">
                  <div class="flex items-center gap-3">
                    <div class="w-10 h-10 rounded-lg bg-green-100 flex items-center justify-center">
                      <i data-lucide="check-circle" class="w-5 h-5 text-green-600"></i>
                    </div>
                    <div>
                      <div class="font-medium">칸아카데미 접근 신청</div>
                      <div class="text-sm text-gray-600">홍대점 B-23</div>
                      <div class="text-xs text-gray-500">2025-01-18 16:00 신청</div>
                    </div>
                  </div>
                  <div class="flex items-center gap-2">
                    <span class="px-3 py-1 text-xs rounded-full bg-green-100 text-green-800">승인됨</span>
                    <button class="px-3 py-1 text-xs rounded-lg border border-gray-300 text-gray-600 hover:bg-gray-50">상세보기</button>
                  </div>
                </div>

                <div class="flex items-center justify-between p-4 rounded-xl border border-red-200 bg-red-50">
                  <div class="flex items-center gap-3">
                    <div class="w-10 h-10 rounded-lg bg-red-100 flex items-center justify-center">
                      <i data-lucide="x-circle" class="w-5 h-5 text-red-600"></i>
                    </div>
                    <div>
                      <div class="font-medium">유튜브 접근 신청</div>
                      <div class="text-sm text-gray-600">신촌점 C-12</div>
                      <div class="text-xs text-gray-500">2025-01-15 10:30 신청</div>
                    </div>
                  </div>
                  <div class="flex items-center gap-2">
                    <span class="px-3 py-1 text-xs rounded-full bg-red-100 text-red-800">거부됨</span>
                    <button class="px-3 py-1 text-xs rounded-lg border border-gray-300 text-gray-600 hover:bg-gray-50">상세보기</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        `;
      } else if (id === 'consult-inbox') {
        content = `
        <div class="h-screen bg-gray-50">
          <!-- 인스타그램 스타일 헤더 -->
          <div class="bg-white border-b border-gray-200 px-4 py-3">
            <div class="flex items-center justify-between">
              <h1 class="text-lg font-semibold">Direct</h1>
              <div class="flex items-center gap-3">
                <button class="p-2 hover:bg-gray-100 rounded-full">
                  <i data-lucide="video" class="w-5 h-5"></i>
                </button>
                <button class="p-2 hover:bg-gray-100 rounded-full">
                  <i data-lucide="edit" class="w-5 h-5"></i>
                </button>
              </div>
            </div>
          </div>

          <div class="flex h-[calc(100vh-73px)]">
            <!-- 좌측 대화 목록 -->
            <div class="w-1/3 border-r border-gray-200 bg-white">
              <!-- 검색바 -->
              <div class="p-4 border-b border-gray-100">
                <div class="relative">
                  <input type="text" placeholder="검색..." class="w-full bg-gray-100 rounded-lg px-4 py-2 pl-10 text-sm focus:outline-none focus:bg-white focus:ring-1 focus:ring-blue-500" />
                  <i data-lucide="search" class="w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                </div>
              </div>

              <!-- 대화 목록 -->
              <div class="overflow-y-auto">
                <!-- 나에게 대화 (메모) -->
                <div class="flex items-center gap-3 p-4 hover:bg-gray-50 cursor-pointer border-b border-gray-100">
                  <div class="w-12 h-12 rounded-full bg-gradient-to-tr from-yellow-400 to-orange-500 flex items-center justify-center">
                    <i data-lucide="sticky-note" class="w-6 h-6 text-white"></i>
                  </div>
                  <div class="flex-1 min-w-0">
                    <div class="flex items-center justify-between">
                      <h3 class="font-medium text-sm">나에게 대화</h3>
                      <span class="text-xs text-gray-400">방금 전</span>
                    </div>
                    <p class="text-sm text-gray-500 truncate">메모 및 개인 노트</p>
                  </div>
                </div>

                <!-- SNarGPT -->
                <div class="flex items-center gap-3 p-4 hover:bg-gray-50 cursor-pointer border-b border-gray-100 bg-blue-50">
                  <div class="w-12 h-12 rounded-full bg-gradient-to-tr from-purple-500 to-pink-500 flex items-center justify-center relative">
                    <i data-lucide="bot" class="w-6 h-6 text-white"></i>
                    <div class="absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 rounded-full border-2 border-white"></div>
                  </div>
                  <div class="flex-1 min-w-0">
                    <div class="flex items-center justify-between">
                      <h3 class="font-medium text-sm">SNarGPT</h3>
                      <span class="text-xs text-gray-400">2분 전</span>
                    </div>
                    <p class="text-sm text-gray-500 truncate">수학 미적분 문제가 어려워요...</p>
                  </div>
                  <div class="w-2 h-2 bg-blue-500 rounded-full"></div>
                </div>

                <!-- 선생님들 -->
                <div class="flex items-center gap-3 p-4 hover:bg-gray-50 cursor-pointer border-b border-gray-100">
                  <div class="w-12 h-12 rounded-full bg-gradient-to-tr from-blue-400 to-blue-600 flex items-center justify-center">
                    <i data-lucide="user" class="w-6 h-6 text-white"></i>
                  </div>
                  <div class="flex-1 min-w-0">
                    <div class="flex items-center justify-between">
                      <h3 class="font-medium text-sm">김영희 선생님</h3>
                      <span class="text-xs text-gray-400">2시간 전</span>
                    </div>
                    <p class="text-sm text-gray-500 truncate">학습 계획에 대해 상담해보자</p>
                  </div>
                </div>

                <div class="flex items-center gap-3 p-4 hover:bg-gray-50 cursor-pointer border-b border-gray-100">
                  <div class="w-12 h-12 rounded-full bg-gradient-to-tr from-green-400 to-green-600 flex items-center justify-center">
                    <i data-lucide="user" class="w-6 h-6 text-white"></i>
                  </div>
                  <div class="flex-1 min-w-0">
                    <div class="flex items-center justify-between">
                      <h3 class="font-medium text-sm">홍길동 선생님</h3>
                      <span class="text-xs text-gray-400">1일 전</span>
                    </div>
                    <p class="text-sm text-gray-500 truncate">수학 문제 해결 방법</p>
                  </div>
                </div>

                <div class="flex items-center gap-3 p-4 hover:bg-gray-50 cursor-pointer border-b border-gray-100">
                  <div class="w-12 h-12 rounded-full bg-gradient-to-tr from-orange-400 to-orange-600 flex items-center justify-center">
                    <i data-lucide="user" class="w-6 h-6 text-white"></i>
                  </div>
                  <div class="flex-1 min-w-0">
                    <div class="flex items-center justify-between">
                      <h3 class="font-medium text-sm">정수진 선생님</h3>
                      <span class="text-xs text-gray-400">3일 전</span>
                    </div>
                    <p class="text-sm text-gray-500 truncate">국어 독해 전략</p>
                  </div>
                </div>

                <div class="flex items-center gap-3 p-4 hover:bg-gray-50 cursor-pointer border-b border-gray-100">
                  <div class="w-12 h-12 rounded-full bg-gradient-to-tr from-cyan-400 to-cyan-600 flex items-center justify-center">
                    <i data-lucide="user" class="w-6 h-6 text-white"></i>
                  </div>
                  <div class="flex-1 min-w-0">
                    <div class="flex items-center justify-between">
                      <h3 class="font-medium text-sm">Sarah Johnson</h3>
                      <span class="text-xs text-gray-400">1주 전</span>
                    </div>
                    <p class="text-sm text-gray-500 truncate">영어 문법 질문</p>
                  </div>
                </div>
              </div>
            </div>

            <!-- 우측 채팅 화면 -->
            <div class="flex-1 flex flex-col">
              <!-- 채팅 헤더 -->
              <div class="bg-white border-b border-gray-200 px-4 py-3">
                <div class="flex items-center gap-3">
                  <div class="w-10 h-10 rounded-full bg-gradient-to-tr from-purple-500 to-pink-500 flex items-center justify-center">
                    <i data-lucide="bot" class="w-5 h-5 text-white"></i>
                  </div>
                  <div>
                    <h3 class="font-medium">SNarGPT</h3>
                    <p class="text-sm text-gray-500">AI 학습 도우미</p>
                  </div>
                  <div class="ml-auto flex items-center gap-2">
                    <div class="w-2 h-2 bg-green-500 rounded-full"></div>
                    <span class="text-xs text-gray-500">온라인</span>
                  </div>
                </div>
              </div>

              <!-- 메시지 영역 -->
              <div class="flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50">
                <!-- AI 메시지 -->
                <div class="flex items-start gap-3">
                  <div class="w-8 h-8 rounded-full bg-gradient-to-tr from-purple-500 to-pink-500 flex items-center justify-center flex-shrink-0">
                    <i data-lucide="bot" class="w-4 h-4 text-white"></i>
                  </div>
                  <div class="bg-white rounded-2xl rounded-tl-sm px-4 py-2 max-w-[70%] shadow-sm">
                    <p class="text-sm">안녕하세요! SNarGPT입니다. 학습에 도움이 필요한 것이 있으시면 언제든지 질문해 주세요. 수학, 국어, 영어, 과학 등 모든 과목에 대해 도움을 드릴 수 있습니다.</p>
                    <div class="text-xs text-gray-400 mt-1">오전 9:30</div>
                  </div>
                </div>

                <!-- 사용자 메시지 -->
                <div class="flex items-start gap-3 justify-end">
                  <div class="bg-blue-500 text-white rounded-2xl rounded-tr-sm px-4 py-2 max-w-[70%]">
                    <p class="text-sm">수학 미적분 문제가 어려워요. 함수의 극한을 구하는 방법을 알려주세요.</p>
                    <div class="text-xs text-blue-100 mt-1">오전 9:32</div>
                  </div>
                  <div class="w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center flex-shrink-0">
                    <i data-lucide="user" class="w-4 h-4 text-white"></i>
                  </div>
                </div>

                <!-- AI 응답 -->
                <div class="flex items-start gap-3">
                  <div class="w-8 h-8 rounded-full bg-gradient-to-tr from-purple-500 to-pink-500 flex items-center justify-center flex-shrink-0">
                    <i data-lucide="bot" class="w-4 h-4 text-white"></i>
                  </div>
                  <div class="bg-white rounded-2xl rounded-tl-sm px-4 py-2 max-w-[70%] shadow-sm">
                    <p class="text-sm">함수의 극한을 구하는 방법을 단계별로 설명해드릴게요!</p>
                    <div class="mt-2 space-y-1">
                      <p class="text-sm"><strong>1단계:</strong> 직접 대입법을 먼저 시도해보세요.</p>
                      <p class="text-sm"><strong>2단계:</strong> 0/0 꼴이 나오면 인수분해나 유리화를 사용하세요.</p>
                      <p class="text-sm"><strong>3단계:</strong> 무한대/무한대 꼴이면 최고차항으로 나누세요.</p>
                    </div>
                    <div class="text-xs text-gray-400 mt-1">오전 9:33</div>
                  </div>
                </div>

                <!-- 사용자 메시지 -->
                <div class="flex items-start gap-3 justify-end">
                  <div class="bg-blue-500 text-white rounded-2xl rounded-tr-sm px-4 py-2 max-w-[70%]">
                    <p class="text-sm">감사합니다! 예제 문제도 풀어볼 수 있을까요?</p>
                    <div class="text-xs text-blue-100 mt-1">오전 9:35</div>
                  </div>
                  <div class="w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center flex-shrink-0">
                    <i data-lucide="user" class="w-4 h-4 text-white"></i>
                  </div>
                </div>
              </div>

              <!-- 메시지 입력 -->
              <div class="bg-white border-t border-gray-200 p-4">
                <div class="flex items-center gap-3">
                  <button class="p-2 hover:bg-gray-100 rounded-full">
                    <i data-lucide="smile" class="w-5 h-5 text-gray-500"></i>
                  </button>
                  <div class="flex-1 relative">
                    <input type="text" placeholder="메시지 보내기..." class="w-full bg-gray-100 rounded-full px-4 py-2 pr-12 text-sm focus:outline-none focus:bg-white focus:ring-1 focus:ring-blue-500" />
                    <button class="absolute right-2 top-1/2 transform -translate-y-1/2 p-1">
                      <i data-lucide="camera" class="w-4 h-4 text-gray-500"></i>
                    </button>
                  </div>
                  <button class="p-2 bg-blue-500 text-white rounded-full hover:bg-blue-600">
                    <i data-lucide="send" class="w-4 h-4"></i>
                  </button>
                </div>
                <div class="mt-2 text-xs text-gray-500 text-center">
                  💡 SNarGPT는 100질문까지 무료입니다. 그 이후에는 캐시 충전이 필요합니다.
                </div>
              </div>
            </div>
          </div>
        </div>
        `;
      } else if (id === 'dorm-firewall-frespon') {
        content = `
        <div class="space-y-6">
          <div class="mb-2">
            <h2 class="text-xl font-semibold">방화벽/Frespon</h2>
            <p class="text-sm text-neutral-600">방화벽 해제 신청 또는 Frespon 망 이용권을 신청하세요</p>
          </div>

          <!-- 탭 선택 -->
          <div class="rounded-2xl border bg-white">
            <div class="p-6 border-b">
              <div class="flex space-x-1 bg-gray-100 p-1 rounded-lg">
                <button id="firewall-tab" class="flex-1 px-3 py-2 text-sm font-medium rounded-md bg-white text-gray-900 shadow-sm transition-all min-w-0">
                  <i data-lucide="shield" class="w-4 h-4 inline mr-2"></i>
                  <span class="hidden sm:inline">방화벽 신청</span>
                  <span class="sm:hidden">방화벽</span>
                </button>
                <button id="frespon-tab" class="flex-1 px-3 py-2 text-sm font-medium rounded-md text-gray-500 hover:text-gray-700 transition-all min-w-0">
                  <i data-lucide="ticket" class="w-4 h-4 inline mr-2"></i>
                  <span class="hidden sm:inline">Frespon 이용권</span>
                  <span class="sm:hidden">Frespon</span>
                </button>
              </div>
            </div>

            <!-- 방화벽 탭 내용 -->
            <div id="firewall-content" class="p-6">
              <div class="space-y-6">
                <!-- 방화벽 신청 폼 -->
                <div class="rounded-2xl border bg-white">
                  <div class="p-6 border-b bg-red-50">
                    <div class="flex items-center gap-3">
                      <div class="w-10 h-10 rounded-lg bg-red-100 flex items-center justify-center">
                        <i data-lucide="shield" class="w-5 h-5 text-red-600"></i>
                      </div>
                      <div>
                        <h3 class="text-lg font-semibold">방화벽 해제 신청</h3>
                        <p class="text-sm text-neutral-600">특정 사이트나 서비스에 대한 방화벽 해제를 신청하세요</p>
                      </div>
                    </div>
                  </div>
                  <form class="p-6 space-y-4">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                      <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">신청자 정보</label>
                        <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500" value="홍길동" readonly>
                      </div>
                      <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">학년/반</label>
                        <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500" value="3학년 1반" readonly>
                      </div>
                    </div>
                    
                    <div>
                      <label class="block text-sm font-medium text-gray-700 mb-2">신청 사유</label>
                      <select class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500">
                        <option value="">신청 사유를 선택하세요</option>
                        <option value="study">학습 목적</option>
                        <option value="research">연구 목적</option>
                        <option value="project">프로젝트 작업</option>
                        <option value="other">기타</option>
                      </select>
                    </div>
                    
                    <div>
                      <label class="block text-sm font-medium text-gray-700 mb-2">해제 요청 사이트/서비스</label>
                      <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500" placeholder="예: github.com, stackoverflow.com">
                    </div>
                    
                    <div>
                      <label class="block text-sm font-medium text-gray-700 mb-2">사용 목적</label>
                      <textarea class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500" rows="3" placeholder="구체적인 사용 목적을 입력해 주세요"></textarea>
                    </div>
                    
                    <div>
                      <label class="block text-sm font-medium text-gray-700 mb-2">사용 기간</label>
                      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                          <label class="block text-xs text-gray-600 mb-1">시작 날짜</label>
                          <input type="date" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500">
                        </div>
                        <div>
                          <label class="block text-xs text-gray-600 mb-1">종료 날짜</label>
                          <input type="date" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500">
                        </div>
                      </div>
                    </div>
                    
                    <div class="flex justify-end">
                      <button type="submit" class="px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 focus:ring-2 focus:ring-red-500 focus:ring-offset-2">
                        <i data-lucide="shield-check" class="w-4 h-4 inline mr-2"></i>
                        신청하기
                      </button>
                    </div>
                  </form>
                </div>
              </div>
            </div>
            
            <!-- Frespon 탭 내용 -->
            <div id="frespon-content" class="p-6 hidden">
              <div class="space-y-6">
                <!-- Frespon 이용권 신청 폼 -->
                <div class="rounded-2xl border bg-white">
                  <div class="p-6 border-b bg-blue-50">
                    <div class="flex items-center gap-3">
                      <div class="w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center">
                        <i data-lucide="ticket" class="w-5 h-5 text-blue-600"></i>
                      </div>
                      <div>
                        <h3 class="text-lg font-semibold">Frespon 망 이용권 신청</h3>
                        <p class="text-sm text-neutral-600">Frespon 네트워크 이용권을 신청하세요</p>
                      </div>
                    </div>
                  </div>
                  <form class="p-6 space-y-4">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                      <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">신청자 정보</label>
                        <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" value="홍길동" readonly>
                      </div>
                      <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">학년/반</label>
                        <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" value="3학년 1반" readonly>
                      </div>
                    </div>
                    
                    <div>
                      <label class="block text-sm font-medium text-gray-700 mb-2">이용권 종류</label>
                      <select class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                        <option value="">이용권 종류를 선택하세요</option>
                        <option value="daily">일일 이용권</option>
                        <option value="weekly">주간 이용권</option>
                        <option value="monthly">월간 이용권</option>
                      </select>
                    </div>
                    
                    <div>
                      <label class="block text-sm font-medium text-gray-700 mb-2">사용 목적</label>
                      <textarea class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" rows="3" placeholder="Frespon 네트워크 사용 목적을 입력해 주세요"></textarea>
                    </div>
                    
                    <div>
                      <label class="block text-sm font-medium text-gray-700 mb-2">신청 기간</label>
                      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                          <label class="block text-xs text-gray-600 mb-1">시작 날짜</label>
                          <input type="date" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                        </div>
                        <div>
                          <label class="block text-xs text-gray-600 mb-1">종료 날짜</label>
                          <input type="date" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                        </div>
                      </div>
                    </div>
                    
                    <div class="flex justify-end">
                      <button type="submit" class="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2">
                        <i data-lucide="ticket" class="w-4 h-4 inline mr-2"></i>
                        신청하기
                      </button>
                    </div>
                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>
        `;
      } else {
        content = `
        <div class="space-y-6">
          <div class="mb-2"><h2 class="text-xl font-semibold">${title}</h2></div>
          <div class="rounded-2xl border bg-white p-6 text-sm text-neutral-600">${desc}</div>
        </div>
        `;
      }
      
      sec.innerHTML = content;
      appMain.appendChild(sec);
    };
    const flat = NAV.flatMap(g => g.items.map(it => ({ id: it.id, title: it.label })));
    flat.forEach(x => makeSection(x.id, x.title));
  })();

  // 식사 신청 모달 관련 변수
  let currentMealData = {};

  // 식사 신청 모달 열기
  function openMealModal(type, name, price) {
    currentMealData = { type, name, price };
    
    document.getElementById('mealModalTitle').textContent = `${type} 식사 신청`;
    document.getElementById('mealName').textContent = name;
    document.getElementById('mealType').textContent = type;
    document.getElementById('mealPrice').textContent = `₩${price.toLocaleString()}`;
    
    // 잔액 계산 (현재 잔액 25,000원에서 차감)
    const remainingBalance = 25000 - price;
    document.getElementById('remainingBalance').textContent = `₩${remainingBalance.toLocaleString()}`;
    
    // 체크박스 초기화
    document.getElementById('mealAgreement').checked = false;
    document.getElementById('submitMealBtn').disabled = true;
    
    document.getElementById('mealModal').classList.remove('hidden');
    setTimeout(() => lucide.createIcons(), 100);
  }

  // 식사 신청 모달 닫기
  function closeMealModal() {
    document.getElementById('mealModal').classList.add('hidden');
  }

  // 식사 신청 제출
  function submitMealOrder() {
    if (!document.getElementById('mealAgreement').checked) {
      alert('식사 신청에 동의해주세요.');
      return;
    }

    // 신청 처리 (실제로는 서버에 전송)
    alert(`${currentMealData.type} ${currentMealData.name} 신청이 완료되었습니다!`);
    closeMealModal();
    
    // 페이지 새로고침으로 신청 현황 업데이트 (실제로는 AJAX로 처리)
    // location.reload();
  }

  // 체크박스 변경 시 버튼 활성화/비활성화
  document.addEventListener('DOMContentLoaded', function() {
    const agreementCheckbox = document.getElementById('mealAgreement');
    const submitBtn = document.getElementById('submitMealBtn');
    
    if (agreementCheckbox && submitBtn) {
      agreementCheckbox.addEventListener('change', function() {
        submitBtn.disabled = !this.checked;
      });
    }
  });

  // 민원 분류에 따른 유형 업데이트
  function updateComplaintTypes() {
    const category = document.getElementById('complaint-category');
    const typeSelect = document.getElementById('complaint-type');
    
    // 기존 옵션 제거
    typeSelect.innerHTML = '<option value="">먼저 분류를 선택하세요</option>';
    
    if (category.value === 'facility') {
      // 시설 민원 유형
      const facilityTypes = [
        { value: 'electric', text: '전기 시설' },
        { value: 'plumbing', text: '배관 시설' },
        { value: 'heating', text: '난방/냉방 시설' },
        { value: 'furniture', text: '가구/비품' },
        { value: 'door', text: '문/창문' },
        { value: 'floor', text: '바닥/벽' },
        { value: 'lighting', text: '조명 시설' },
        { value: 'toilet', text: '화장실' },
        { value: 'elevator', text: '엘리베이터' },
        { value: 'security', text: '보안 시설' },
        { value: 'other', text: '기타' }
      ];
      
      facilityTypes.forEach(type => {
        const option = document.createElement('option');
        option.value = type.value;
        option.textContent = type.text;
        typeSelect.appendChild(option);
      });
    } else if (category.value === 'life') {
      // 생활 민원 유형
      const lifeTypes = [
        { value: 'noise', text: '소음 민원' },
        { value: 'meal', text: '식사 관련' },
        { value: 'dormitory', text: '기숙사 생활' },
        { value: 'study', text: '학습 환경' },
        { value: 'safety', text: '안전 관련' },
        { value: 'hygiene', text: '위생 관련' },
        { value: 'discipline', text: '기숙사 규칙' },
        { value: 'roommate', text: '룸메이트 문제' },
        { value: 'staff', text: '직원 관련' },
        { value: 'other', text: '기타' }
      ];
      
      lifeTypes.forEach(type => {
        const option = document.createElement('option');
        option.value = type.value;
        option.textContent = type.text;
        typeSelect.appendChild(option);
      });
    }
  }

  // 지점에 따른 위치 업데이트
  function updateLocations() {
    const branch = document.getElementById('branch-select');
    const locationSelect = document.getElementById('location-select');
    
    // 기존 옵션 제거
    locationSelect.innerHTML = '<option value="">먼저 지점을 선택하세요</option>';
    
    const locations = {
      'gangnam': [
        { value: 'main-1f', text: '본관 1층' },
        { value: 'main-2f', text: '본관 2층' },
        { value: 'main-3f', text: '본관 3층' },
        { value: 'main-4f', text: '본관 4층' },
        { value: 'annex-1f', text: '별관 1층' },
        { value: 'annex-2f', text: '별관 2층' },
        { value: 'dormitory', text: '기숙사' },
        { value: 'cafeteria', text: '식당' },
        { value: 'library', text: '도서관' },
        { value: 'gym', text: '체육관' },
        { value: 'parking', text: '주차장' },
        { value: 'outdoor', text: '야외 시설' }
      ],
      'seoul': [
        { value: 'main-1f', text: '본관 1층' },
        { value: 'main-2f', text: '본관 2층' },
        { value: 'main-3f', text: '본관 3층' },
        { value: 'dormitory', text: '기숙사' },
        { value: 'cafeteria', text: '식당' },
        { value: 'library', text: '도서관' },
        { value: 'gym', text: '체육관' },
        { value: 'parking', text: '주차장' }
      ],
      'busan': [
        { value: 'main-1f', text: '본관 1층' },
        { value: 'main-2f', text: '본관 2층' },
        { value: 'main-3f', text: '본관 3층' },
        { value: 'dormitory', text: '기숙사' },
        { value: 'cafeteria', text: '식당' },
        { value: 'library', text: '도서관' },
        { value: 'parking', text: '주차장' }
      ],
      'daegu': [
        { value: 'main-1f', text: '본관 1층' },
        { value: 'main-2f', text: '본관 2층' },
        { value: 'main-3f', text: '본관 3층' },
        { value: 'dormitory', text: '기숙사' },
        { value: 'cafeteria', text: '식당' },
        { value: 'library', text: '도서관' },
        { value: 'parking', text: '주차장' }
      ],
      'incheon': [
        { value: 'main-1f', text: '본관 1층' },
        { value: 'main-2f', text: '본관 2층' },
        { value: 'main-3f', text: '본관 3층' },
        { value: 'dormitory', text: '기숙사' },
        { value: 'cafeteria', text: '식당' },
        { value: 'library', text: '도서관' },
        { value: 'parking', text: '주차장' }
      ],
      'gwangju': [
        { value: 'main-1f', text: '본관 1층' },
        { value: 'main-2f', text: '본관 2층' },
        { value: 'main-3f', text: '본관 3층' },
        { value: 'dormitory', text: '기숙사' },
        { value: 'cafeteria', text: '식당' },
        { value: 'library', text: '도서관' },
        { value: 'parking', text: '주차장' }
      ],
      'daejeon': [
        { value: 'main-1f', text: '본관 1층' },
        { value: 'main-2f', text: '본관 2층' },
        { value: 'main-3f', text: '본관 3층' },
        { value: 'dormitory', text: '기숙사' },
        { value: 'cafeteria', text: '식당' },
        { value: 'library', text: '도서관' },
        { value: 'parking', text: '주차장' }
      ],
      'ulsan': [
        { value: 'main-1f', text: '본관 1층' },
        { value: 'main-2f', text: '본관 2층' },
        { value: 'main-3f', text: '본관 3층' },
        { value: 'dormitory', text: '기숙사' },
        { value: 'cafeteria', text: '식당' },
        { value: 'library', text: '도서관' },
        { value: 'parking', text: '주차장' }
      ]
    };
    
    if (branch.value && locations[branch.value]) {
      locations[branch.value].forEach(location => {
        const option = document.createElement('option');
        option.value = location.value;
        option.textContent = location.text;
        locationSelect.appendChild(option);
      });
    }
  }

  // Frespon 이용권 신청
  function submitFresponRequest() {
    const duration = document.getElementById('frespon-duration');
    if (!duration.value) {
      alert('이용 시간을 선택해주세요.');
      return;
    }
    
    alert(`${duration.value}분 이용권 신청이 완료되었습니다!\n선생님 승인 후 암호키를 받을 수 있습니다.`);
  }

  // Frespon 암호키 모달 표시
  function showFresponKey(keyId, duration, useTime) {
    document.getElementById('fresponKeyModal').classList.remove('hidden');
    document.getElementById('frespon-key-id').textContent = keyId;
    document.getElementById('frespon-key-duration').textContent = duration;
    document.getElementById('frespon-key-time').textContent = useTime;
    
    // 1회용 암호키 생성 (실제로는 서버에서 생성)
    const generatedKey = generateFresponKey();
    document.getElementById('frespon-key-value').textContent = generatedKey;
    
    setTimeout(() => lucide.createIcons(), 100);
  }

  // Frespon 암호키 모달 닫기
  function closeFresponKeyModal() {
    document.getElementById('fresponKeyModal').classList.add('hidden');
  }

  // 1회용 암호키 생성
  function generateFresponKey() {
    const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
    let result = 'FR';
    for (let i = 0; i < 12; i++) {
      result += chars.charAt(Math.floor(Math.random() * chars.length));
    }
    return result;
  }

  // 암호키 복사
  function copyFresponKey() {
    const keyValue = document.getElementById('frespon-key-value').textContent;
    navigator.clipboard.writeText(keyValue).then(() => {
      alert('암호키가 복사되었습니다!');
    }).catch(() => {
      // 복사 실패 시 수동 선택
      const textArea = document.createElement('textarea');
      textArea.value = keyValue;
      document.body.appendChild(textArea);
      textArea.select();
      document.execCommand('copy');
      document.body.removeChild(textArea);
      alert('암호키가 복사되었습니다!');
    });
  }

  // 상담일지 탭 전환
  function switchConsultationTab(tabName) {
    // 상담일지 탭 버튼들만 명시적으로 선택
    const allTab = document.getElementById('consultation-tab-all');
    const koreanTab = document.getElementById('consultation-tab-korean');
    const mathTab = document.getElementById('consultation-tab-math');
    const englishTab = document.getElementById('consultation-tab-english');
    const inquiry1Tab = document.getElementById('consultation-tab-inquiry1');
    const inquiry2Tab = document.getElementById('consultation-tab-inquiry2');

    const allContent = document.getElementById('consultation-content-all');
    const koreanContent = document.getElementById('consultation-content-korean');
    const mathContent = document.getElementById('consultation-content-math');
    const englishContent = document.getElementById('consultation-content-english');
    const inquiry1Content = document.getElementById('consultation-content-inquiry1');
    const inquiry2Content = document.getElementById('consultation-content-inquiry2');

    // 모든 탭 버튼 비활성화
    const tabs = [allTab, koreanTab, mathTab, englishTab, inquiry1Tab, inquiry2Tab];
    tabs.forEach(tab => {
      if (tab) {
        tab.classList.remove('bg-white', 'text-gray-900', 'shadow-sm');
        tab.classList.add('text-gray-500', 'hover:text-gray-700');
      }
    });

    // 모든 탭 내용 숨기기
    const contents = [allContent, koreanContent, mathContent, englishContent, inquiry1Content, inquiry2Content];
    contents.forEach(content => {
      if (content) {
        content.classList.add('hidden');
      }
    });

    // 선택된 탭 활성화
    let selectedTab, selectedContent;
    
    switch(tabName) {
      case 'all':
        selectedTab = allTab;
        selectedContent = allContent;
        break;
      case 'korean':
        selectedTab = koreanTab;
        selectedContent = koreanContent;
        break;
      case 'math':
        selectedTab = mathTab;
        selectedContent = mathContent;
        break;
      case 'english':
        selectedTab = englishTab;
        selectedContent = englishContent;
        break;
      case 'inquiry1':
        selectedTab = inquiry1Tab;
        selectedContent = inquiry1Content;
        break;
      case 'inquiry2':
        selectedTab = inquiry2Tab;
        selectedContent = inquiry2Content;
        break;
    }
    
    if (selectedTab && selectedContent) {
      selectedTab.classList.remove('text-gray-500', 'hover:text-gray-700');
      selectedTab.classList.add('bg-white', 'text-gray-900', 'shadow-sm');
      selectedContent.classList.remove('hidden');
    }
  }



  // 장바구니 관련 변수
  let cart = [];
  let cartTotal = 0;

  // 콘텐츠 필터링
  function filterContent() {
    const subjectFilter = document.getElementById('subject-filter').value;
    const companyFilter = document.getElementById('company-filter').value;
    const contentCards = document.querySelectorAll('.content-card');

    contentCards.forEach(card => {
      const subject = card.getAttribute('data-subject');
      const company = card.getAttribute('data-company');
      
      let show = true;
      
      if (subjectFilter && subject !== subjectFilter) {
        show = false;
      }
      
      if (companyFilter && company !== companyFilter) {
        show = false;
      }
      
      card.style.display = show ? 'block' : 'none';
    });
  }

  // 수강 필터링
  function filterCourses() {
    const subjectFilter = document.getElementById('course-subject-filter').value;
    const periodFilter = document.getElementById('course-period-filter').value;
    const courseCards = document.querySelectorAll('.course-card');

    courseCards.forEach(card => {
      const subject = card.getAttribute('data-subject');
      const period = card.getAttribute('data-period');
      
      let show = true;
      
      if (subjectFilter && subject !== subjectFilter) {
        show = false;
      }
      
      if (periodFilter && period !== periodFilter) {
        show = false;
      }
      
      card.style.display = show ? 'block' : 'none';
    });
  }

  // 장바구니에 추가
  function addToCart(id, name, price) {
    const existingItem = cart.find(item => item.id === id);
    
    if (existingItem) {
      existingItem.quantity += 1;
    } else {
      cart.push({ id, name, price, quantity: 1 });
    }
    
    cartTotal += price;
    updateCartUI();
    alert(`${name}이(가) 장바구니에 추가되었습니다!`);
  }

  // 장바구니에서 제거
  function removeFromCart(id) {
    const item = cart.find(item => item.id === id);
    if (item) {
      cartTotal -= item.price * item.quantity;
      cart = cart.filter(item => item.id !== id);
      updateCartUI();
    }
  }

  // 장바구니 UI 업데이트
  function updateCartUI() {
    const cartCount = document.getElementById('cart-count');
    const cartItems = document.getElementById('cart-items');
    const cartTotalElement = document.getElementById('cart-total');
    
    if (cartCount) {
      cartCount.textContent = cart.length;
    }
    
    if (cartItems) {
      cartItems.innerHTML = cart.map(item => `
        <div class="flex items-center justify-between p-3 border-b border-gray-200">
          <div class="flex-1">
            <div class="font-medium text-sm">${item.name}</div>
            <div class="text-xs text-gray-600">₩${item.price.toLocaleString()} × ${item.quantity}</div>
          </div>
          <div class="flex items-center gap-2">
            <span class="text-sm font-semibold">₩${(item.price * item.quantity).toLocaleString()}</span>
            <button onclick="removeFromCart('${item.id}')" class="text-red-500 hover:text-red-700">
              <i data-lucide="trash-2" class="w-4 h-4"></i>
            </button>
          </div>
        </div>
      `).join('');
    }
    
    if (cartTotalElement) {
      cartTotalElement.textContent = `₩${cartTotal.toLocaleString()}`;
    }
  }

  // 장바구니 모달 열기
  function openCartModal() {
    document.getElementById('cartModal').classList.remove('hidden');
    updateCartUI();
    setTimeout(() => lucide.createIcons(), 100);
  }

  // 장바구니 모달 닫기
  function closeCartModal() {
    document.getElementById('cartModal').classList.add('hidden');
  }

  // 바로 구매
  function buyNow(id, name, price) {
    if (confirm(`${name}을(를) 바로 구매하시겠습니까?\n가격: ₩${price.toLocaleString()}`)) {
      alert('구매가 완료되었습니다!');
    }
  }

  // 장바구니에서 구매
  function buyFromCart() {
    if (cart.length === 0) {
      alert('장바구니가 비어있습니다.');
      return;
    }
    
    if (confirm(`총 ${cart.length}개 상품을 구매하시겠습니까?\n총 금액: ₩${cartTotal.toLocaleString()}`)) {
      alert('구매가 완료되었습니다!');
      cart = [];
      cartTotal = 0;
      updateCartUI();
      closeCartModal();
    }
  }

  // SNarMoney 충전 관련 변수
  let selectedAmount = 0;
  let selectedPaymentMethod = '';

  // 충전 금액 선택
  function selectAmount(amount) {
    selectedAmount = amount;
    
    // 모든 버튼에서 선택 상태 제거
    document.querySelectorAll('.amount-btn').forEach(btn => {
      btn.classList.remove('border-blue-500', 'bg-blue-50');
      btn.classList.add('border-gray-200');
    });
    
    // 선택된 버튼에 선택 상태 추가
    event.target.closest('.amount-btn').classList.add('border-blue-500', 'bg-blue-50');
    event.target.closest('.amount-btn').classList.remove('border-gray-200');
    
    updatePaymentInfo();
  }

  // 결제 정보 업데이트
  function updatePaymentInfo() {
    const paymentMethod = document.querySelector('input[name="payment-method"]:checked');
    
    if (!selectedAmount || !paymentMethod) {
      document.getElementById('payment-info').classList.add('hidden');
      return;
    }
    
    selectedPaymentMethod = paymentMethod.value;
    
    const chargeAmount = selectedAmount;
    const feeAmount = paymentMethod.value === 'card' ? Math.floor(selectedAmount * 0.1) : 0;
    const totalAmount = chargeAmount + feeAmount;
    
    document.getElementById('charge-amount').textContent = `₩${chargeAmount.toLocaleString()}`;
    document.getElementById('fee-amount').textContent = `₩${feeAmount.toLocaleString()}`;
    document.getElementById('total-amount').textContent = `₩${totalAmount.toLocaleString()}`;
    
    document.getElementById('payment-info').classList.remove('hidden');
  }

  // 결제 초기화
  function resetPayment() {
    selectedAmount = 0;
    selectedPaymentMethod = '';
    
    // 모든 버튼에서 선택 상태 제거
    document.querySelectorAll('.amount-btn').forEach(btn => {
      btn.classList.remove('border-blue-500', 'bg-blue-50');
      btn.classList.add('border-gray-200');
    });
    
    // 라디오 버튼 초기화
    document.querySelectorAll('input[name="payment-method"]').forEach(radio => {
      radio.checked = false;
    });
    
    document.getElementById('payment-info').classList.add('hidden');
  }

  // 결제 처리
  function processPayment() {
    if (!selectedAmount || !selectedPaymentMethod) {
      alert('충전 금액과 결제 방법을 선택해주세요.');
      return;
    }
    
    const chargeAmount = selectedAmount;
    const feeAmount = selectedPaymentMethod === 'card' ? Math.floor(selectedAmount * 0.1) : 0;
    const totalAmount = chargeAmount + feeAmount;
    
    let message = `충전 금액: ₩${chargeAmount.toLocaleString()}\n`;
    if (feeAmount > 0) {
      message += `수수료: ₩${feeAmount.toLocaleString()}\n`;
    }
    message += `총 결제 금액: ₩${totalAmount.toLocaleString()}\n\n`;
    
    if (selectedPaymentMethod === 'card') {
      message += '카드 결제를 진행하시겠습니까?\n(10% 수수료가 추가됩니다)';
    } else {
      message += '현금 결제를 진행하시겠습니까?\n(수수료 없이 선택한 금액 그대로 충전됩니다)';
    }
    
    if (confirm(message)) {
      if (selectedPaymentMethod === 'card') {
        alert('카드 결제가 완료되었습니다!\n충전 금액이 추가되었습니다.');
      } else {
        alert('현금 결제가 완료되었습니다!\n충전 금액이 추가되었습니다.');
      }
      
      // 결제 완료 후 초기화
      resetPayment();
    }
  }

  // 영수증 필터링
  function filterReceipts() {
    const categoryFilter = document.getElementById('receipt-category-filter').value;
    const periodFilter = document.getElementById('receipt-period-filter').value;
    const amountFilter = document.getElementById('receipt-amount-filter').value;
    const receiptItems = document.querySelectorAll('.receipt-item');

    receiptItems.forEach(item => {
      const category = item.getAttribute('data-category');
      const amount = parseInt(item.getAttribute('data-amount'));
      const date = item.getAttribute('data-date');
      
      let show = true;
      
      // 카테고리 필터
      if (categoryFilter && category !== categoryFilter) {
        show = false;
      }
      
      // 금액 필터
      if (amountFilter) {
        const [min, max] = amountFilter.split('-');
        if (max === undefined) {
          // 500000+ 케이스
          if (amount < 500000) show = false;
        } else {
          const minAmount = parseInt(min);
          const maxAmount = parseInt(max);
          if (amount < minAmount || amount >= maxAmount) show = false;
        }
      }
      
      // 기간 필터 (간단한 구현)
      if (periodFilter) {
        const itemDate = new Date(date);
        const now = new Date();
        
        switch (periodFilter) {
          case 'this-month':
            if (itemDate.getMonth() !== now.getMonth() || itemDate.getFullYear() !== now.getFullYear()) {
              show = false;
            }
            break;
          case 'last-month':
            const lastMonth = new Date(now.getFullYear(), now.getMonth() - 1);
            if (itemDate.getMonth() !== lastMonth.getMonth() || itemDate.getFullYear() !== lastMonth.getFullYear()) {
              show = false;
            }
            break;
          case 'last-3months':
            const threeMonthsAgo = new Date(now.getFullYear(), now.getMonth() - 3);
            if (itemDate < threeMonthsAgo) show = false;
            break;
          case 'last-6months':
            const sixMonthsAgo = new Date(now.getFullYear(), now.getMonth() - 6);
            if (itemDate < sixMonthsAgo) show = false;
            break;
          case 'this-year':
            if (itemDate.getFullYear() !== now.getFullYear()) show = false;
            break;
        }
      }
      
      item.style.display = show ? 'flex' : 'none';
    });
  }

  // 영수증 다운로드
  function downloadReceipts(format) {
    if (format === 'pdf') {
      alert('PDF 다운로드 기능은 준비 중입니다.\n현재는 화면 캡처를 이용해주세요.');
    } else if (format === 'excel') {
      alert('Excel 다운로드 기능은 준비 중입니다.\n현재는 화면 캡처를 이용해주세요.');
    }
  }

  // 개인정보 저장
  function saveProfile() {
    const phone = document.querySelector('input[type="tel"]').value;
    const email = document.querySelector('input[type="email"]').value;
    const address = document.querySelector('input[placeholder="주소를 입력하세요"]').value;
    const branch = document.querySelector('select').value;
    const classInfo = document.querySelectorAll('select')[1].value;

    if (!phone || !email) {
      alert('전화번호와 이메일은 필수 입력 항목입니다.');
      return;
    }

    if (confirm('개인정보를 저장하시겠습니까?')) {
      alert('개인정보가 성공적으로 저장되었습니다!');
    }
  }

  // 비밀번호 변경
  function changePassword() {
    const currentPassword = document.querySelector('input[placeholder="현재 비밀번호를 입력하세요"]').value;
    const newPassword = document.querySelector('input[placeholder="새 비밀번호를 입력하세요"]').value;
    const confirmPassword = document.querySelector('input[placeholder="새 비밀번호를 다시 입력하세요"]').value;

    if (!currentPassword || !newPassword || !confirmPassword) {
      alert('모든 비밀번호 필드를 입력해주세요.');
      return;
    }

    if (newPassword !== confirmPassword) {
      alert('새 비밀번호와 확인 비밀번호가 일치하지 않습니다.');
      return;
    }

    if (newPassword.length < 8) {
      alert('비밀번호는 8자 이상이어야 합니다.');
      return;
    }

    if (confirm('비밀번호를 변경하시겠습니까?')) {
      alert('비밀번호가 성공적으로 변경되었습니다!');
      // 비밀번호 필드 초기화
      document.querySelectorAll('input[type="password"]').forEach(input => input.value = '');
    }
  }

  // 알림 설정 저장
  function saveNotificationSettings() {
    const startTime = document.querySelector('input[type="time"]').value;
    const endTime = document.querySelectorAll('input[type="time"]')[1].value;

    if (startTime >= endTime) {
      alert('시작 시간은 종료 시간보다 빨라야 합니다.');
      return;
    }

    if (confirm('알림 설정을 저장하시겠습니까?')) {
      alert('알림 설정이 성공적으로 저장되었습니다!');
    }
  }

  // 로그아웃
  function logout() {
    if (confirm('정말 로그아웃하시겠습니까?')) {
      alert('로그아웃되었습니다.');
      // 실제로는 로그아웃 처리 로직이 들어갑니다
    }
  }

  // 계정 삭제
  function deleteAccount() {
    const confirmation = prompt('계정 삭제를 확인하기 위해 "DELETE"를 입력하세요:');
    
    if (confirmation !== 'DELETE') {
      alert('잘못된 입력입니다. 계정 삭제가 취소되었습니다.');
      return;
    }

    if (confirm('정말로 계정을 삭제하시겠습니까?\n이 작업은 되돌릴 수 없습니다.')) {
      alert('계정이 삭제되었습니다.');
      // 실제로는 계정 삭제 처리 로직이 들어갑니다
    }
  }

  // 성적/리포트 관련 변수
  let selectedSubject = '';
  const scoreData = {
    math: [78, 82, 85, 88, 91, 89, 93, 95, 92, 90],
    korean: [72, 75, 78, 80, 82, 85, 87, 88, 86, 84],
    english: [80, 83, 85, 87, 89, 91, 92, 90, 88, 86],
    science: [76, 79, 82, 84, 86, 88, 90, 89, 87, 85],
    social: [74, 77, 80, 82, 84, 86, 87, 85, 83, 81]
  };

  // 과목 선택
  function selectSubject(subject) {
    selectedSubject = subject;
    
    // 모든 버튼에서 선택 상태 제거
    document.querySelectorAll('.subject-btn').forEach(btn => {
      btn.classList.remove('border-blue-500', 'bg-blue-50', 'border-green-500', 'bg-green-50', 'border-purple-500', 'bg-purple-50', 'border-orange-500', 'bg-orange-50', 'border-pink-500', 'bg-pink-50');
      btn.classList.add('border-gray-200');
    });
    
    // 선택된 버튼에 선택 상태 추가
    const selectedBtn = document.querySelector(`[data-subject="${subject}"]`);
    const colors = {
      math: 'border-blue-500 bg-blue-50',
      korean: 'border-green-500 bg-green-50',
      english: 'border-purple-500 bg-purple-50',
      science: 'border-orange-500 bg-orange-50',
      social: 'border-pink-500 bg-pink-50'
    };
    
    selectedBtn.classList.remove('border-gray-200');
    selectedBtn.classList.add(...colors[subject].split(' '));
    
    // 그래프 업데이트
    updateChart(subject);
    
    // 오답 내역 필터링
    filterWrongAnswers(subject);
  }

  // 그래프 업데이트
  function updateChart(subject) {
    const chartContainer = document.getElementById('score-chart');
    const scores = scoreData[subject];
    const months = ['2월', '3월', '4월', '5월', '6월', '7월', '8월', '9월', '10월', '11월'];
    
    const subjectNames = {
      math: '수학',
      korean: '국어',
      english: '영어',
      science: '과학',
      social: '사회'
    };
    
    chartContainer.innerHTML = `
      <div class="w-full h-full">
        <div class="text-center mb-4">
          <h4 class="text-lg font-semibold">${subjectNames[subject]} 점수 추이</h4>
          <p class="text-sm text-gray-600">최고점: ${Math.max(...scores)}점 | 평균: ${(scores.reduce((a, b) => a + b, 0) / scores.length).toFixed(1)}점</p>
        </div>
        <div class="flex items-end justify-between h-64 px-4">
          ${scores.map((score, index) => `
            <div class="flex flex-col items-center">
              <div class="w-8 bg-blue-500 rounded-t mb-2 transition-all duration-500" style="height: ${(score / 100) * 200}px"></div>
              <div class="text-xs text-gray-600">${months[index]}</div>
              <div class="text-xs font-semibold text-blue-600">${score}</div>
            </div>
          `).join('')}
        </div>
        <div class="mt-4 text-center">
          <div class="text-sm text-gray-600">
            <span class="inline-block w-3 h-3 bg-blue-500 rounded mr-2"></span>
            점수 추이
          </div>
        </div>
      </div>
    `;
  }

  // 오답 내역 필터링
  function filterWrongAnswers(subject) {
    const wrongAnswerItems = document.querySelectorAll('.wrong-answer-item');
    
    wrongAnswerItems.forEach(item => {
      if (subject === 'all' || item.getAttribute('data-subject') === subject) {
        item.style.display = 'block';
      } else {
        item.style.display = 'none';
      }
    });
  }

  // PDF 출력
  function printReport() {
    if (!selectedSubject) {
      alert('먼저 과목을 선택해주세요.');
      return;
    }
    
    const subjectNames = {
      math: '수학',
      korean: '국어',
      english: '영어',
      science: '과학',
      social: '사회'
    };
    
    if (confirm(`${subjectNames[selectedSubject]} 성적 리포트를 PDF로 출력하시겠습니까?`)) {
      // 실제로는 PDF 생성 로직이 들어갑니다
      alert('PDF 출력 기능은 준비 중입니다.\n현재는 화면 캡처를 이용해주세요.');
    }
  }
</script>

<!-- 식사 신청 모달 -->
<div id="mealModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center p-4">
  <div class="bg-white rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto">
    <div class="p-6 border-b">
      <div class="flex items-center justify-between">
        <h3 class="text-lg font-semibold" id="mealModalTitle">식사 신청</h3>
        <button onclick="closeMealModal()" class="text-gray-400 hover:text-gray-600">
          <i data-lucide="x" class="w-5 h-5"></i>
        </button>
      </div>
    </div>
    <div class="p-6 space-y-4">
      <div class="text-center">
        <div class="w-16 h-16 rounded-full bg-orange-100 flex items-center justify-center mx-auto mb-3">
          <i data-lucide="utensils" class="w-8 h-8 text-orange-600"></i>
        </div>
        <h4 class="text-xl font-semibold text-gray-900" id="mealName">김치찌개 + 밥</h4>
        <p class="text-sm text-gray-600" id="mealType">점심</p>
        <div class="text-2xl font-bold text-orange-600 mt-2" id="mealPrice">₩4,500</div>
      </div>

      <div class="space-y-3">
        <div class="p-4 rounded-xl bg-blue-50 border border-blue-200">
          <div class="flex items-center justify-between">
            <span class="text-sm font-medium text-blue-900">현재 잔액</span>
            <span class="text-lg font-semibold text-blue-600">₩25,000</span>
          </div>
        </div>

        <div class="p-4 rounded-xl bg-gray-50 border border-gray-200">
          <div class="flex items-center justify-between">
            <span class="text-sm font-medium text-gray-900">신청 후 잔액</span>
            <span class="text-lg font-semibold text-gray-600" id="remainingBalance">₩20,500</span>
          </div>
        </div>
      </div>

      <div class="space-y-3">
        <label class="flex items-start gap-3">
          <input type="checkbox" id="mealAgreement" class="mt-1 w-4 h-4 text-orange-600 border-gray-300 rounded focus:ring-orange-500">
          <div class="text-sm text-gray-700">
            <span class="font-medium">식사 신청에 동의합니다.</span>
            <ul class="mt-1 text-xs text-gray-600 space-y-1">
              <li>• 신청 후 취소는 불가능합니다.</li>
              <li>• 식사 시간을 준수해주세요.</li>
              <li>• 잔액이 부족할 경우 신청이 취소됩니다.</li>
            </ul>
          </div>
        </label>
      </div>

      <div class="flex gap-3 pt-4">
        <button onclick="closeMealModal()" class="flex-1 px-4 py-3 rounded-xl border border-gray-300 text-gray-700 hover:bg-gray-50 transition-colors">
          취소
        </button>
        <button onclick="submitMealOrder()" class="flex-1 px-4 py-3 rounded-xl bg-orange-600 text-white hover:bg-orange-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed" id="submitMealBtn" disabled>
          신청하기
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Frespon 암호키 모달 -->
<div id="fresponKeyModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center p-4">
  <div class="bg-white rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto">
    <div class="p-6 border-b bg-gradient-to-r from-purple-50 to-indigo-50">
      <div class="flex items-center justify-between">
        <div class="flex items-center gap-3">
          <div class="w-10 h-10 rounded-lg bg-purple-100 flex items-center justify-center">
            <i data-lucide="shield" class="w-5 h-5 text-purple-600"></i>
          </div>
          <div>
            <h3 class="text-lg font-semibold text-purple-900">Frespon 암호키</h3>
            <p class="text-sm text-purple-700">1회용 방화벽 우회 키</p>
          </div>
        </div>
        <button onclick="closeFresponKeyModal()" class="text-gray-400 hover:text-gray-600">
          <i data-lucide="x" class="w-5 h-5"></i>
        </button>
      </div>
    </div>
    <div class="p-6 space-y-4">
      <div class="text-center">
        <div class="w-16 h-16 rounded-full bg-purple-100 flex items-center justify-center mx-auto mb-3">
          <i data-lucide="key" class="w-8 h-8 text-purple-600"></i>
        </div>
        <h4 class="text-xl font-semibold text-gray-900" id="frespon-key-duration">30분 이용권</h4>
        <p class="text-sm text-gray-600" id="frespon-key-time">2025-01-20 14:00</p>
      </div>

      <div class="space-y-3">
        <div class="p-4 rounded-xl bg-purple-50 border border-purple-200">
          <div class="text-center">
            <div class="text-sm font-medium text-purple-900 mb-2">이용권 ID</div>
            <div class="text-lg font-mono text-purple-600" id="frespon-key-id">FR20250120001</div>
          </div>
        </div>

        <div class="p-4 rounded-xl bg-gray-50 border border-gray-200">
          <div class="text-center">
            <div class="text-sm font-medium text-gray-900 mb-2">1회용 암호키</div>
            <div class="text-2xl font-mono text-gray-900 font-bold tracking-wider" id="frespon-key-value">FR123456789ABC</div>
          </div>
        </div>
      </div>

      <div class="space-y-3">
        <div class="p-3 rounded-xl bg-yellow-50 border border-yellow-200">
          <div class="flex items-start gap-2">
            <i data-lucide="alert-triangle" class="w-4 h-4 text-yellow-600 mt-0.5 flex-shrink-0"></i>
            <div class="text-sm text-yellow-800">
              <div class="font-medium mb-1">사용 안내</div>
              <ul class="text-xs space-y-1">
                <li>• 이 암호키는 1회만 사용 가능합니다.</li>
                <li>• 사용 후 24시간 내에 자동으로 만료됩니다.</li>
                <li>• 부적절한 사용 시 이용권이 취소됩니다.</li>
                <li>• 암호키를 안전하게 보관하세요.</li>
              </ul>
            </div>
          </div>
        </div>
      </div>

      <div class="flex gap-3 pt-4">
        <button onclick="closeFresponKeyModal()" class="flex-1 px-4 py-3 rounded-xl border border-gray-300 text-gray-700 hover:bg-gray-50 transition-colors">
          닫기
        </button>
        <button onclick="copyFresponKey()" class="flex-1 px-4 py-3 rounded-xl bg-purple-600 text-white hover:bg-purple-700 transition-colors">
          <i data-lucide="copy" class="w-4 h-4 inline mr-2"></i>
          암호키 복사
        </button>
      </div>
    </div>
  </div>
</div>

<!-- 장바구니 모달 -->
<div id="cartModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center p-4">
  <div class="bg-white rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto">
    <div class="p-6 border-b flex items-center justify-between">
      <h3 class="text-lg font-semibold">장바구니</h3>
      <button onclick="closeCartModal()" class="p-2 rounded-lg hover:bg-gray-100">
        <i data-lucide="x" class="w-5 h-5"></i>
      </button>
    </div>
    <div class="p-6">
      <div id="cart-items" class="space-y-0">
        <!-- 장바구니 아이템들이 여기에 동적으로 추가됩니다 -->
      </div>
      <div class="mt-6 pt-4 border-t">
        <div class="flex items-center justify-between mb-4">
          <span class="text-lg font-semibold">총 금액</span>
          <span id="cart-total" class="text-xl font-bold text-blue-600">₩0</span>
        </div>
        <div class="flex gap-3">
          <button onclick="closeCartModal()" class="flex-1 px-4 py-3 rounded-xl border border-gray-300 text-gray-700 hover:bg-gray-50">
            계속 쇼핑
          </button>
          <button onclick="buyFromCart()" class="flex-1 px-4 py-3 rounded-xl bg-blue-600 text-white hover:bg-blue-700">
            구매하기
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

</body>
</html>


